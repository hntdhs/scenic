{"ast":null,"code":"var _jsxFileName = \"/Users/mike/Desktop/scenic/src/auth/SignupForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport { useToasts } from 'react-toast-notifications';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction SignupForm(_ref) {\n  _s();\n  let {\n    signup\n  } = _ref;\n  const {\n    addToast\n  } = useToasts();\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\"\n  });\n  const [formErrors, setFormErrors] = useState([]);\n  console.debug(\"SignupForm\", \"signup=\", typeof signup, \"formData=\", formData, \"formErrors=\", formErrors);\n  // question\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    try {\n      debugger;\n      let result = await signup(formData);\n      if (result.success) {\n        history.push(\"/\");\n        //   adding new screen to navigation stack, we're saying go to this url next, adding it to the list of pages visited at the end and going to it\n      } else {}\n    } catch (errors) {\n      if (errors.length > 0) {\n        addToast(errors[0], {\n          appearance: 'error'\n        });\n      }\n      setFormErrors(errors);\n    }\n  }\n  function handleChange(evt) {\n    const {\n      name,\n      value\n    } = evt.target;\n    setFormData(data => ({\n      ...data,\n      [name]: value\n    }));\n    // question\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"SignupForm\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Sign Up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"username\",\n          value: formData.username,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          value: formData.password,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"First name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"firstName\",\n          value: formData.firstName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Last Name\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"lastName\",\n          value: formData.lastName,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          value: formData.email,\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), formErrors.length ? /*#__PURE__*/_jsxDEV(Alert, {\n        type: \"danger\",\n        messages: formErrors\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 23\n      }, this) : null, /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-primary float-right\",\n        onSubmit: handleSubmit,\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n}\n_s(SignupForm, \"R/2siX+QAhTx4JO0tq1uz0HiqxY=\", false, function () {\n  return [useToasts, useHistory];\n});\n_c = SignupForm;\nexport default SignupForm;\nvar _c;\n$RefreshReg$(_c, \"SignupForm\");","map":{"version":3,"names":["React","useState","useHistory","Alert","useToasts","SignupForm","signup","addToast","history","formData","setFormData","username","password","firstName","lastName","email","formErrors","setFormErrors","console","debug","handleSubmit","evt","preventDefault","result","success","push","errors","length","appearance","handleChange","name","value","target","data"],"sources":["/Users/mike/Desktop/scenic/src/auth/SignupForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport { useToasts } from 'react-toast-notifications';\n\n\nfunction SignupForm({ signup }) {\n    const { addToast } = useToasts();\n    const history = useHistory();\n    const [formData, setFormData] = useState({\n      username: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n    });\n    const [formErrors, setFormErrors] = useState([]);\n  \n    console.debug(\n        \"SignupForm\",\n        \"signup=\", typeof signup,\n        \"formData=\", formData,\n        \"formErrors=\", formErrors,\n    );\n    // question\n\n    async function handleSubmit(evt) {\n        evt.preventDefault();\n        try {\n            debugger\n            let result = await signup(formData);\n            if (result.success) {\n                history.push(\"/\");\n        //   adding new screen to navigation stack, we're saying go to this url next, adding it to the list of pages visited at the end and going to it\n            }  else {\n                \n            }\n        } catch  (errors) {\n            if (errors.length > 0) {\n                addToast(errors[0], { appearance: 'error' });\n            }\n            setFormErrors(errors);\n        }\n    }\n\n    function handleChange(evt) {\n        const { name, value } = evt.target;\n        setFormData(data => ({ ...data, [name]: value}));\n        // question\n    }\n\n    return (\n        <div className=\"SignupForm\">\n            <h2>Sign Up</h2>\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-inputs\">\n                    <label>Username</label>\n                    <input\n                        name=\"username\"\n                        value={formData.username}\n                        onChange={handleChange}\n                    />\n                    <label>Password</label>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        value={formData.password}\n                        onChange={handleChange}\n                    />\n                    <label>First name</label>\n                    <input\n                      name=\"firstName\"\n                      value={formData.firstName}\n                      onChange={handleChange}\n                    />\n                    <label>Last Name</label>\n                    <input\n                        name=\"lastName\"\n                        value={formData.lastName}\n                        onChange={handleChange}\n                    />\n                    <label>Email</label>\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={formData.email}\n                        onChange={handleChange}\n                    />\n\n                </div>\n\n                {formErrors.length\n                    ? <Alert type=\"danger\" messages={formErrors} />\n                    : null\n                }\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-primary float-right\"\n                    onSubmit={handleSubmit}\n                >\n                  Submit\n                </button>\n\n            </form>\n        </div>\n    )\n\n\n\n\n}\n\nexport default SignupForm;"],"mappings":"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"},"metadata":{},"sourceType":"module"}