{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mike/Desktop/scenic/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mike/Desktop/scenic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mike/Desktop/scenic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useContext}from\"react\";import{useParams}from\"react-router-dom\";import BywayApi from\"../api/api\";import LoadingSpinner from\"../common/LoadingSpinner\";import UserContext from\"../auth/UserContext\";import Alert from\"../common/Alert\";import{jsx as _jsx}from\"react/jsx-runtime\";function FavoriteAByway(_ref){var id=_ref.id;var _useParams=useParams(),byway=_useParams.byway;var _useContext=useContext(UserContext),currentUser=_useContext.currentUser;// const [favorite, setFavorite] = useState(false);\n// might need state for changing status on page from something that can be favorited to something that has been favorited - parkFavorited, setParkFavorited\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),favorite=_useState2[0],setFavorite=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),hasBeenSet=_useState4[0],setHasBeenSet=_useState4[1];// useEffect(() => {  \n//     async function favorite(currentUser, byway) {\n//         await BywayApi.favoriteAByway(byway);\n//         setFavorite(true);\n//     }\n//     favorite(currentUser, byway);\n// }, []);\nfunction handleSubmit(_x){return _handleSubmit.apply(this,arguments);}//     return (\n//         <div>\n//             <div>\n//                 {/* {setFavorite(id)\n//                     ?\n//                     <Alert messages={[\"Byway added to your favorites.\"]} />\n//                     :  */}\n//                     {/* try in onSubmit? with a state variable that sets whether or not the byway has been favorited */}\n//                     <button onClick={handleSubmit}>\n//                         Add this byway to your favorites\n//                     </button>\n//             </div>\n//         </div>\n//     )\n// }\nfunction _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(evt){return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return BywayApi.favoriteAByway(currentUser.username,id);case 2:setFavorite(id);setHasBeenSet(true);// set state variable to true\ncase 4:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"div\",{children:hasBeenSet?/*#__PURE__*/_jsx(Alert,{messages:[\"Byway added to your favorites.\"]}):/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Add this byway to your favorites\"})});}export default FavoriteAByway;","map":{"version":3,"names":["React","useState","useContext","useParams","BywayApi","LoadingSpinner","UserContext","Alert","FavoriteAByway","id","byway","currentUser","favorite","setFavorite","hasBeenSet","setHasBeenSet","handleSubmit","evt","favoriteAByway","username"],"sources":["/Users/mike/Desktop/scenic/src/actions/FavoriteAByway.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\nimport UserContext from \"../auth/UserContext\";\nimport Alert from \"../common/Alert\";\n\nfunction FavoriteAByway({id}) {\n    const { byway } = useParams();\n    const { currentUser } = useContext(UserContext);\n\n    // const [favorite, setFavorite] = useState(false);\n    // might need state for changing status on page from something that can be favorited to something that has been favorited - parkFavorited, setParkFavorited\n\n    const [favorite, setFavorite] = useState();\n    const [hasBeenSet, setHasBeenSet] = useState(false);\n\n    // useEffect(() => {  \n    //     async function favorite(currentUser, byway) {\n    //         await BywayApi.favoriteAByway(byway);\n    //         setFavorite(true);\n\n    //     }\n    //     favorite(currentUser, byway);\n    // }, []);\n\n    async function handleSubmit(evt) {\n        await BywayApi.favoriteAByway(currentUser.username, id);\n        setFavorite(id);\n        setHasBeenSet(true);\n        // set state variable to true\n    }\n\n//     return (\n//         <div>\n//             <div>\n//                 {/* {setFavorite(id)\n//                     ?\n//                     <Alert messages={[\"Byway added to your favorites.\"]} />\n//                     :  */}\n//                     {/* try in onSubmit? with a state variable that sets whether or not the byway has been favorited */}\n//                     <button onClick={handleSubmit}>\n//                         Add this byway to your favorites\n//                     </button>\n//             </div>\n//         </div>\n//     )\n// }\n\n        return (\n            <div>\n                {hasBeenSet\n                ? (\n                <Alert messages={[\"Byway added to your favorites.\"]} />\n                 ) : (\n                <button onClick={handleSubmit}>\n                    Add this byway to your favorites\n                </button>\n                 )}\n            </div>\n        )\n}\n\nexport default FavoriteAByway;"],"mappings":"gWAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,UAAU,KAAQ,OAAO,CACnD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAOC,SAAQ,KAAM,YAAY,CACjC,MAAOC,eAAc,KAAM,0BAA0B,CACrD,MAAOC,YAAW,KAAM,qBAAqB,CAC7C,MAAOC,MAAK,KAAM,iBAAiB,CAAC,2CAEpC,QAASC,eAAc,MAAO,IAALC,GAAE,MAAFA,EAAE,CACvB,eAAkBN,SAAS,EAAE,CAArBO,KAAK,YAALA,KAAK,CACb,gBAAwBR,UAAU,CAACI,WAAW,CAAC,CAAvCK,WAAW,aAAXA,WAAW,CAEnB;AACA;AAEA,cAAgCV,QAAQ,EAAE,wCAAnCW,QAAQ,eAAEC,WAAW,eAC5B,eAAoCZ,QAAQ,CAAC,KAAK,CAAC,yCAA5Ca,UAAU,eAAEC,aAAa,eAEhC;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA,QAEeC,aAAY,iDAO/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,iGArBI,iBAA4BC,GAAG,0IACrBb,SAAQ,CAACc,cAAc,CAACP,WAAW,CAACQ,QAAQ,CAAEV,EAAE,CAAC,QACvDI,WAAW,CAACJ,EAAE,CAAC,CACfM,aAAa,CAAC,IAAI,CAAC,CACnB;AAAA,sDACH,+CAkBG,mBACI,qBACKD,UAAU,cAEX,KAAC,KAAK,EAAC,QAAQ,CAAE,CAAC,gCAAgC,CAAE,EAAG,cAEvD,eAAQ,OAAO,CAAEE,YAAa,UAAC,kCAE/B,EACE,EACA,CAElB,CAEA,cAAeR,eAAc"},"metadata":{},"sourceType":"module"}