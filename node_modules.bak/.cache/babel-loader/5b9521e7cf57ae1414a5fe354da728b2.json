{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mike/Desktop/scenic/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/mike/Desktop/scenic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/mike/Desktop/scenic/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import{Link}from\"react-router-dom\";import BywayApi from\"../api/api\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function DisplayRandomByway(){var history=useHistory();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),byway=_useState2[0],setByway=_useState2[1];function findOne(){return _findOne.apply(this,arguments);}// moved findOne function out of the useEffect so it's accessible to both the useEffect and handleSubmit\nfunction _findOne(){_findOne=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var byway;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return BywayApi.getRandomByway();case 2:byway=_context.sent;setByway(byway);case 4:case\"end\":return _context.stop();}}},_callee);}));return _findOne.apply(this,arguments);}useEffect(function(){findOne();},[]);function handleSubmit(evt){findOne();}function truncateCharCount(byway){if(byway.description.length>500){return byway.description.slice(0,499)+\"... (continued on byway's page)\";}else{return byway.description;}}return/*#__PURE__*/_jsx(\"div\",{children:byway?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Check out \",byway.name,\" in \",byway.state,\"!\"]}),/*#__PURE__*/_jsx(\"img\",{src:byway.image,alt:byway.name}),/*#__PURE__*/_jsx(\"p\",{children:truncateCharCount(byway)}),/*#__PURE__*/_jsxs(Link,{to:\"/byways/\".concat(byway.name),children:[\"Go to this byway's page to learn more, comment, and favorite \",byway.name,\".\"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Try another byway\"})]}):/*#__PURE__*/_jsx(\"p\",{children:\"the code don't work\"})// pass in large amount of text and be sure it's not longer than 500\n});}export default DisplayRandomByway;","map":{"version":3,"names":["React","useState","useEffect","useHistory","Link","BywayApi","DisplayRandomByway","history","byway","setByway","findOne","getRandomByway","handleSubmit","evt","truncateCharCount","description","length","slice","name","state","image"],"sources":["/Users/mike/Desktop/scenic/src/byways/RandomByway.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\n\nfunction DisplayRandomByway() {\n    const history = useHistory();\n    const [byway, setByway] = useState(null);\n    \n    async function findOne() {\n        let byway = await BywayApi.getRandomByway();\n        setByway(byway);\n    }\n    // moved findOne function out of the useEffect so it's accessible to both the useEffect and handleSubmit\n\n    useEffect(() => {\n\n        findOne();\n    }, [])\n\n    function handleSubmit(evt) {\n        findOne();\n    }\n\n     function truncateCharCount(byway) {\n            if (byway.description.length > 500) {\n                return byway.description.slice(0,499) + \"... (continued on byway's page)\"\n            } else {\n                return byway.description;\n            }\n        }\n\n    return (\n        <div>\n            {byway\n                ? (\n                   <div> \n                    <h1>Check out {byway.name} in {byway.state}!</h1>\n                    <img src={byway.image} alt={byway.name}></img>\n                    <p>{truncateCharCount(byway)}</p>\n                    <Link to={`/byways/${byway.name}`}>Go to this byway's page to learn more, comment, and favorite {byway.name}.</Link>\n                    <br></br><button onClick={handleSubmit}>\n                        Try another byway\n                    </button>\n                    </div>\n                ) : (\n\n                    <p>the code don't work</p>\n                )\n                // pass in large amount of text and be sure it's not longer than 500\n                \n            }\n        </div>\n    )\n}\n\nexport default DisplayRandomByway;"],"mappings":"gWAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,UAAU,KAAQ,kBAAkB,CAC7C,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,SAAQ,KAAM,YAAY,CAAC,wFAElC,QAASC,mBAAkB,EAAG,CAC1B,GAAMC,QAAO,CAAGJ,UAAU,EAAE,CAC5B,cAA0BF,QAAQ,CAAC,IAAI,CAAC,wCAAjCO,KAAK,eAAEC,QAAQ,eAAmB,QAE1BC,QAAO,0CAItB;AAAA,uFAJA,qKACsBL,SAAQ,CAACM,cAAc,EAAE,QAAvCH,KAAK,eACTC,QAAQ,CAACD,KAAK,CAAC,CAAC,sDACnB,0CAGDN,SAAS,CAAC,UAAM,CAEZQ,OAAO,EAAE,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,QAASE,aAAY,CAACC,GAAG,CAAE,CACvBH,OAAO,EAAE,CACb,CAEC,QAASI,kBAAiB,CAACN,KAAK,CAAE,CAC3B,GAAIA,KAAK,CAACO,WAAW,CAACC,MAAM,CAAG,GAAG,CAAE,CAChC,MAAOR,MAAK,CAACO,WAAW,CAACE,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAG,iCAAiC,CAC7E,CAAC,IAAM,CACH,MAAOT,MAAK,CAACO,WAAW,CAC5B,CACJ,CAEJ,mBACI,qBACKP,KAAK,cAEC,oCACC,sBAAI,YAAU,CAACA,KAAK,CAACU,IAAI,CAAC,MAAI,CAACV,KAAK,CAACW,KAAK,CAAC,GAAC,GAAK,cACjD,YAAK,GAAG,CAAEX,KAAK,CAACY,KAAM,CAAC,GAAG,CAAEZ,KAAK,CAACU,IAAK,EAAO,cAC9C,mBAAIJ,iBAAiB,CAACN,KAAK,CAAC,EAAK,cACjC,MAAC,IAAI,EAAC,EAAE,mBAAaA,KAAK,CAACU,IAAI,CAAG,WAAC,+DAA6D,CAACV,KAAK,CAACU,IAAI,CAAC,GAAC,GAAO,cACpH,aAAS,6BAAQ,OAAO,CAAEN,YAAa,UAAC,mBAExC,EAAS,GACH,cAGN,mBAAG,qBAAmB,EAE1B;AAAA,EAGF,CAEd,CAEA,cAAeN,mBAAkB"},"metadata":{},"sourceType":"module"}