{"code":"(this.webpackJsonpscenic=this.webpackJsonpscenic||[]).push([[0],{193:function(e,t,n){},211:function(e,t){},213:function(e,t){},225:function(e,t){},227:function(e,t){},255:function(e,t){},257:function(e,t){},258:function(e,t){},263:function(e,t){},265:function(e,t){},271:function(e,t){},273:function(e,t){},292:function(e,t){},304:function(e,t){},307:function(e,t){},355:function(e,t,n){\"use strict\";n.r(t);var r=n(1),c=n.n(r),a=n(29),s=n.n(a),i=(n(193),n(3)),o=n(5),u=n(4),j=n(8);var l=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=localStorage.getItem(e)||t,c=Object(r.useState)(n),a=Object(u.a)(c,2),s=a[0],i=a[1];return Object(r.useEffect)((function(){console.debug(\"hooks useLocalStorage useEffect\",\"item=\",s),null===s?localStorage.removeItem(e):localStorage.setItem(e,s)}),[e,s]),[s,i]},b=c.a.createContext(),h=n(0);var O=function(e){var t=e.logout,n=Object(r.useContext)(b).currentUser;return console.debug(\"Navigation\",\"currentUser=\",n),Object(h.jsxs)(\"nav\",{children:[Object(h.jsx)(j.b,{to:\"/\",children:\"Scenic Byways\"}),n?Object(h.jsxs)(\"ul\",{children:[Object(h.jsx)(\"li\",{children:Object(h.jsx)(j.c,{to:\"/search\",children:\"View All Byways and Search\"})}),Object(h.jsx)(\"li\",{children:Object(h.jsx)(j.c,{to:\"/states\",children:\"View Byways by State\"})}),Object(h.jsx)(\"li\",{children:Object(h.jsx)(j.c,{to:\"/profile/\".concat(n.username),children:\"Profile\"})}),Object(h.jsx)(\"li\",{children:Object(h.jsx)(j.c,{to:\"/random\",children:\"See a Random Byway\"})}),Object(h.jsx)(\"li\",{children:Object(h.jsx)(j.c,{to:\"/users\",children:\"See All Users\"})}),Object(h.jsx)(\"li\",{children:Object(h.jsxs)(j.b,{to:\"/\",onClick:t,children:[\"Log out \",n.first_name||n.username]})})]}):Object(h.jsxs)(\"ul\",{children:[Object(h.jsx)(\"li\",{children:Object(h.jsx)(j.c,{to:\"/login\",children:\"Login\"})}),Object(h.jsx)(\"li\",{children:Object(h.jsx)(j.c,{to:\"/signup\",children:\"Sign Up\"})})]})]})},d=n(14);var p=function(){var e=Object(r.useContext)(b).currentUser;return console.debug(\"Homepage\",\"currentUser=\",e),Object(h.jsxs)(\"div\",{className:\"Homepage\",children:[Object(h.jsx)(\"h1\",{children:\"NATIONAL SCENIC BYWAYS\"}),e?Object(h.jsxs)(\"h2\",{children:[\"Hello \",e.username,\"!\",Object(h.jsx)(\"br\",{}),Object(h.jsx)(j.b,{to:\"/profile/{currentUser.username}\",children:\"View your profile, \"}),\"or if you haven't made one yet, \",Object(h.jsx)(j.b,{to:\"/profile\",children:\"create and edit your profile here!\"}),Object(h.jsx)(\"br\",{}),Object(h.jsx)(j.b,{to:\"/search\",children:\"See all byways and search using filters here!\"}),Object(h.jsx)(\"br\",{}),Object(h.jsx)(j.b,{to:\"/states\",children:\"See byways by state here!\"}),Object(h.jsx)(\"br\",{}),Object(h.jsx)(j.b,{to:\"/random\",children:\"Or see a byway at random!\"})]}):Object(h.jsxs)(\"p\",{children:[Object(h.jsx)(j.b,{to:\"/login\",children:\"Log in\"}),Object(h.jsx)(j.b,{to:\"/signup\",children:\"Sign up\"})]})]})},f=n(34),x=n(25);var m=function(e){var t=e.type,n=void 0===t?\"danger\":t,r=e.messages,c=void 0===r?[]:r;return console.debug(\"Alert\",\"type=\",n,\"messages=\",c),Object(h.jsx)(\"div\",{className:\"alert alert-\".concat(n),role:\"alert\",children:c.map((function(e){return Object(h.jsx)(\"p\",{className:\"mb-0 small\",children:e},e)}))})},v=n(22);var y=function(e){var t=e.login,n=Object(v.useToasts)().addToast,c=Object(d.g)(),a=Object(r.useState)({username:\"\",password:\"\"}),s=Object(u.a)(a,2),j=s[0],l=s[1],b=Object(r.useState)([]),O=Object(u.a)(b,2),p=O[0],y=O[1];function g(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(Object(i.a)().mark((function e(r){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,t(j);case 4:(a=e.sent).success?c.push(\"/\"):a.errors.forEach((function(e){return n(e,{appearance:\"error\"})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.length>0&&n(e.t0[0],{appearance:\"error\"}),y(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function S(e){var t=e.target,n=t.name,r=t.value;l((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(f.a)({},n,r))}))}return console.debug(\"LoginForm\",\"login=\",typeof t,\"formData=\",j,\"formErrors\",p),Object(h.jsx)(\"div\",{className:\"LoginForm\",children:Object(h.jsxs)(\"div\",{className:\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:[Object(h.jsx)(\"h3\",{className:\"mb-3\",children:\"Log In\"}),Object(h.jsx)(\"div\",{className:\"card\",children:Object(h.jsx)(\"div\",{className:\"card-body\",children:Object(h.jsxs)(\"form\",{onSubmit:g,children:[Object(h.jsxs)(\"div\",{className:\"form-group\",children:[Object(h.jsx)(\"label\",{children:\"Username\"}),Object(h.jsx)(\"input\",{name:\"username\",className:\"form-control\",value:j.username,onChange:S,autoComplete:\"username\",required:!0})]}),Object(h.jsxs)(\"div\",{className:\"form-group\",children:[Object(h.jsx)(\"label\",{children:\"Password\"}),Object(h.jsx)(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:j.password,onChange:S,autoComplete:\"current-password\",required:!0})]}),p.length?Object(h.jsx)(m,{type:\"danger\",messages:p}):null,Object(h.jsx)(\"button\",{className:\"btn btn-primary float-right\",onSubmit:g,children:\"Submit\"})]})})})]})})};var g=function(e){var t=e.signup,n=Object(v.useToasts)().addToast,c=Object(d.g)(),a=Object(r.useState)({username:\"\",password:\"\",firstName:\"\",lastName:\"\",email:\"\"}),s=Object(u.a)(a,2),j=s[0],l=s[1],b=Object(r.useState)([]),O=Object(u.a)(b,2),p=O[0],y=O[1];function g(e){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(Object(i.a)().mark((function e(r){var a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.prev=1,e.next=4,t(j);case 4:(a=e.sent).success?c.push(\"/\"):a.errors.forEach((function(e){return n(e,{appearance:\"error\"})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0.length>0&&n(e.t0[0],{appearance:\"error\"}),y(e.t0);case 12:case\"end\":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function S(e){var t=e.target,n=t.name,r=t.value;l((function(e){return Object(x.a)(Object(x.a)({},e),{},Object(f.a)({},n,r))}))}return console.debug(\"SignupForm\",\"signup=\",typeof t,\"formData=\",j,\"formErrors=\",p),Object(h.jsxs)(\"div\",{className:\"SignupForm\",children:[Object(h.jsx)(\"h2\",{children:\"Sign Up\"}),Object(h.jsxs)(\"form\",{onSubmit:g,children:[Object(h.jsxs)(\"div\",{className:\"form-inputs\",children:[Object(h.jsx)(\"label\",{children:\"Username\"}),Object(h.jsx)(\"input\",{name:\"username\",value:j.username,onChange:S}),Object(h.jsx)(\"label\",{children:\"Password\"}),Object(h.jsx)(\"input\",{type:\"password\",name:\"password\",value:j.password,onChange:S}),Object(h.jsx)(\"label\",{children:\"First name\"}),Object(h.jsx)(\"input\",{name:\"firstName\",value:j.firstName,onChange:S}),Object(h.jsx)(\"label\",{children:\"Last Name\"}),Object(h.jsx)(\"input\",{name:\"lastName\",value:j.lastName,onChange:S}),Object(h.jsx)(\"label\",{children:\"Email\"}),Object(h.jsx)(\"input\",{type:\"email\",name:\"email\",value:j.email,onChange:S})]}),p.length?Object(h.jsx)(m,{type:\"danger\",messages:p}):null,Object(h.jsx)(\"button\",{type:\"submit\",className:\"btn btn-primary float-right\",onSubmit:g,children:\"Submit\"})]})]})},w=n(27),S=n(28),k=n(357),C=Object({NODE_ENV:\"production\",PUBLIC_URL:\"\",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BASE_URL||\"http://localhost:3001\",A=function(){function e(){Object(w.a)(this,e)}return Object(S.a)(e,null,[{key:\"request\",value:function(){var t=Object(o.a)(Object(i.a)().mark((function t(n){var r,c,a,s,o,u,j=arguments;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=j.length>1&&void 0!==j[1]?j[1]:{},c=j.length>2&&void 0!==j[2]?j[2]:\"get\",console.debug(\"API Call:\",n,r,c),a=\"\".concat(C,\"/\").concat(n),s={Authorization:\"Bearer \".concat(e.token)},o=\"get\"===c?r:{},t.prev=6,t.next=9,Object(k.a)({url:a,method:c,data:r,params:o,headers:s});case 9:return t.abrupt(\"return\",t.sent.data);case 12:throw t.prev=12,t.t0=t.catch(6),console.error(\"API Error:\",t.t0),u=t.t0.response.data.error.message,Array.isArray(u)?u:[u];case 17:case\"end\":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}()},{key:\"signup\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"auth/register\",t,\"post\");case 2:return n=e.sent,e.abrupt(\"return\",n.token);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"login\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"auth/token\",t,\"post\");case 2:return n=e.sent,e.abrupt(\"return\",n.token);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getCurrentUser\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"users/\".concat(t));case 2:return n=e.sent,e.abrupt(\"return\",n.user);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getAllStates\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"states\",{name:t});case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getAllUsers\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"users\");case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:\"findBywaysByState\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"states/\".concat(t));case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getAllByways\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"byways\",{name:t});case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"search\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"byways/search\",t);case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getByway\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"byways/\".concat(t));case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"getCommentsByByway\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"byways/\".concat(t,\"/comments\"));case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:\"makeComment\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"byways/\".concat(t,\"/comments\"),{comment:n},\"post\");case 2:return r=e.sent,e.abrupt(\"return\",r);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"favoriteAByway\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"users/\".concat(t,\"/favorites/\").concat(n),{},\"post\");case 2:return r=e.sent,e.abrupt(\"return\",r);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"removeFavorite\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"users/\".concat(t,\"/favorites/\").concat(n),{},\"delete\");case 2:return r=e.sent,e.abrupt(\"return\",r);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"getUserFavorites\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n,r){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"users/\".concat(t,\"/favorites?sort=\").concat(n,\"&direction=\").concat(r));case 2:return c=e.sent,e.abrupt(\"return\",c);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:\"saveProfile\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(t,n){var r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"users/\".concat(t),n,\"patch\");case 2:return r=e.sent,e.abrupt(\"return\",r.user);case 4:case\"end\":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:\"getRandomByway\",value:function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.request(\"byways/random\");case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),N=A,E=function(e){var t=e.value,n=e.limit,c=e.onChange,a=Object(r.useState)(\"\"),s=Object(u.a)(a,2),i=s[0],o=s[1],j=Object(r.useCallback)((function(e){var r=t.slice(0,n);o(r),c(r)}),[n,o]);return Object(r.useEffect)((function(){j(t)}),[t]),Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"textarea\",{onChange:function(e){return j(e.target.value)},value:i}),Object(h.jsxs)(\"p\",{children:[\"Maximum length: \",n,Object(h.jsx)(\"br\",{}),i.length,\"/\",n]})]})};var B=function(){var e=Object(r.useContext)(b),t=e.currentUser,n=e.setCurrentUser,c=Object(d.g)(),a=Object(r.useState)({bio:t.bio||\"\",userLocation:t.userLocation||\"\",favoriteState:t.favoriteState||\"\",profilePhoto:t.profilePhoto||\"\"}),s=Object(u.a)(a,2),j=s[0],l=s[1],O=Object(r.useState)([]),p=Object(u.a)(O,2),v=p[0],y=p[1],g=Object(r.useState)(!1),w=Object(u.a)(g,2),S=w[0],k=w[1];function C(){return(C=Object(o.a)(Object(i.a)().mark((function e(r){var a,s,o;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),a={bio:j.bio,userLocation:j.userLocation,favoriteState:j.favoriteState,profilePhoto:j.profilePhoto},s=t.username,e.prev=3,e.next=6,N.saveProfile(s,a);case 6:o=e.sent,e.next=15;break;case 9:return e.prev=9,e.t0=e.catch(3),console.log(\"errors\",e.t0),y(e.t0),e.abrupt(\"return\");case 15:l((function(e){return Object(x.a)(Object(x.a)({},e),{},{password:\"\"})})),y([]),k(!0),n(o),c.push(\"/profile\");case 20:case\"end\":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function A(e,t){l((function(n){return Object(x.a)(Object(x.a)({},n),{},Object(f.a)({},e,t))})),y([])}return Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"h2\",{children:[\"Hi there, \",t.username,\"! This is where you create and edit your profile.\"]}),Object(h.jsx)(\"h3\",{children:\"Profile\"}),Object(h.jsxs)(\"form\",{children:[Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"label\",{children:\"Bio\"}),Object(h.jsx)(E,{value:j.bio,limit:200,onChange:function(e){return A(\"bio\",e)}})]}),Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"label\",{children:\"Location\"}),Object(h.jsx)(E,{value:j.userLocation,limit:100,onChange:function(e){return A(\"userLocation\",e)}})]}),Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"label\",{children:\"Favorite state to travel to\"}),Object(h.jsx)(E,{value:j.favoriteState,limit:100,onChange:function(e){return A(\"favoriteState\",e)}})]}),Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"label\",{children:\"Profile Photo\"}),Object(h.jsx)(\"input\",{name:\"profilePhoto\",value:j.profilePhoto||\"\",onChange:function(e){return A(\"profilePhoto\",e.target.value)}})]}),v.length?Object(h.jsx)(m,{type:\"danger\",messages:v}):null,S?Object(h.jsx)(m,{type:\"success\",messages:[\"Updated successfully.\"]}):null,Object(h.jsx)(\"button\",{className:\"btn btn-primary btn-block mt-4\",onClick:function(e){return C.apply(this,arguments)},children:\"Save Changes\"})]})]})};var U=function(e){var t=e.name,n=e.designation,r=e.image;return Object(h.jsx)(\"div\",{children:Object(h.jsxs)(j.b,{to:\"/byways/\".concat(t),children:[Object(h.jsx)(\"h3\",{children:t}),Object(h.jsx)(\"img\",{src:r,alt:t}),Object(h.jsx)(\"h4\",{children:n})]})})};var T=function(){var e=Object(d.i)().username,t=Object(v.useToasts)().addToast,n=Object(r.useContext)(b).currentUser,c=Object(r.useState)(!1),a=Object(u.a)(c,2),s=a[0],l=a[1],O=Object(r.useState)({}),p=Object(u.a)(O,2),f=p[0],x=p[1],m=Object(r.useState)([]),y=Object(u.a)(m,2),g=y[0],w=y[1],S=Object(r.useState)(\"name\"),k=Object(u.a)(S,2),C=k[0],A=k[1],E=Object(r.useState)(\"asc\"),B=Object(u.a)(E,2),T=B[0],L=B[1],P=Object(r.useState)([]),F=Object(u.a)(P,2),q=F[0],R=F[1];function _(){return D.apply(this,arguments)}function D(){return D=Object(o.a)(Object(i.a)().mark((function t(){var n;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,N.getUserFavorites(e,C,T);case 2:n=t.sent,w(n);case 4:case\"end\":return t.stop()}}),t)}))),D.apply(this,arguments)}function I(){return I=Object(o.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.removeFavorite(t,n);case 2:_();case 3:case\"end\":return e.stop()}}),e)}))),I.apply(this,arguments)}function W(e,t){return M.apply(this,arguments)}function M(){return(M=Object(o.a)(Object(i.a)().mark((function e(t,n){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:A(t),L(n);case 2:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(r.useEffect)((function(){function n(){return(n=Object(o.a)(Object(i.a)().mark((function n(){var r,c;return Object(i.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=q,n.prev=1,n.next=4,N.getCurrentUser(e);case 4:c=n.sent,x(c),r&&c.errors.forEach((function(e){return t(e,{appearance:\"error\"})})),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),n.t0.length>0&&t(n.t0[0],{appearance:\"error\"}),R(n.t0);case 13:case\"end\":return n.stop()}}),n,null,[[1,9]])})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[e]),Object(r.useEffect)((function(){n&&f&&l(n.username===f.username)}),[f,n]),Object(r.useEffect)((function(){_()}),[C,T]),Object(h.jsxs)(\"div\",{children:[s?Object(h.jsx)(j.c,{to:\"/profile/\",children:\"Edit your profile\"}):\"\",s?Object(h.jsxs)(\"h3\",{children:[\"Welcome to the profile page of \",f.username]}):Object(h.jsxs)(\"h3\",{children:[\"Welcome to the profile page of \",e]}),Object(h.jsx)(\"img\",{src:f.profilePhoto,alt:\"profile photo\"}),Object(h.jsxs)(\"h3\",{children:[\"Location: \",f.userLocation]}),Object(h.jsxs)(\"h3\",{children:[\"Favorite State to Travel To: \",f.favoriteState]}),Object(h.jsxs)(\"p\",{children:[\"Bio: \",f.bio]}),Object(h.jsx)(\"h1\",{children:\"USER FAVORITES\"}),Object(h.jsx)(\"h4\",{children:\"Order favorites by:\"}),\"name\"==C&&\"asc\"==T?Object(h.jsx)(\"button\",{onClick:function(e){return W(\"name\",\"desc\")},children:\"Z-A\"}):Object(h.jsx)(\"button\",{onClick:function(e){return W(\"name\",\"asc\")},children:\"A-Z\"}),Object(h.jsx)(\"button\",{onClick:function(e){return W(\"length\",\"asc\")},children:\"Shortest to Longest\"}),Object(h.jsx)(\"button\",{onClick:function(e){return W(\"length\",\"desc\")},children:\"Longest to Shortest\"}),Object(h.jsx)(\"div\",{children:g.map((function(t){return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(U,{name:t.name,image:t.image,designation:t.designation},t.name+t.state),s?Object(h.jsx)(\"button\",{onClick:function(){return function(e,t){return I.apply(this,arguments)}(e,t.byway_id)},children:\"Remove Favorite\"}):Object(h.jsx)(\"span\",{})]})}))})]})};var L=function(e){var t=Object(r.useState)(!1),n=Object(u.a)(t,2),c=n[0],a=n[1];return Object(h.jsx)(\"div\",{children:Object(h.jsx)(\"label\",{children:Object(h.jsx)(\"input\",{type:\"checkbox\",checked:c,onChange:function(){a(!c),e.onChange({checked:!c,value:e.name})},name:e.name,value:e.name})})})};var P=function(e){var t=e.onChange,n=Object(r.useState)([]),c=Object(u.a)(n,2),a=c[0],s=c[1];Object(r.useEffect)((function(){t(a)}),[a]);var i=function(e){if(e.checked){var t=a.indexOf(e.value);t>-1?(a.splice(t,1),s(a)):(a.push(e.value),s(a))}};return Object(h.jsx)(\"div\",{children:[\"canyon\",\"coastline\",\"desert\",\"forest\",\"grasslands\",\"lake\",\"mountains\",\"swamp\",\"river\",\"urban\"].map((function(e){return Object(h.jsxs)(\"div\",{className:\"single-checkbox\",children:[Object(h.jsx)(\"label\",{htmlFor:e,children:e},e),Object(h.jsx)(L,{onChange:i,name:e})]})}))})};var F=function(e){var t=e.onChange,n=Object(r.useState)([]),c=Object(u.a)(n,2),a=c[0],s=c[1];Object(r.useEffect)((function(){t(a)}),[a]);var i=function(e){if(e.checked){var t=a.indexOf(e.value);t>-1?(a.splice(t,1),s(a)):(a.push(e.value),s(a))}};return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"a\",{href:\"/designations-explanation\",children:\"What are these?\"}),[\"All-American Road\",\"National Scenic Byway\"].map((function(e){return Object(h.jsxs)(\"div\",{className:\"single-checkbox\",children:[Object(h.jsx)(\"label\",{htmlFor:e,children:e},e),Object(h.jsx)(L,{onChange:i,name:e})]})}))]})};var q=function(e){var t=e.searchFor,n=e.filterByways;console.debug(\"SearchForm\",\"searchFor=\",typeof t);var c=Object(r.useState)(\"\"),a=Object(u.a)(c,2),s=a[0],i=a[1],o=Object(r.useState)(0),j=Object(u.a)(o,2),l=j[0],b=j[1],O=Object(r.useState)(\"\"),d=Object(u.a)(O,2),p=d[0],f=d[1],x=Object(r.useState)({}),m=Object(u.a)(x,2),v=m[0],y=m[1],g=Object(r.useState)({}),w=Object(u.a)(g,2),S=w[0],k=w[1];return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"div\",{className:\"all-searches\",children:Object(h.jsxs)(\"form\",{className:\"byway-name-search\",onSubmit:function(e){e.preventDefault(),t(s.trim()||void 0),i(\"\")},children:[Object(h.jsx)(\"p\",{children:\"Search byways by name\"}),Object(h.jsx)(\"label\",{htmlFor:\"searchTerm\",children:\"Byway Name:\"}),Object(h.jsx)(\"input\",{name:\"searchTerm\",placeholder:\"Enter search term..\",onChange:function(e){i(e.target.value)},value:s}),Object(h.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})]})}),Object(h.jsx)(\"div\",{className:\"not-name-searches\",children:Object(h.jsxs)(\"form\",{onSubmit:function(e){e.preventDefault(),n({minLength:l,maxLength:p,geoFeaturesSelect:v,designationSearch:S})},children:[Object(h.jsx)(\"p\",{children:\"Search byways by length. The longest of America's Byways\\xae is the Alaska Marine Highway at 3500 miles!\"}),Object(h.jsx)(\"label\",{htmlFor:\"minLength\",children:\"Minimum Byway Length:\"}),Object(h.jsx)(\"input\",{name:\"minLength\",placeholder:\"how many miles?\",value:l,onChange:function(e){return b(e.target.value)}}),Object(h.jsx)(\"label\",{htmlFor:\"maxLength\",children:\"Maximum Byway Length:\"}),Object(h.jsx)(\"input\",{name:\"maxLength\",placeholder:\"how many miles?\",value:p,onChange:function(e){return f(e.target.value)}}),Object(h.jsx)(\"p\",{children:\"Search byways by geographic features. You'll see byways that contain all entered criteria.\"}),Object(h.jsx)(P,{onChange:y,value:v}),Object(h.jsx)(F,{onChange:k,value:S}),Object(h.jsx)(\"button\",{type:\"submit\",children:\"Submit\"})]})})]})},R=n(74),_=function(e){var t=e.nPages,n=e.currentPage,r=e.setCurrentPage,c=Object(R.a)(Array(t+1).keys()).slice(1);return Object(h.jsx)(\"nav\",{children:Object(h.jsxs)(\"ul\",{children:[Object(h.jsx)(\"li\",{children:Object(h.jsx)(\"a\",{onClick:function(){1!==n&&r(n-1)},href:\"#\",children:\"Previous\"})}),c.map((function(e){return Object(h.jsx)(\"li\",{children:Object(h.jsx)(\"a\",{onClick:function(){return r(e)},href:\"#\",children:e})},e)})),Object(h.jsx)(\"li\",{children:Object(h.jsx)(\"a\",{onClick:function(){n!==t&&r(n+1)},href:\"#\",children:\"Next\"})})]})})};var D=function(){var e=Object(v.useToasts)().addToast,t=Object(r.useState)([]),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(r.useState)([]),j=Object(u.a)(s,2),l=j[0],b=j[1],O=Object(r.useState)([]),p=Object(u.a)(O,2),f=p[0],x=p[1],m=Object(r.useState)(1),y=Object(u.a)(m,2),g=y[0],w=y[1],S=Object(r.useState)(10),k=Object(u.a)(S,1)[0],C=Object(r.useState)(0),A=Object(u.a)(C,2),E=A[0],B=A[1],T=Object(d.g)();function L(){return(L=Object(o.a)(Object(i.a)().mark((function t(n){var r;return Object(i.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=4,N.search(n);case 4:r=t.sent,a(r),r.length||T.push(\"/noresults\"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),t.t0.length>0&&e(t.t0[0],{appearance:\"error\"}),b(t.t0);case 13:case\"end\":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function P(){return P=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.search({name:t});case 2:n=e.sent,a(n),n.length||T.push(\"/noresults\");case 5:case\"end\":return e.stop()}}),e)}))),P.apply(this,arguments)}return Object(r.useEffect)((function(){B(Math.ceil(c.length/k));var e=g*k,t=e-k,n=c.slice(t,e);x(n)}),[c,g]),Object(r.useEffect)((function(){function e(){return e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getAllByways();case 2:t=e.sent,a(t);case 4:case\"end\":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"div\",{children:Object(h.jsx)(q,{searchFor:function(e){return P.apply(this,arguments)},filterByways:function(e){return L.apply(this,arguments)},errors:l})}),Object(h.jsx)(\"div\",{children:f.length>0?Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"div\",{children:f.map((function(e){return Object(h.jsx)(U,{name:e.name,image:e.image,designation:e.designation},e.name+e.state)}))}),Object(h.jsx)(\"div\",{children:Object(h.jsx)(_,{nPages:E,currentPage:g,setCurrentPage:w})})]}):Object(h.jsx)(\"h4\",{children:\"no byways in system.\"})})]})};var I=function(){return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"h1\",{children:\"BIG PROBLEMS! No byways match what you searched for!\"}),Object(h.jsx)(j.c,{to:\"/search\",children:\"Try again! Try harder!\"})]})};var W=function(e){var t=e.exact,n=e.path,c=e.children,a=Object(r.useContext)(b).currentUser;return console.debug(\"PrivateRoute\",\"exact=\",t,\"path=\",n,\"currentUser=\",a),a?Object(h.jsx)(d.b,{exact:t,path:n,children:c}):Object(h.jsx)(d.a,{to:\"/login\"})};var M=function(){return Object(h.jsx)(\"div\",{className:\"LoadingSpinner\",children:\"Loading ...\"})};var H=function(e){var t=e.name,n=e.nickname,r=e.image;return Object(h.jsxs)(j.b,{to:\"/states/\".concat(t),children:[Object(h.jsx)(\"h3\",{children:t}),r,Object(h.jsx)(\"h4\",{children:n})]})};var Y=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){return e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getAllStates();case 2:t=e.sent,c(t);case 4:case\"end\":return e.stop()}}),e)}))),e.apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),n?Object(h.jsx)(\"div\",{children:n.length?Object(h.jsx)(\"div\",{children:n.map((function(e){return Object(h.jsx)(H,{name:e.name,nickname:e.nickname,image:Object(h.jsx)(\"img\",{src:e.image,alt:e.name})},e.name)}))}):Object(h.jsx)(\"h4\",{children:\"Sorry, no results found.\"})}):Object(h.jsx)(M,{})};var V=function(){var e=Object(d.i)().name,t=Object(r.useState)([]),n=Object(u.a)(t,2),c=n[0],a=n[1];return Object(r.useEffect)((function(){function t(){return t=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.findBywaysByState(t);case 2:n=e.sent,a(n);case 4:case\"end\":return e.stop()}}),e)}))),t.apply(this,arguments)}!function(e){t.apply(this,arguments)}(e)}),[e]),Object(h.jsx)(\"div\",{children:c.length?Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"h2\",{children:[\"Check Out the Scenic Drives Available in \",e,\"!\"]}),c.map((function(e){return Object(h.jsx)(U,{name:e.name,image:e.image,designation:e.designation},e.name)}))]}):Object(h.jsxs)(\"h4\",{children:[\"Sorry, \",e,\" has no byways.\"]})})};var z=function(e){var t=e.id,n=e.onAdd,c=(Object(d.i)().byway,Object(r.useContext)(b).currentUser,Object(r.useState)(\"\")),a=Object(u.a)(c,2),s=a[0],j=a[1];function l(){return(l=Object(o.a)(Object(i.a)().mark((function e(r){var c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.makeComment(t,s);case 2:c=e.sent,j(\"\"),n(c);case 5:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(E,{value:s,limit:500,onChange:j}),Object(h.jsx)(\"button\",{onClick:function(e){return l.apply(this,arguments)},children:\"Submit\"})]})};var K=function(e){var t=e.id,n=(Object(d.i)().byway,Object(r.useContext)(b).currentUser),c=Object(r.useState)(),a=Object(u.a)(c,2),s=(a[0],a[1]),j=Object(r.useState)(!1),l=Object(u.a)(j,2),O=l[0],p=l[1];function f(){return(f=Object(o.a)(Object(i.a)().mark((function e(r){return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.favoriteAByway(n.username,t);case 2:s(t),p(!0);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}return Object(h.jsx)(\"div\",{children:O?Object(h.jsx)(m,{messages:[\"Byway added to your favorites.\"]}):Object(h.jsx)(\"button\",{onClick:function(e){return f.apply(this,arguments)},children:\"Add this byway to your favorites\"})})},G=n(186),J=n.n(G);var Z=function(){var e=Object(d.i)().name,t=Object(r.useContext)(b).currentUser,n=Object(v.useToasts)().addToast,c=Object(r.useState)(null),a=Object(u.a)(c,2),s=a[0],j=a[1],l=Object(r.useState)([]),O=Object(u.a)(l,2),p=O[0],f=O[1],x=Object(r.useState)(!1),m=Object(u.a)(x,2),y=m[0],g=m[1];return Object(r.useEffect)((function(){function r(){return r=Object(o.a)(Object(i.a)().mark((function e(r){var c,a;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.getByway(r);case 3:return c=e.sent,j(c),e.next=7,N.getCommentsByByway(c.id);case 7:return a=e.sent,f(a),e.next=11,N.getUserFavorites(t.username,\"name\",\"asc\");case 11:e.sent.find((function(e){return e.byway_id===c.id}))&&g(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),e.t0.length>0&&n(e.t0[0],{appearance:\"error\"});case 18:case\"end\":return e.stop()}}),e,null,[[0,15]])}))),r.apply(this,arguments)}!function(e){r.apply(this,arguments)}(e)}),[e]),Object(h.jsx)(\"div\",{children:s?Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"h1\",{children:s.name}),Object(h.jsx)(\"img\",{src:s.image,alt:s.name}),Object(h.jsx)(\"h2\",{children:s.state}),Object(h.jsxs)(\"h3\",{children:[s.length,\" miles / \",Math.round(1.60934*parseFloat(s.length)),\" kilometres\"]}),Object(h.jsxs)(\"p\",{children:[Object(h.jsx)(\"b\",{children:\"Fees:\"}),\" \",s.fees]}),Object(h.jsxs)(\"p\",{children:[Object(h.jsx)(\"b\",{children:\"Wondering what kind of natural settings you'll see on this byway?\"}),\" \",function(e){var t=e.geographicFeatures,n=(t=t[0].toUpperCase()+t.slice(1)).split(\",\");if(n.length>=3)return n.slice(0,n.length-1).join(\", \")+\" and \"+n[n.length-1];if(2===n.length){var r=n[0]+\" and\"+n[1];return r.charAt(0).toUpperCase()+r.slice(1)}return 1===n.length?n[0]:\"No geographic features have been verified for this byway.\"}(s),\".\"]}),Object(h.jsxs)(\"p\",{children:[Object(h.jsxs)(\"b\",{children:[\"About \",s.name]}),Object(h.jsx)(\"br\",{}),s.description]}),!0===y?Object(h.jsx)(\"h4\",{children:\"Byway is in your favorites\"}):Object(h.jsx)(K,{id:s.id}),Object(h.jsxs)(\"h4\",{children:[\"Comment on \",s.name]}),Object(h.jsx)(z,{name:s.name,id:s.id,onAdd:function(e){var t=[].concat(Object(R.a)(p),[e]);f(t)}}),Object(h.jsx)(\"div\",{children:p?Object(h.jsx)(\"div\",{children:p.map((function(e,t){return Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"h4\",{children:[\"User \",Object(h.jsx)(\"a\",{href:\"/profile/\".concat(e.username),children:e.username}),\" said this at \",J()(e.create_at).format(\"MM/DD/YYYY hh:mm a\"),\":\"]}),Object(h.jsx)(\"p\",{children:e.comment})]},t)}))}):Object(h.jsx)(\"p\",{children:\"no one has commented\"})})]}):Object(h.jsx)(\"h1\",{children:\"no byway by that name\"})})};var $=function(){Object(d.g)();var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],c=t[1];function a(){return s.apply(this,arguments)}function s(){return s=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getRandomByway();case 2:t=e.sent,c(t);case 4:case\"end\":return e.stop()}}),e)}))),s.apply(this,arguments)}return Object(r.useEffect)((function(){a()}),[]),Object(h.jsx)(\"div\",{children:n?Object(h.jsxs)(\"div\",{children:[Object(h.jsxs)(\"h1\",{children:[\"Check out \",n.name,\" in \",n.state,\"!\"]}),Object(h.jsx)(\"img\",{src:n.image,alt:n.name}),Object(h.jsx)(\"p\",{children:function(e){return e.description.length>500?e.description.slice(0,499)+\"... (continued on byway's page)\":e.description}(n)}),Object(h.jsxs)(j.b,{to:\"/byways/\".concat(n.name),children:[\"Go to this byway's page to learn more, comment, and favorite \",n.name,\".\"]}),Object(h.jsx)(\"br\",{}),Object(h.jsx)(\"button\",{onClick:function(e){a()},children:\"Try another byway\"})]}):Object(h.jsx)(\"p\",{children:\"the code don't work\"})})};var Q=function(){return Object(h.jsxs)(\"div\",{children:[Object(h.jsx)(\"p\",{children:'To be designated as a National Scenic Byway, a byway must meet the criteria for at least one of six \"intrinsic qualities\": archeological, cultural, historic, natural, recreational, and scenic. The features contributing to the distinctive characteristics of the corridor\\u2019s intrinsic quality are recognized throughout the region and are considered regionally significant.'}),Object(h.jsx)(\"br\",{}),Object(h.jsx)(\"p\",{children:'To be designated as an All-American Road, a byway must meet criteria for at least two intrinsic qualities that are nationally significant and have one-of-a-kind features that do not exist elsewhere. The road or highway must also be considered a \"destination unto itself.\" That is, the road must provide an exceptional traveling experience so recognized by travelers that they would make a drive along the highway a primary reason for their trip.'})]})};var X=function(){var e=Object(r.useState)(\"\"),t=Object(u.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(Object(i.a)().mark((function e(){var t;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.getAllUsers();case 2:t=e.sent,c(t.users);case 4:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(h.jsx)(\"div\",{children:n.length?n.map((function(e,t){return Object(h.jsx)(\"div\",{children:Object(h.jsx)(\"a\",{href:\"/profile/\".concat(e.username),children:e.username},t)})})):Object(h.jsx)(\"h4\",{children:\"Sorry, no results found.\"})})};var ee=function(e){var t=e.login,n=e.signup;return console.debug(\"Routes\",\"login=\".concat(typeof t),\"register=\".concat(typeof register)),Object(h.jsx)(\"div\",{children:Object(h.jsxs)(d.d,{children:[Object(h.jsx)(d.b,{exact:!0,path:\"/\",children:Object(h.jsx)(p,{})}),Object(h.jsx)(d.b,{exact:!0,path:\"/login\",children:Object(h.jsx)(y,{login:t})}),Object(h.jsx)(d.b,{exact:!0,path:\"/signup\",children:Object(h.jsx)(g,{signup:n})}),Object(h.jsx)(W,{exact:!0,path:\"/search\",children:Object(h.jsx)(D,{})}),Object(h.jsx)(W,{exact:!0,path:\"/noresults\",children:Object(h.jsx)(I,{})}),Object(h.jsx)(W,{exact:!0,path:\"/designations-explanation\",children:Object(h.jsx)(Q,{})}),Object(h.jsx)(W,{exact:!0,path:\"/users\",children:Object(h.jsx)(X,{})}),Object(h.jsx)(W,{exact:!0,path:\"/profile\",children:Object(h.jsx)(B,{})}),Object(h.jsx)(W,{path:\"/profile/:username\",children:Object(h.jsx)(T,{})}),Object(h.jsx)(W,{exact:!0,path:\"/browse\",children:Object(h.jsx)(D,{})}),Object(h.jsx)(W,{exact:!0,path:\"/states\",children:Object(h.jsx)(Y,{})}),Object(h.jsx)(W,{exact:!0,path:\"/states/:name\",children:Object(h.jsx)(V,{})}),Object(h.jsx)(W,{exact:!0,path:\"/byways/:name\",children:Object(h.jsx)(Z,{})}),Object(h.jsx)(W,{exact:!0,path:\"/random\",children:Object(h.jsx)($,{})}),Object(h.jsx)(d.a,{to:\"/\"})]})})},te=n(187),ne=n.n(te),re=function(e){var t=e.children,n=Object(d.h)().pathname;return Object(r.useEffect)((function(){window.scrollTo(0,0)}),[n]),t||null};var ce=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(new Set([])),s=Object(u.a)(a,2),d=(s[0],s[1],Object(r.useState)(null)),p=Object(u.a)(d,2),f=p[0],x=p[1],m=l(\"scenic-token\"),y=Object(u.a)(m,2),g=y[0],w=y[1];function S(){x(null),w(null)}function k(){return(k=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.signup(t);case 3:return n=e.sent,w(n),e.abrupt(\"return\",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),console.error(\"signup failed\",e.t0),e.abrupt(\"return\",{success:!1,errors:e.t0});case 12:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function C(){return(C=Object(o.a)(Object(i.a)().mark((function e(t){var n;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.login(t);case 3:return n=e.sent,w(n),e.abrupt(\"return\",{success:!0});case 8:return e.prev=8,e.t0=e.catch(0),console.error(\"login failed\",e.t0),e.abrupt(\"return\",{success:!1,errors:e.t0});case 12:case\"end\":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return console.debug(\"App\",\"infoLoaded=\",n,\"currentUser=\",f,\"token=\",g),Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(Object(i.a)().mark((function e(){var t,n,r;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=14;break}return e.prev=1,t=ne.a.decode(g),n=t.username,N.token=g,e.next=6,N.getCurrentUser(n);case 6:r=e.sent,x(r),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(\"App loadUserInfo: problem loading\",e.t0),x(null);case 14:c(!0);case 15:case\"end\":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}console.debug(\"App useEffect loadUserInfo\",\"token=\",g),c(!1),function(){e.apply(this,arguments)}()}),[g]),n?Object(h.jsx)(j.a,{children:Object(h.jsx)(v.ToastProvider,{children:Object(h.jsx)(re,{children:Object(h.jsx)(b.Provider,{value:{currentUser:f,setCurrentUser:x},children:Object(h.jsxs)(\"div\",{className:\"App\",children:[Object(h.jsx)(O,{logout:S}),Object(h.jsx)(ee,{login:function(e){return C.apply(this,arguments)},signup:function(e){return k.apply(this,arguments)},logout:S})]})})})})}):Object(h.jsx)(M,{})};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(h.jsx)(ce,{}),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[355,1,2]]]);","name":"static/js/main.a99e5efa.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","regeneratorRuntime","asyncToGenerator","slicedToArray","react_router_dom","hooks_useLocalStorage","key","firstValue","arguments","length","undefined","initialValue","localStorage","getItem","_useState","Object","_useState2","item","setItem","console","debug","removeItem","auth_UserContext","a","createContext","jsx_runtime","routes_nav_Navigation","_ref","logout","currentUser","children","to","concat","username","onClick","first_name","react_router","homepage_Homepage","className","defineProperty","objectSpread2","common_Alert","_ref$type","type","_ref$messages","messages","role","map","error","dist","auth_LoginForm","login","addToast","history","password","formData","setFormData","_useState3","_useState4","formErrors","setFormErrors","handleSubmit","_x","_handleSubmit","apply","mark","_callee","evt","result","wrap","_context","prev","next","preventDefault","sent","success","errors","forEach","i","appearance","t0","stop","handleChange","_evt$target","target","name","value","l","onSubmit","onChange","autoComplete","required","auth_SignupForm","signup","firstName","lastName","email","data","classCallCheck","createClass","axios","BASE_URL","NODE_ENV","PUBLIC_URL","WDS_SOCKET_HOST","WDS_SOCKET_PATH","WDS_SOCKET_PORT","FAST_REFRESH","REACT_APP_BASE_URL","api_BywayApi","BywayApi","_request","endpoint","method","url","headers","params","message","_args","Authorization","token","abrupt","response","Array","isArray","_signup","_callee2","res","_context2","request","_x2","_login","_callee3","_context3","_x3","_getCurrentUser","_callee4","_context4","user","_x4","_getAllStates","_callee5","_context5","_x5","_getAllUsers","_callee6","_context6","_findBywaysByState","_callee7","_context7","_x6","_getAllByways","_callee8","_context8","_x7","_search","_callee9","_context9","_x8","_getByway","_callee10","_context10","_x9","_getCommentsByByway","_callee11","id","_context11","_x10","_makeComment","_callee12","comment","_context12","_x11","_x12","_favoriteAByway","_callee13","_context13","_x13","_x14","_removeFavorite","_callee14","_context14","_x15","_x16","_getUserFavorites","_callee15","sortField","sortDirection","_context15","_x17","_x18","_x19","_saveProfile","_callee16","_context16","_x20","_x21","_getRandomByway","_callee17","_context17","api","common_LimitedTextArea","limit","content","setContent","setFormattedContent","text","limitedContent","slice","event","profiles_ProfileForm","_useContext","setCurrentUser","bio","userLocation","favoriteState","profilePhoto","_useState5","_useState6","saveConfirmed","setSaveConfirmed","profileData","updatedUser","saveProfile","log","f","newValue","byways_BywayCard","designation","image","src","alt","ProfilePage","isMe","setIsMe","profileInfo","setProfileInfo","userFavorites","setUserFavorites","_useState7","_useState8","sortBy","setSortBy","_useState9","_useState10","setSortDirection","_useState11","_useState12","getUserFavorites","byway_id","removeFavorite","handleSubmitSortBy","_handleSubmitSortBy","direction","_getUserInfo","_profileInfo","getCurrentUser","getUserInfo","e","state","search_Checkbox","props","checked","setChecked","search_GeographicFeaturesSearch","selected","setSelected","changeHandler","index","indexOf","splice","c","htmlFor","search_DesignationSearch","href","search_SearchForm","searchFor","filterByways","searchTerm","setSearchTerm","minLength","setMinLength","maxLength","setMaxLength","geoFeaturesSelect","setGeoFeaturesSelect","designationSearch","setDesignationSearch","trim","placeholder","toConsumableArray","common_Pagination","nPages","currentPage","setCurrentPage","pageNumbers","keys","pgNumber","search_FilterSearch","byways","setByways","setErrors","currentByWays","setCurrentByWays","bywaysPerPage","setNPages","_filterByways","filters","_byways","search","Math","ceil","indexOfLastByway","indexOfFirstByway","currentByways","_getBywaysForDisplay","getAllByways","getBywaysForDisplay","s","NoSearchResults","routes_nav_PrivateRoute","exact","path","common_LoadingSpinner","byways_StateCard","nickname","byways_StateMenu","states","setStates","_getStates","getAllStates","getStates","byways_StateDetail","stateByways","setStateByways","_getStateDetail","findBywaysByState","getStateDetail","actions_CommentForm","onAdd","byway","setComment","makeComment","actions_FavoriteAByway","setFavorite","hasBeenSet","setHasBeenSet","favoriteAByway","moment","moment_default","byways_BywayDetail","setByway","comments","setComments","isFavorite","setIsFavorite","b","getByway","getCommentsByByway","find","round","parseFloat","fees","tempString","geographicFeatures","splitted","toUpperCase","split","join","newString","charAt","checkGeoFeaturesLength","description","updatedComments","create_at","format","RandomByway","findOne","_findOne","getRandomByway","truncateCharCount","search_DesignationExplanation","profiles_UsersList","users","setUsers","_getUsers","u","getAllUsers","getUsers","routes_nav_Routes","register","jsonwebtoken","jsonwebtoken_default","common_ScrollToTop","pathname","window","scrollTo","src_App","infoLoaded","setInfoLoaded","Set","_useLocalStorage","_useLocalStorage2","setToken","signupData","_token","loginData","_token2","_jwt$decode","_currentUser","decode","Provider","Boolean","location","hostname","match","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"sources":["static/js/main.a99e5efa.chunk.js"],"mappings":"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"},"input":"(this[\"webpackJsonpscenic\"] = this[\"webpackJsonpscenic\"] || []).push([[0],{\n\n/***/ 193:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 211:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 213:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 225:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 227:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 255:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 257:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 258:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 263:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 265:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 271:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 273:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 304:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 307:\n/***/ (function(module, exports) {\n\n/* (ignored) */\n\n/***/ }),\n\n/***/ 355:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(29);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(193);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\nvar regeneratorRuntime = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(4);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(8);\n\n// CONCATENATED MODULE: ./src/hooks/useLocalStorage.js\n/** Custom hook for keeping state data synced with localStorage.\n *\n * This creates `item` as state and look in localStorage for current value\n * (if not found, defaults to `firstValue`)\n *\n * When `item` changes, effect re-runs:\n * - if new state is null, removes from localStorage\n * - else, updates localStorage\n *\n * To the component, this just acts like state that is also synced to/from\n * localStorage::\n *\n *   const [myThing, setMyThing] = useLocalStorage(\"myThing\")\n */function useLocalStorage(key){var firstValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var initialValue=localStorage.getItem(key)||firstValue;var _useState=Object(react[\"useState\"])(initialValue),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),item=_useState2[0],setItem=_useState2[1];Object(react[\"useEffect\"])(function setKeyInLocalStorage(){console.debug(\"hooks useLocalStorage useEffect\",\"item=\",item);if(item===null){localStorage.removeItem(key);}else{localStorage.setItem(key,item);}},[key,item]);return[item,setItem];}/* harmony default export */ var hooks_useLocalStorage = (useLocalStorage);\n// CONCATENATED MODULE: ./src/auth/UserContext.js\n/** Context: provides currentUser object and setter for it throughout app. */var UserContext=/*#__PURE__*/react_default.a.createContext();/* harmony default export */ var auth_UserContext = (UserContext);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/routes-nav/Navigation.js\n// import \"./Navigation.css\";\n/** Navigation bar for site. Shows up on every page.\n *\n * When user is logged in, shows links to main areas of site. When not,\n * shows link to Login and Signup forms.\n *\n * Rendered by App.\n */function Navigation(_ref){var logout=_ref.logout;var _useContext=Object(react[\"useContext\"])(auth_UserContext),currentUser=_useContext.currentUser;console.debug(\"Navigation\",\"currentUser=\",currentUser);function loggedInNav(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/search\",children:\"View All Byways and Search\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/states\",children:\"View Byways by State\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/profile/\".concat(currentUser.username),children:\"Profile\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/random\",children:\"See a Random Byway\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/users\",children:\"See All Users\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",onClick:logout,children:[\"Log out \",currentUser.first_name||currentUser.username]})})]});}function loggedOutNav(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/login\",children:\"Login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/signup\",children:\"Sign Up\"})})]});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"nav\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:\"Scenic Byways\"}),currentUser?loggedInNav():loggedOutNav()]});}/* harmony default export */ var routes_nav_Navigation = (Navigation);\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(14);\n\n// CONCATENATED MODULE: ./src/homepage/Homepage.js\n// import \"./Homepage.css\";\nfunction Homepage(){var _useContext=Object(react[\"useContext\"])(auth_UserContext),currentUser=_useContext.currentUser;console.debug(\"Homepage\",\"currentUser=\",currentUser);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"Homepage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"NATIONAL SCENIC BYWAYS\"}),currentUser?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Hello \",currentUser.username,\"!\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile/{currentUser.username}\",children:\"View your profile, \"}),\"or if you haven't made one yet, \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile\",children:\"create and edit your profile here!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/search\",children:\"See all byways and search using filters here!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/states\",children:\"See byways by state here!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/random\",children:\"Or see a byway at random!\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/login\",children:\"Log in\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/signup\",children:\"Sign up\"})]})]});}/* harmony default export */ var homepage_Homepage = (Homepage);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(34);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(25);\n\n// CONCATENATED MODULE: ./src/common/Alert.js\n/** Presentational component for showing bootstrap-style alerts.\n *\n * { LoginForm, SignupForm, ProfileForm } -> Alert\n **/function Alert(_ref){var _ref$type=_ref.type,type=_ref$type===void 0?\"danger\":_ref$type,_ref$messages=_ref.messages,messages=_ref$messages===void 0?[]:_ref$messages;console.debug(\"Alert\",\"type=\",type,\"messages=\",messages);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"alert alert-\".concat(type),role:\"alert\",children:messages.map(function(error){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"mb-0 small\",children:error},error);})});}/* harmony default export */ var common_Alert = (Alert);\n// EXTERNAL MODULE: ./node_modules/react-toast-notifications/dist/index.js\nvar dist = __webpack_require__(22);\n\n// CONCATENATED MODULE: ./src/auth/LoginForm.js\n/** Login form.\n *\n * Shows form and manages update to state on changes.\n * On submission:\n * - calls login function prop\n * - redirects to /companies route\n *\n * Routes -> LoginForm -> Alert\n * Routed as /login\n */function LoginForm(_ref){var login=_ref.login;var _useToasts=Object(dist[\"useToasts\"])(),addToast=_useToasts.addToast;var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])({username:\"\",password:\"\"}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];console.debug(\"LoginForm\",\"login=\",typeof login,\"formData=\",formData,\"formErrors\",formErrors);/** Handle form submit:\n   *\n   * Calls login func prop and, if successful, redirect to /companies.\n   */function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}/** Update form data field */function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(evt){var result;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.prev=1;_context.next=4;return login(formData);case 4:result=_context.sent;if(result.success){history.push(\"/\");}else{result.errors.forEach(function(i){return addToast(i,{appearance:'error'});});}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);if(_context.t0.length>0){addToast(_context.t0[0],{appearance:'error'});}setFormErrors(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setFormData(function(l){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},l),{},Object(defineProperty[\"a\" /* default */])({},name,value));});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"LoginForm\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"mb-3\",children:\"Log In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"card-body\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"username\",className:\"form-control\",value:formData.username,onChange:handleChange,autoComplete:\"username\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",className:\"form-control\",value:formData.password,onChange:handleChange,autoComplete:\"current-password\",required:true})]}),formErrors.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary float-right\",onSubmit:handleSubmit,children:\"Submit\"})]})})})]})});}/* harmony default export */ var auth_LoginForm = (LoginForm);\n// CONCATENATED MODULE: ./src/auth/SignupForm.js\nfunction SignupForm(_ref){var signup=_ref.signup;var _useToasts=Object(dist[\"useToasts\"])(),addToast=_useToasts.addToast;var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])({username:\"\",password:\"\",firstName:\"\",lastName:\"\",email:\"\"}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];console.debug(\"SignupForm\",\"signup=\",typeof signup,\"formData=\",formData,\"formErrors=\",formErrors);function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(evt){var result;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();_context.prev=1;_context.next=4;return signup(formData);case 4:result=_context.sent;if(result.success){history.push(\"/\");//   adding new screen to navigation stack, we're saying go to this url next, adding it to the list of pages visited at the end and going to it\n}else{result.errors.forEach(function(i){return addToast(i,{appearance:'error'});});}_context.next=12;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);if(_context.t0.length>0){addToast(_context.t0[0],{appearance:'error'});}setFormErrors(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[1,8]]);}));return _handleSubmit.apply(this,arguments);}function handleChange(evt){var _evt$target=evt.target,name=_evt$target.name,value=_evt$target.value;setFormData(function(data){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},data),{},Object(defineProperty[\"a\" /* default */])({},name,value));});// question\n}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"SignupForm\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-inputs\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"username\",value:formData.username,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",name:\"password\",value:formData.password,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"First name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"firstName\",value:formData.firstName,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Last Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"lastName\",value:formData.lastName,onChange:handleChange}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",name:\"email\",value:formData.email,onChange:handleChange})]}),formErrors.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_Alert,{type:\"danger\",messages:formErrors}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"btn btn-primary float-right\",onSubmit:handleSubmit,children:\"Submit\"})]})]});}/* harmony default export */ var auth_SignupForm = (SignupForm);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\nvar classCallCheck = __webpack_require__(27);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/createClass.js\nvar createClass = __webpack_require__(28);\n\n// EXTERNAL MODULE: ./node_modules/axios/lib/axios.js + 34 modules\nvar axios = __webpack_require__(357);\n\n// CONCATENATED MODULE: ./src/api/api.js\nvar BASE_URL=Object({\"NODE_ENV\":\"production\",\"PUBLIC_URL\":\"\",\"WDS_SOCKET_HOST\":undefined,\"WDS_SOCKET_PATH\":undefined,\"WDS_SOCKET_PORT\":undefined,\"FAST_REFRESH\":true}).REACT_APP_BASE_URL||\"http://localhost:3001\";// ask about static async request method in jobly api, or look up where it's used\nvar api_BywayApi=/*#__PURE__*/function(){function BywayApi(){Object(classCallCheck[\"a\" /* default */])(this,BywayApi);}Object(createClass[\"a\" /* default */])(BywayApi,null,[{key:\"request\",value:// token for interacting with the API\nfunction(){var _request=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(endpoint){var data,method,url,headers,params,message,_args=arguments;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=_args.length>1&&_args[1]!==undefined?_args[1]:{};method=_args.length>2&&_args[2]!==undefined?_args[2]:\"get\";console.debug(\"API Call:\",endpoint,data,method);url=\"\".concat(BASE_URL,\"/\").concat(endpoint);headers={Authorization:\"Bearer \".concat(BywayApi.token)};params=method===\"get\"?data:{};_context.prev=6;_context.next=9;return Object(axios[\"a\" /* default */])({url:url,method:method,data:data,params:params,headers:headers});case 9:return _context.abrupt(\"return\",_context.sent.data);case 12:_context.prev=12;_context.t0=_context[\"catch\"](6);console.error(\"API Error:\",_context.t0);message=_context.t0.response.data.error.message;throw Array.isArray(message)?message:[message];case 17:case\"end\":return _context.stop();}}},_callee,null,[[6,12]]);}));function request(_x){return _request.apply(this,arguments);}return request;}()},{key:\"signup\",value:function(){var _signup=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(data){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.request(\"auth/register\",data,\"post\");case 2:res=_context2.sent;return _context2.abrupt(\"return\",res.token);case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function signup(_x2){return _signup.apply(this,arguments);}return signup;}()},{key:\"login\",value:function(){var _login=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(data){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.request(\"auth/token\",data,\"post\");case 2:res=_context3.sent;return _context3.abrupt(\"return\",res.token);case 4:case\"end\":return _context3.stop();}}},_callee3,this);}));function login(_x3){return _login.apply(this,arguments);}return login;}()},{key:\"getCurrentUser\",value:function(){var _getCurrentUser=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee4(username){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return this.request(\"users/\".concat(username));case 2:res=_context4.sent;return _context4.abrupt(\"return\",res.user);case 4:case\"end\":return _context4.stop();}}},_callee4,this);}));function getCurrentUser(_x4){return _getCurrentUser.apply(this,arguments);}return getCurrentUser;}()},{key:\"getAllStates\",value:function(){var _getAllStates=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee5(name){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return this.request(\"states\",{name:name});case 2:res=_context5.sent;return _context5.abrupt(\"return\",res);case 4:case\"end\":return _context5.stop();}}},_callee5,this);}));function getAllStates(_x5){return _getAllStates.apply(this,arguments);}return getAllStates;}()},{key:\"getAllUsers\",value:function(){var _getAllUsers=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee6(){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return this.request('users');case 2:res=_context6.sent;return _context6.abrupt(\"return\",res);case 4:case\"end\":return _context6.stop();}}},_callee6,this);}));function getAllUsers(){return _getAllUsers.apply(this,arguments);}return getAllUsers;}()},{key:\"findBywaysByState\",value:function(){var _findBywaysByState=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee7(name){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return this.request(\"states/\".concat(name));case 2:res=_context7.sent;return _context7.abrupt(\"return\",res);case 4:case\"end\":return _context7.stop();}}},_callee7,this);}));function findBywaysByState(_x6){return _findBywaysByState.apply(this,arguments);}return findBywaysByState;}()},{key:\"getAllByways\",value:function(){var _getAllByways=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee8(name){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return this.request(\"byways\",{name:name});case 2:res=_context8.sent;return _context8.abrupt(\"return\",res);case 4:case\"end\":return _context8.stop();}}},_callee8,this);}));function getAllByways(_x7){return _getAllByways.apply(this,arguments);}return getAllByways;}()},{key:\"search\",value:function(){var _search=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee9(params){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return this.request(\"byways/search\",params);case 2:res=_context9.sent;return _context9.abrupt(\"return\",res);case 4:case\"end\":return _context9.stop();}}},_callee9,this);}));function search(_x8){return _search.apply(this,arguments);}return search;}()},{key:\"getByway\",value:function(){var _getByway=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee10(name){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return this.request(\"byways/\".concat(name));case 2:res=_context10.sent;return _context10.abrupt(\"return\",res);case 4:case\"end\":return _context10.stop();}}},_callee10,this);}));function getByway(_x9){return _getByway.apply(this,arguments);}return getByway;}()},{key:\"getCommentsByByway\",value:function(){var _getCommentsByByway=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee11(id){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return this.request(\"byways/\".concat(id,\"/comments\"));case 2:res=_context11.sent;return _context11.abrupt(\"return\",res);case 4:case\"end\":return _context11.stop();}}},_callee11,this);}));function getCommentsByByway(_x10){return _getCommentsByByway.apply(this,arguments);}return getCommentsByByway;}()},{key:\"makeComment\",value:function(){var _makeComment=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee12(id,comment){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return this.request(\"byways/\".concat(id,\"/comments\"),{comment:comment},\"post\");case 2:res=_context12.sent;return _context12.abrupt(\"return\",res);case 4:case\"end\":return _context12.stop();}}},_callee12,this);}));function makeComment(_x11,_x12){return _makeComment.apply(this,arguments);}return makeComment;}()},{key:\"favoriteAByway\",value:function(){var _favoriteAByway=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee13(username,id){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return this.request(\"users/\".concat(username,\"/favorites/\").concat(id),{},\"post\");case 2:res=_context13.sent;return _context13.abrupt(\"return\",res);case 4:case\"end\":return _context13.stop();}}},_callee13,this);}));function favoriteAByway(_x13,_x14){return _favoriteAByway.apply(this,arguments);}return favoriteAByway;}()},{key:\"removeFavorite\",value:function(){var _removeFavorite=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee14(username,id){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return this.request(\"users/\".concat(username,\"/favorites/\").concat(id),{},\"delete\");case 2:res=_context14.sent;return _context14.abrupt(\"return\",res);case 4:case\"end\":return _context14.stop();}}},_callee14,this);}));function removeFavorite(_x15,_x16){return _removeFavorite.apply(this,arguments);}return removeFavorite;}()},{key:\"getUserFavorites\",value:function(){var _getUserFavorites=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee15(username,sortField,sortDirection){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return this.request(\"users/\".concat(username,\"/favorites?sort=\").concat(sortField,\"&direction=\").concat(sortDirection));case 2:res=_context15.sent;return _context15.abrupt(\"return\",res);case 4:case\"end\":return _context15.stop();}}},_callee15,this);}));function getUserFavorites(_x17,_x18,_x19){return _getUserFavorites.apply(this,arguments);}return getUserFavorites;}()},{key:\"saveProfile\",value:function(){var _saveProfile=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee16(username,data){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return this.request(\"users/\".concat(username),data,\"patch\");case 2:res=_context16.sent;return _context16.abrupt(\"return\",res.user);case 4:case\"end\":return _context16.stop();}}},_callee16,this);}));function saveProfile(_x20,_x21){return _saveProfile.apply(this,arguments);}return saveProfile;}()},{key:\"getRandomByway\",value:function(){var _getRandomByway=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee17(){var res;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return this.request(\"byways/random\");case 2:res=_context17.sent;return _context17.abrupt(\"return\",res);case 4:case\"end\":return _context17.stop();}}},_callee17,this);}));function getRandomByway(){return _getRandomByway.apply(this,arguments);}return getRandomByway;}()}]);return BywayApi;}();/* harmony default export */ var api = (api_BywayApi);\n// CONCATENATED MODULE: ./src/common/LimitedTextArea.js\nvar LimitedTextArea_LimitedTextArea=function LimitedTextArea(_ref){var value=_ref.value,limit=_ref.limit,onChange=_ref.onChange;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),content=_useState2[0],setContent=_useState2[1];var setFormattedContent=Object(react[\"useCallback\"])(function(text){// const limitedContent = text.slice(0, limit)\nvar limitedContent=value.slice(0,limit);setContent(limitedContent);onChange(limitedContent);},[limit,setContent]);// useCallback is used to isolate resource intensive functions so that they won't automatically run on every render; it only runs when one of its dependencies update - I thought useEffects run every time one of its dependencies updates? What's the difference?\nObject(react[\"useEffect\"])(function(){setFormattedContent(value);},[value]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{onChange:function onChange(event){return setFormattedContent(event.target.value);},value:content}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Maximum length: \",limit,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),content.length,\"/\",limit]})]});};/* harmony default export */ var common_LimitedTextArea = (LimitedTextArea_LimitedTextArea);\n// CONCATENATED MODULE: ./src/hooks/useTimedMessage.js\n/** Custom hook for managing \"flash\" messages.\n *\n * This adds an item in state, `active`, which can be controlled by the\n * component as desired. The component would typically `setActive(true)`\n * to start displaying the message, and after `timeInMsec`, active would\n * go back to false, which would typically stop showing the message.\n *\n * In the component::\n *\n *   const [myMsgFlag, setMyMsgFlag] = useTimedMessage();\n *\n *   function somethingDidntWork() {\n *     setMsgFlag(true);\n *   }\n *\n *   return (\n *     {myMsgFlag ? <p>Oh No!</p> : null}\n *   )\n *\n * While this hook was written for showing flash messages, it's really just\n * a hook for timed state clearing -- this same pattern could be useful for\n * other tasks.\n *\n */function useTimedMessage(){var timeInMsec=arguments.length>0&&arguments[0]!==undefined?arguments[0]:3000;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),active=_useState2[0],setActive=_useState2[1];var messageShownRef=Object(react[\"useRef\"])(false);Object(react[\"useEffect\"])(function showSavedMessage(){console.debug(\"useTimedMessage useEffect showSavedMessage\",\"active=\",active);if(active&&!messageShownRef.current){messageShownRef.current=true;setTimeout(function removeMessage(){setActive(false);messageShownRef.current=false;},timeInMsec);}},[active,timeInMsec]);return[active,setActive];}/* harmony default export */ var hooks_useTimedMessage = (useTimedMessage);\n// CONCATENATED MODULE: ./src/profiles/ProfileForm.js\n// eslint-disable-next-line\n/** Profile editing form.\n *\n * Displays profile form and handles changes to local form state.\n * Submitting the form calls the API to save, and triggers user reloading\n * throughout the site.\n *\n * Confirmation of a successful save is normally a simple <Alert>, but\n * you can opt-in to our fancy limited-time-display message hook,\n * `useTimedMessage`, but switching the lines below.\n *\n * Routed as /profile\n * Routes -> ProfileForm -> Alert\n */function ProfileForm(){var _useContext=Object(react[\"useContext\"])(auth_UserContext),currentUser=_useContext.currentUser,setCurrentUser=_useContext.setCurrentUser;var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])({bio:currentUser.bio||\"\",userLocation:currentUser.userLocation||\"\",favoriteState:currentUser.favoriteState||\"\",profilePhoto:currentUser.profilePhoto||\"\"}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),formErrors=_useState4[0],setFormErrors=_useState4[1];// switch to use our fancy limited-time-display message hook\nvar _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),saveConfirmed=_useState6[0],setSaveConfirmed=_useState6[1];// const [saveConfirmed, setSaveConfirmed] = useTimedMessage()\n/** on form submit:\n   * - attempt save to backend & report any errors\n   * - if successful\n   *   - clear previous error messages and password\n   *   - show save-confirmed message\n   *   - set current user info throughout the site\n   */function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}/** Handle form data changing */function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(evt){var profileData,username,updatedUser;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:evt.preventDefault();profileData={bio:formData.bio,userLocation:formData.userLocation,favoriteState:formData.favoriteState,profilePhoto:formData.profilePhoto};username=currentUser.username;_context.prev=3;_context.next=6;return api.saveProfile(username,profileData);case 6:updatedUser=_context.sent;_context.next=15;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](3);console.log('errors',_context.t0);debugger;setFormErrors(_context.t0);return _context.abrupt(\"return\");case 15:setFormData(function(f){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},f),{},{password:\"\"});});setFormErrors([]);setSaveConfirmed(true);// trigger reloading of user information throughout the site\nsetCurrentUser(updatedUser);history.push(\"/profile\");case 20:case\"end\":return _context.stop();}}},_callee,null,[[3,9]]);}));return _handleSubmit.apply(this,arguments);}function handleChange(name,value){// console.log(evt)\n// const { name, value } = evt.target;\nsetFormData(function(f){return Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},f),{},Object(defineProperty[\"a\" /* default */])({},name,value));});setFormErrors([]);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Hi there, \",currentUser.username,\"! This is where you create and edit your profile.\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Bio\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_LimitedTextArea,{value:formData.bio,limit:200,onChange:function onChange(newValue){return handleChange('bio',newValue);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Location\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_LimitedTextArea,{value:formData.userLocation,limit:100,onChange:function onChange(newValue){return handleChange('userLocation',newValue);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Favorite state to travel to\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_LimitedTextArea,{value:formData.favoriteState,limit:100,onChange:function onChange(newValue){return handleChange('favoriteState',newValue);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Profile Photo\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"profilePhoto\",value:formData.profilePhoto||\"\",onChange:function onChange(event){return handleChange('profilePhoto',event.target.value);}})]}),formErrors.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_Alert,{type:\"danger\",messages:formErrors}):null,saveConfirmed?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_Alert,{type:\"success\",messages:[\"Updated successfully.\"]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"btn btn-primary btn-block mt-4\",onClick:handleSubmit,children:\"Save Changes\"})]})]});}/* harmony default export */ var profiles_ProfileForm = (ProfileForm);\n// CONCATENATED MODULE: ./src/byways/BywayCard.js\n// name, nickname and image are state info, not byways - (name, state, length, designation, fees, image, description, geographic_features)\nfunction BywayCard(_ref){var name=_ref.name,designation=_ref.designation,image=_ref.image;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/byways/\".concat(name),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:image,alt:name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:designation})]})});}/* harmony default export */ var byways_BywayCard = (BywayCard);\n// CONCATENATED MODULE: ./src/profiles/ProfilePage.js\n// import { getUserFavorites } from \"../../backend/models/user\";\nfunction ShowUserProfile(){var _useParams=Object(react_router[\"i\" /* useParams */])(),username=_useParams.username;var _useToasts=Object(dist[\"useToasts\"])(),addToast=_useToasts.addToast;var _useContext=Object(react[\"useContext\"])(auth_UserContext),currentUser=_useContext.currentUser;var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isMe=_useState2[0],setIsMe=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),profileInfo=_useState4[0],setProfileInfo=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),userFavorites=_useState6[0],setUserFavorites=_useState6[1];var _useState7=Object(react[\"useState\"])('name'),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),sortBy=_useState8[0],setSortBy=_useState8[1];var _useState9=Object(react[\"useState\"])('asc'),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),sortDirection=_useState10[0],setSortDirection=_useState10[1];var _useState11=Object(react[\"useState\"])([]),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),formErrors=_useState12[0],setFormErrors=_useState12[1];function getUserFavorites(){return _getUserFavorites.apply(this,arguments);}function _getUserFavorites(){_getUserFavorites=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(){var userFavorites;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.getUserFavorites(username,sortBy,sortDirection);case 2:userFavorites=_context2.sent;setUserFavorites(userFavorites);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _getUserFavorites.apply(this,arguments);}Object(react[\"useEffect\"])(function(){function getUserInfo(){return _getUserInfo.apply(this,arguments);}function _getUserInfo(){_getUserInfo=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var errors,_profileInfo;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:errors=formErrors;// attempted fix \n_context.prev=1;_context.next=4;return api.getCurrentUser(username);case 4:_profileInfo=_context.sent;setProfileInfo(_profileInfo);if(errors){_profileInfo.errors.forEach(function(i){return addToast(i,{appearance:'error'});});}_context.next=13;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](1);if(_context.t0.length>0){addToast(_context.t0[0],{appearance:'error'});}setFormErrors(_context.t0);case 13:case\"end\":return _context.stop();}}},_callee,null,[[1,9]]);}));return _getUserInfo.apply(this,arguments);}getUserInfo();},[username]);Object(react[\"useEffect\"])(function(){if(currentUser&&profileInfo){setIsMe(currentUser.username===profileInfo.username);}},[profileInfo,currentUser]);Object(react[\"useEffect\"])(function(){// moved this to the top outside a useEffect to make it accessible to handleSubmitSortBy, but ended up not using it there, so could go back into this useEffect. don't think it matters if it's defined here or up top.\n// async function getUserFavorites() {\n//     let userFavorites = await BywayApi.getUserFavorites(username);\n//     setUserFavorites(userFavorites);\n// }\ngetUserFavorites();},[sortBy,sortDirection]);// handleSubmit for removal button in map\n// tell the function which byway is being removed by passing it into an anonymous function in the button's onClick below\nfunction handleSubmit(_x,_x2){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(username,byway_id){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.removeFavorite(username,byway_id);case 2:getUserFavorites();case 3:case\"end\":return _context3.stop();}}},_callee3);}));return _handleSubmit.apply(this,arguments);}function handleSubmitSortBy(_x3,_x4){return _handleSubmitSortBy.apply(this,arguments);}function _handleSubmitSortBy(){_handleSubmitSortBy=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee4(sortField,direction){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:setSortBy(sortField);setSortDirection(direction);// sortField and direction get passed here from the onClick in JSX\ncase 2:case\"end\":return _context4.stop();}}},_callee4);}));return _handleSubmitSortBy.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[isMe?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/profile/\",children:\"Edit your profile\"}):'',isMe?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"Welcome to the profile page of \",profileInfo.username]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"Welcome to the profile page of \",username]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:profileInfo.profilePhoto,alt:\"profile photo\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"Location: \",profileInfo.userLocation]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"Favorite State to Travel To: \",profileInfo.favoriteState]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[\"Bio: \",profileInfo.bio]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"USER FAVORITES\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Order favorites by:\"}),sortBy=='name'&&sortDirection=='asc'?/*#__PURE__*/ // these are the initial states for sortBy and sortDirection\nObject(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return handleSubmitSortBy('name','desc');},children:\"Z-A\"}):/*#__PURE__*/ // button starts as Z-A because byways are initially A-Z, so if user wanted to reverse order from that, button should be the opposite of what's initally shown\nObject(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return handleSubmitSortBy('name','asc');},children:\"A-Z\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return handleSubmitSortBy('length','asc');},children:\"Shortest to Longest\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(e){return handleSubmitSortBy('length','desc');},children:\"Longest to Shortest\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:userFavorites.map(function(f){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(byways_BywayCard,{name:f.name,image:f.image,designation:f.designation},f.name+f.state),isMe?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:function onClick(){return handleSubmit(username,f.byway_id);},children:\"Remove Favorite\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{})]});})})]});// currentUser wouldn't work right if someone is looking at a different user's profile?\n// maybe instead of BywayApi.getCurrentUser(username), BywayApi.getProfileInfo(username from params?)\n// need to create some profiles to have a better look\n}/* harmony default export */ var ProfilePage = (ShowUserProfile);\n// CONCATENATED MODULE: ./src/search/Checkbox.js\nfunction Checkbox(props){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),checked=_useState2[0],setChecked=_useState2[1];var handleChange=function handleChange(){setChecked(!checked);props.onChange({'checked':!checked,'value':props.name});};// wasn't handling the useState or handleChange here before and it didn't work; always best to handle it more directly like this\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"checkbox\",checked:checked,onChange:handleChange,name:props.name,value:props.name})})});};/* harmony default export */ var search_Checkbox = (Checkbox);\n// CONCATENATED MODULE: ./src/search/GeographicFeaturesSearch.js\nfunction GeographicFeaturesSearch(_ref){var onChange=_ref.onChange;var categories=['canyon','coastline','desert','forest','grasslands','lake','mountains','swamp','river','urban'];var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selected=_useState2[0],setSelected=_useState2[1];// didn't work properly without doing the useState and useEffect and changeHandler here and instead doing it in the SearchForm component where it's called\nObject(react[\"useEffect\"])(function(){onChange(selected);},[selected]);var changeHandler=function changeHandler(props){if(props.checked){var index=selected.indexOf(props.value);if(index>-1){selected.splice(index,1);setSelected(selected);}else{selected.push(props.value);setSelected(selected);}// this is creating an array, checking to be sure that what's selected isn't already in the array then adding\n// this is used in SearchForm so that's where the value prop is given - value={geoFeaturesSelect}\n}};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:categories.map(function(c){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-checkbox\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:c,children:c},c),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(search_Checkbox,{onChange:changeHandler,name:c})]});})});}/* harmony default export */ var search_GeographicFeaturesSearch = (GeographicFeaturesSearch);\n// CONCATENATED MODULE: ./src/search/DesignationSearch.js\nfunction DesignationSearch(_ref){var onChange=_ref.onChange;var categories=['All-American Road','National Scenic Byway'];var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),selected=_useState2[0],setSelected=_useState2[1];Object(react[\"useEffect\"])(function(){onChange(selected);},[selected]);var changeHandler=function changeHandler(props){if(props.checked){var index=selected.indexOf(props.value);if(index>-1){selected.splice(index,1);setSelected(selected);}else{selected.push(props.value);setSelected(selected);}// this is used in SearchForm so that's where the value prop is given - value={geoFeaturesSelect}\n}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/designations-explanation\",children:\"What are these?\"}),categories.map(function(c){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"single-checkbox\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:c,children:c},c),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(search_Checkbox,{onChange:changeHandler,name:c})]});})]});}/* harmony default export */ var search_DesignationSearch = (DesignationSearch);\n// CONCATENATED MODULE: ./src/search/SearchForm.js\n// import \"./SearchForm.css\";\n/** Search widget.\n *\n * This component doesn't *do* the searching, but it renders the search\n * form and calls the `searchFor` function prop that runs in a parent to do the\n * searching.\n *\n * { CompanyList, JobList } -> SearchForm\n */function SearchForm(_ref){var searchFor=_ref.searchFor,filterByways=_ref.filterByways;// searchFor and filterByways are defined in FilterSearch (searchFor as search); when that component calls this one, those become useable here\nconsole.debug(\"SearchForm\",\"searchFor=\",typeof searchFor);var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),minLength=_useState4[0],setMinLength=_useState4[1];var _useState5=Object(react[\"useState\"])(\"\"),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),maxLength=_useState6[0],setMaxLength=_useState6[1];var _useState7=Object(react[\"useState\"])({}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),geoFeaturesSelect=_useState8[0],setGeoFeaturesSelect=_useState8[1];var _useState9=Object(react[\"useState\"])({}),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),designationSearch=_useState10[0],setDesignationSearch=_useState10[1];// added the geoFeaturesSelect useState, setGeoFeaturesSelect gets set in the onChange in GeographicFeaturesSearch (passed in when that component is called in the JSX below in this component)\n/** Tell parent to filter */function handleSubmit(evt){// take care of accidentally trying to search for just spaces\nevt.preventDefault();searchFor(searchTerm.trim()||undefined);setSearchTerm('');}function handleSubmitFilter(e){e.preventDefault();filterByways({minLength:minLength,maxLength:maxLength,geoFeaturesSelect:geoFeaturesSelect,designationSearch:designationSearch});}// handles submit for searches involving filters, i.e. not searching by name. sends filters for search over to FilterSearch, which is where filterByways is defined\n// e comes from the onChange in min and max length's onChange; different from other filters because it's a value the user is typing in rather than a checkbox\n/** Update form fields */function handleChange(evt){setSearchTerm(evt.target.value);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"all-searches\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"byway-name-search\",onSubmit:handleSubmit,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Search byways by name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"searchTerm\",children:\"Byway Name:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"searchTerm\"// through the handleSubmit and its searchFor, the input's name makes it over to the search function in FilterSearch\n,placeholder:\"Enter search term..\",onChange:handleChange,value:searchTerm}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"not-name-searches\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:handleSubmitFilter,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Search byways by length. The longest of America's Byways\\xAE is the Alaska Marine Highway at 3500 miles!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"minLength\",children:\"Minimum Byway Length:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"minLength\",placeholder:\"how many miles?\",value:minLength,onChange:function onChange(e){return setMinLength(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"maxLength\",children:\"Maximum Byway Length:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{name:\"maxLength\",placeholder:\"how many miles?\",value:maxLength,onChange:function onChange(e){return setMaxLength(e.target.value);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"Search byways by geographic features. You'll see byways that contain all entered criteria.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(search_GeographicFeaturesSearch,{onChange:setGeoFeaturesSelect,value:geoFeaturesSelect}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(search_DesignationSearch,{onChange:setDesignationSearch,value:designationSearch}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Submit\"})]})})]});}/* harmony default export */ var search_SearchForm = (SearchForm);\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(74);\n\n// CONCATENATED MODULE: ./src/common/Pagination.js\nvar Pagination_Pagination=function Pagination(_ref){var nPages=_ref.nPages,currentPage=_ref.currentPage,setCurrentPage=_ref.setCurrentPage;var pageNumbers=Object(toConsumableArray[\"a\" /* default */])(Array(nPages+1).keys()).slice(1);var nextPage=function nextPage(){if(currentPage!==nPages)setCurrentPage(currentPage+1);};var prevPage=function prevPage(){if(currentPage!==1)setCurrentPage(currentPage-1);};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{onClick:prevPage,href:\"#\",children:\"Previous\"})}),pageNumbers.map(function(pgNumber){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{onClick:function onClick(){return setCurrentPage(pgNumber);},href:\"#\",children:pgNumber})},pgNumber);}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{onClick:nextPage,href:\"#\",children:\"Next\"})})]})});// check right number of pages and that next button appears where it should and doesn't appear when it shouldn't\n};/* harmony default export */ var common_Pagination = (Pagination_Pagination);\n// CONCATENATED MODULE: ./src/search/FilterSearch.js\n// search via filters, go to browse by state, go to display and search users\nfunction FilterSearch(){var _useToasts=Object(dist[\"useToasts\"])(),addToast=_useToasts.addToast;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),byways=_useState2[0],setByways=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),errors=_useState4[0],setErrors=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),currentByWays=_useState6[0],setCurrentByWays=_useState6[1];var _useState7=Object(react[\"useState\"])(1),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),currentPage=_useState8[0],setCurrentPage=_useState8[1];var _useState9=Object(react[\"useState\"])(10),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,1),bywaysPerPage=_useState10[0];var _useState11=Object(react[\"useState\"])(0),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),nPages=_useState12[0],setNPages=_useState12[1];var history=Object(react_router[\"g\" /* useHistory */])();Object(react[\"useEffect\"])(function(){setNPages(Math.ceil(byways.length/bywaysPerPage));var indexOfLastByway=currentPage*bywaysPerPage;var indexOfFirstByway=indexOfLastByway-bywaysPerPage;var currentByways=byways.slice(indexOfFirstByway,indexOfLastByway);setCurrentByWays(currentByways);},[byways,currentPage]);// every time currentPage changes, the useEffect runs\nObject(react[\"useEffect\"])(function(){function getBywaysForDisplay(){return _getBywaysForDisplay.apply(this,arguments);}function _getBywaysForDisplay(){_getBywaysForDisplay=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var byways;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.getAllByways();case 2:byways=_context.sent;setByways(byways);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getBywaysForDisplay.apply(this,arguments);}getBywaysForDisplay();},[]);// display error to user - try/catch?\nfunction filterByways(_x){return _filterByways.apply(this,arguments);}function _filterByways(){_filterByways=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(filters){var _byways;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;debugger;_context2.next=4;return api.search(filters);case 4:_byways=_context2.sent;setByways(_byways);if(!_byways.length){history.push(\"/noresults\");}_context2.next=13;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);if(_context2.t0.length>0){addToast(_context2.t0[0],{appearance:'error'});// can add error messaging/alerts with Toast before anything is sent to the back, like so:\n//addToast(\"your search term must be more than 3 characters\", { appearance: 'error' });\n}setErrors(_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}));return _filterByways.apply(this,arguments);}function search(_x2){return _search.apply(this,arguments);}function _search(){_search=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(name){var byways;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.search({name:name});case 2:byways=_context3.sent;setByways(byways);if(!byways.length){history.push(\"/noresults\");// Alert type=\"success\" messages={[\"Updated successfully.\"]} \n}case 5:case\"end\":return _context3.stop();}}},_callee3);}));return _search.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(search_SearchForm,{searchFor:search,filterByways:filterByways,errors:errors})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:currentByWays.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:currentByWays.map(function(s){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(byways_BywayCard,{name:s.name,image:s.image,designation:s.designation},s.name+s.state);})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_Pagination,{nPages:nPages,currentPage:currentPage,setCurrentPage:setCurrentPage})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"no byways in system.\"})})]});}/* harmony default export */ var search_FilterSearch = (FilterSearch);\n// CONCATENATED MODULE: ./src/common/NoSearchResults.js\nfunction BackToSearch(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"BIG PROBLEMS! No byways match what you searched for!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/search\",children:\"Try again! Try harder!\"})]});};/* harmony default export */ var NoSearchResults = (BackToSearch);\n// CONCATENATED MODULE: ./src/routes-nav/PrivateRoute.js\n/** \"Higher-Order Component\" for private routes.\n *\n * In routing component, use these instead of <Route ...>. This component\n * will check if there is a valid current user and only continues to the\n * route if so. If no user is present, redirects to login form.\n */function PrivateRoute(_ref){var exact=_ref.exact,path=_ref.path,children=_ref.children;var _useContext=Object(react[\"useContext\"])(auth_UserContext),currentUser=_useContext.currentUser;console.debug(\"PrivateRoute\",\"exact=\",exact,\"path=\",path,\"currentUser=\",currentUser);if(!currentUser){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/login\"});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:exact,path:path,children:children});}/* harmony default export */ var routes_nav_PrivateRoute = (PrivateRoute);\n// CONCATENATED MODULE: ./src/common/LoadingSpinner.js\n// import \"./LoadingSpinner.css\";\n/** Loading message used by components that fetch API data. */function LoadingSpinner(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"LoadingSpinner\",children:\"Loading ...\"});}/* harmony default export */ var common_LoadingSpinner = (LoadingSpinner);\n// CONCATENATED MODULE: ./src/byways/StateCard.js\nfunction StateCard(_ref){var name=_ref.name,nickname=_ref.nickname,image=_ref.image;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/states/\".concat(name),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:name}),image,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:nickname})]});}/* harmony default export */ var byways_StateCard = (StateCard);\n// CONCATENATED MODULE: ./src/byways/StateMenu.js\nfunction StateMenu(){var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),states=_useState2[0],setStates=_useState2[1];Object(react[\"useEffect\"])(function(){function getStates(){return _getStates.apply(this,arguments);}function _getStates(){_getStates=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var states;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.getAllStates();case 2:states=_context.sent;setStates(states);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getStates.apply(this,arguments);}getStates();},[]);if(!states)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_LoadingSpinner,{});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:states.length// states.length > 0\n?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:states.map(function(s){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(byways_StateCard,{name:s.name,nickname:s.nickname,image:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:s.image,alt:s.name})},s.name);})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Sorry, no results found.\"})});}/* harmony default export */ var byways_StateMenu = (StateMenu);\n// CONCATENATED MODULE: ./src/byways/StateDetail.js\n// shows cards of each byway that's in the state\n// the issue is that i don't know how to do 'if byway is in this state, return it so it can be displayed on this page'. i don't see where in jobly it does 'if job is from this company return it so it can be displayed on company page.' (looks like it's in the models folder in the backend)\n// has to load all the byways that are in this state - thinking something like 'return byways where state = x’ -  but where does this go? somewhere in the backend i'm sure. should there be a getBywaysByState method in api? otherwise it's basically the same as CompanyList\n// checkout the routes folder in jobly backend, there's a lot in there i haven't done for scenic that needs doing that could be causing problems\nfunction StateDetail(){var _useParams=Object(react_router[\"i\" /* useParams */])(),name=_useParams.name;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),stateByways=_useState2[0],setStateByways=_useState2[1];Object(react[\"useEffect\"])(function(){function getStateDetail(_x){return _getStateDetail.apply(this,arguments);}function _getStateDetail(){_getStateDetail=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(name){var stateByways;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.findBywaysByState(name);case 2:stateByways=_context.sent;setStateByways(stateByways);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getStateDetail.apply(this,arguments);}getStateDetail(name);},[name]);// if (stateByways.length === 0) return <LoadingSpinner />;\n// if I just link to the same 404 page that byway detail links to then it won't say 'this state doesn't have any byways'\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:stateByways.length// states.length > 0\n?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h2\",{children:[\"Check Out the Scenic Drives Available in \",name,\"!\"]}),stateByways.map(function(s){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(byways_BywayCard,{name:s.name,image:s.image,designation:s.designation},s.name);})]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{children:[\"Sorry, \",name,\" has no byways.\"]})});}/* harmony default export */ var byways_StateDetail = (StateDetail);// this should be byway information, not state 0 look at CompanyDetail\n// export default function (props) {\n//     let { state } = useParams();\n//     const routeParams = useParams();\n//     console.log('state', routeParams);\n//     const [stateData, setStateData] = useState({})\n//     useEffect(() => {\n//         // stateData = BywayApi.getState\n//         // setStateData(stateData)\n//         setStateData(BywayApi.getState(routeParams.name).then(e => {\n//             console.log(e)\n//         }))\n//     }, [routeParams?.name])\n//     // why the question mark?\n//     // if (routeParams?.name) {\n//     //     return <div>{routeParams.name}</div>;\n//     // } else {\n//     //     return <span></span>;\n//     // }\n// }\n// CONCATENATED MODULE: ./src/actions/CommentForm.js\n// don't forget link to edit, plus a ternary operator that displays a 'you haven't created a profile' message if there's nothing to display - was I going to make a table for profile data as opposed to user data?\n// call api for user info, should be same as jobly\nfunction CommentForm(_ref){var id=_ref.id,onAdd=_ref.onAdd;var _useParams=Object(react_router[\"i\" /* useParams */])(),byway=_useParams.byway;// byway I think since that's what's in the URL\nvar _useContext=Object(react[\"useContext\"])(auth_UserContext),currentUser=_useContext.currentUser;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),comment=_useState2[0],setComment=_useState2[1];function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(evt){var response;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.makeComment(id,comment);case 2:response=_context.sent;// setComment('');\nsetComment('');onAdd(response);// getCommentsByByway(byway);\ncase 5:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_LimitedTextArea,{value:comment,limit:500,onChange:setComment}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleSubmit,children:\"Submit\"})]});}/* harmony default export */ var actions_CommentForm = (CommentForm);\n// CONCATENATED MODULE: ./src/actions/FavoriteAByway.js\nfunction FavoriteAByway(_ref){var id=_ref.id;var _useParams=Object(react_router[\"i\" /* useParams */])(),byway=_useParams.byway;var _useContext=Object(react[\"useContext\"])(auth_UserContext),currentUser=_useContext.currentUser;// const [favorite, setFavorite] = useState(false);\n// might need state for changing status on page from something that can be favorited to something that has been favorited - parkFavorited, setParkFavorited\nvar _useState=Object(react[\"useState\"])(),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),favorite=_useState2[0],setFavorite=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),hasBeenSet=_useState4[0],setHasBeenSet=_useState4[1];// useEffect(() => {  \n//     async function favorite(currentUser, byway) {\n//         await BywayApi.favoriteAByway(byway);\n//         setFavorite(true);\n//     }\n//     favorite(currentUser, byway);\n// }, []);\nfunction handleSubmit(_x){return _handleSubmit.apply(this,arguments);}//     return (\n//         <div>\n//             <div>\n//                 {/* {setFavorite(id)\n//                     ?\n//                     <Alert messages={[\"Byway added to your favorites.\"]} />\n//                     :  */}\n//                     {/* try in onSubmit? with a state variable that sets whether or not the byway has been favorited */}\n//                     <button onClick={handleSubmit}>\n//                         Add this byway to your favorites\n//                     </button>\n//             </div>\n//         </div>\n//     )\n// }\nfunction _handleSubmit(){_handleSubmit=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(evt){return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.favoriteAByway(currentUser.username,id);case 2:setFavorite(id);setHasBeenSet(true);// set state variable to true\ncase 4:case\"end\":return _context.stop();}}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:hasBeenSet?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_Alert,{messages:[\"Byway added to your favorites.\"]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleSubmit,children:\"Add this byway to your favorites\"})});}/* harmony default export */ var actions_FavoriteAByway = (FavoriteAByway);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(186);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n\n// CONCATENATED MODULE: ./src/byways/BywayDetail.js\n// see Moment docs on display for how to format comment dates/times in different ways\nfunction BywayDetail(){var _useParams=Object(react_router[\"i\" /* useParams */])(),name=_useParams.name;var _useContext=Object(react[\"useContext\"])(auth_UserContext),currentUser=_useContext.currentUser;var _useToasts=Object(dist[\"useToasts\"])(),addToast=_useToasts.addToast;var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),byway=_useState2[0],setByway=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),comments=_useState4[0],setComments=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),isFavorite=_useState6[0],setIsFavorite=_useState6[1];Object(react[\"useEffect\"])(function(){function getByway(_x){return _getByway.apply(this,arguments);}function _getByway(){_getByway=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(name){var b,c,favorites;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return api.getByway(name);case 3:b=_context.sent;setByway(b);_context.next=7;return api.getCommentsByByway(b.id);case 7:c=_context.sent;setComments(c);_context.next=11;return api.getUserFavorites(currentUser.username,\"name\",\"asc\");case 11:favorites=_context.sent;if(favorites.find(function(i){return i.byway_id===b.id;})){setIsFavorite(true);}_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](0);if(_context.t0.length>0){addToast(_context.t0[0],{appearance:'error'});}case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,15]]);}));return _getByway.apply(this,arguments);}getByway(name);},[name]);// empty array makes it only happen first time\nvar addComment=function addComment(comment){var updatedComments=[].concat(Object(toConsumableArray[\"a\" /* default */])(comments),[comment]);setComments(updatedComments);};function checkGeoFeaturesLength(byway){var tempString=byway.geographicFeatures;tempString=tempString[0].toUpperCase()+tempString.slice(1);var splitted=tempString.split(',');if(splitted.length>=3){// if byway has 3 or more - features = Feature, feature and feature\n// return byway.geographicFeatures.charAt(0).toUpperCase() + byway.geographicFeatures.replace(/(\"[^\"]+\"|\\w+)$/, \"and $1\").slice(1);\nvar comma_separated_list_until_last_element=splitted.slice(0,splitted.length-1).join(', ');// takes the splitted string, slices it from beginning up until the last element and joins them on comma, but there won't be a comma after the last feature, meaning we can add the last feature from splitted and return it at the end of this below with 'and' in front of it but no comma\nreturn comma_separated_list_until_last_element+' and '+splitted[splitted.length-1];//return byway.geographicFeatures.charAt(0).toUpperCase() + byway.geographicFeatures.slice(1, lastIndex) + ' and' + byway.geographicFeatures(lastIndex + 1);\n}else if(splitted.length===2){// if byway has 2 - features = Feature and feature\n// this replaced the comma with regex - return byway.geographicFeatures.charAt(0).toUpperCase() + byway.geographicFeatures.replace(/(\"[^\"]+\"|\\w+)$/, \"and $1\").slice(1);\nvar newString=splitted[0]+' and'+splitted[1];return newString.charAt(0).toUpperCase()+newString.slice(1);}else if(splitted.length===1){// if byway has 1 - features = Feature\n// byway with one feature (charles street) showed 'no features verified'\n// after adding the .length to byway.geoFeatures charles street shows '3 or more'\nreturn splitted[0];}else{// if byway has none - 'No geographic features have been verified for this byway'\n// byway with no features (hallowed ground) showed 'no features verified', maybe just because things are falling down to this part of the function\n// after adding the .length to byway.geoFeatures this shows 'no features verified'\nreturn\"No geographic features have been verified for this byway.\";}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:byway?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:byway.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:byway.image,alt:byway.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:byway.state}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[byway.length,\" miles / \",Math.round(parseFloat(byway.length)*1.60934),\" kilometres\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Fees:\"}),\" \",byway.fees]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Wondering what kind of natural settings you'll see on this byway?\"}),\" \",checkGeoFeaturesLength(byway),\".\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"b\",{children:[\"About \",byway.name]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),byway.description]}),isFavorite===true?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Byway is in your favorites\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(actions_FavoriteAByway,{id:byway.id}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{children:[\"Comment on \",byway.name]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(actions_CommentForm,{name:byway.name,id:byway.id,onAdd:addComment}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:comments?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:comments.map(function(c,i){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{children:[\"User \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/profile/\".concat(c.username),children:c.username}),\" said this at \",moment_default()(c.create_at).format(\"MM/DD/YYYY hh:mm a\"),\":\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:c.comment})]},i);})}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"no one has commented\"})})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"no byway by that name\"})});}/* harmony default export */ var byways_BywayDetail = (BywayDetail);\n// CONCATENATED MODULE: ./src/byways/RandomByway.js\nfunction DisplayRandomByway(){var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])(null),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),byway=_useState2[0],setByway=_useState2[1];function findOne(){return _findOne.apply(this,arguments);}// moved findOne function out of the useEffect so it's accessible to both the useEffect and handleSubmit\nfunction _findOne(){_findOne=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var byway;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.getRandomByway();case 2:byway=_context.sent;setByway(byway);case 4:case\"end\":return _context.stop();}}},_callee);}));return _findOne.apply(this,arguments);}Object(react[\"useEffect\"])(function(){findOne();},[]);function handleSubmit(evt){findOne();}function truncateCharCount(byway){if(byway.description.length>500){return byway.description.slice(0,499)+\"... (continued on byway's page)\";}else{return byway.description;}}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:byway?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h1\",{children:[\"Check out \",byway.name,\" in \",byway.state,\"!\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:byway.image,alt:byway.name}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:truncateCharCount(byway)}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/byways/\".concat(byway.name),children:[\"Go to this byway's page to learn more, comment, and favorite \",byway.name,\".\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleSubmit,children:\"Try another byway\"})]}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"the code don't work\"})// pass in large amount of text and be sure it's not longer than 500\n});}/* harmony default export */ var RandomByway = (DisplayRandomByway);\n// CONCATENATED MODULE: ./src/search/DesignationExplanation.js\nfunction DesignationExplanation(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"To be designated as a National Scenic Byway, a byway must meet the criteria for at least one of six \\\"intrinsic qualities\\\": archeological, cultural, historic, natural, recreational, and scenic. The features contributing to the distinctive characteristics of the corridor\\u2019s intrinsic quality are recognized throughout the region and are considered regionally significant.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"To be designated as an All-American Road, a byway must meet criteria for at least two intrinsic qualities that are nationally significant and have one-of-a-kind features that do not exist elsewhere. The road or highway must also be considered a \\\"destination unto itself.\\\" That is, the road must provide an exceptional traveling experience so recognized by travelers that they would make a drive along the highway a primary reason for their trip.\"})]});}/* harmony default export */ var search_DesignationExplanation = (DesignationExplanation);\n// CONCATENATED MODULE: ./src/profiles/UsersList.js\nfunction UsersList(){var _useState=Object(react[\"useState\"])(''),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),users=_useState2[0],setUsers=_useState2[1];Object(react[\"useEffect\"])(function(){function getUsers(){return _getUsers.apply(this,arguments);}function _getUsers(){_getUsers=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var u;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.getAllUsers();case 2:u=_context.sent;setUsers(u.users);case 4:case\"end\":return _context.stop();}}},_callee);}));return _getUsers.apply(this,arguments);}getUsers();},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:users.length?users.map(function(u,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"a\",{href:\"/profile/\".concat(u.username),children:u.username},i)});}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Sorry, no results found.\"})});}/* harmony default export */ var profiles_UsersList = (UsersList);\n// CONCATENATED MODULE: ./src/routes-nav/Routes.js\nfunction Routes(_ref){var login=_ref.login,signup=_ref.signup;console.debug(\"Routes\",\"login=\".concat(typeof login),\"register=\".concat(typeof register));// private route component will check if there is a valid current user and only continues to the route if so. If no user is present, redirects to login form.\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(homepage_Homepage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/login\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_LoginForm,{login:login})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/signup\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_SignupForm,{signup:signup})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/search\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(search_FilterSearch,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/noresults\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(NoSearchResults,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/designations-explanation\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(search_DesignationExplanation,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/users\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(profiles_UsersList,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/profile\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(profiles_ProfileForm,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{path:\"/profile/:username\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ProfilePage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/browse\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(search_FilterSearch,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/states\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(byways_StateMenu,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/states/:name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(byways_StateDetail,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/byways/:name\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(byways_BywayDetail,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_PrivateRoute,{exact:true,path:\"/random\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RandomByway,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})]})});}/* harmony default export */ var routes_nav_Routes = (Routes);\n// EXTERNAL MODULE: ./node_modules/jsonwebtoken/index.js\nvar jsonwebtoken = __webpack_require__(187);\nvar jsonwebtoken_default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken);\n\n// CONCATENATED MODULE: ./src/common/ScrollToTop.js\nvar ScrollToTop_ScrollToTop=function ScrollToTop(_ref){var children=_ref.children;var _useLocation=Object(react_router[\"h\" /* useLocation */])(),pathname=_useLocation.pathname;Object(react[\"useEffect\"])(function(){window.scrollTo(0,0);},[pathname]);return children||null;};/* harmony default export */ var common_ScrollToTop = (ScrollToTop_ScrollToTop);\n// CONCATENATED MODULE: ./src/App.js\n// Key name for storing token in localStorage for \"remember me\" re-login\nvar TOKEN_STORAGE_ID=\"scenic-token\";/** Byways application.\n *\n * - infoLoaded: has user data been pulled from API?\n *   (this manages spinner for \"loading...\")\n *\n * - currentUser: user obj from API. This becomes the canonical way to tell\n *   if someone is logged in. This is passed around via context throughout app.\n *\n * - token: for logged in users, this is their authentication JWT.\n *   Is required to be set for most API calls. This is initially read from\n *   localStorage and synced to there via the useLocalStorage hook.\n *\n * App -> Routes\n */function App(){var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),infoLoaded=_useState2[0],setInfoLoaded=_useState2[1];var _useState3=Object(react[\"useState\"])(new Set([])),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),applicationIds=_useState4[0],setApplicationIds=_useState4[1];var _useState5=Object(react[\"useState\"])(null),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),currentUser=_useState6[0],setCurrentUser=_useState6[1];var _useLocalStorage=hooks_useLocalStorage(TOKEN_STORAGE_ID),_useLocalStorage2=Object(slicedToArray[\"a\" /* default */])(_useLocalStorage,2),token=_useLocalStorage2[0],setToken=_useLocalStorage2[1];console.debug(\"App\",\"infoLoaded=\",infoLoaded,\"currentUser=\",currentUser,\"token=\",token);// Load user info from API. Until a user is logged in and they have a token,\n// this should not run. It only needs to re-run when a user logs out, so\n// the value of the token is a dependency for this effect.\nObject(react[\"useEffect\"])(function loadUserInfo(){console.debug(\"App useEffect loadUserInfo\",\"token=\",token);function getCurrentUser(){return _getCurrentUser.apply(this,arguments);}// set infoLoaded to false while async getCurrentUser runs; once the\n// data is fetched (or even if an error happens!), this will be set back\n// to false to control the spinner.\nfunction _getCurrentUser(){_getCurrentUser=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee(){var _jwt$decode,username,_currentUser;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!token){_context.next=14;break;}_context.prev=1;_jwt$decode=jsonwebtoken_default.a.decode(token),username=_jwt$decode.username;// put the token on the Api class so it can use it to call the API.\napi.token=token;_context.next=6;return api.getCurrentUser(username);case 6:_currentUser=_context.sent;setCurrentUser(_currentUser);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](1);console.error(\"App loadUserInfo: problem loading\",_context.t0);setCurrentUser(null);case 14:setInfoLoaded(true);case 15:case\"end\":return _context.stop();}}},_callee,null,[[1,10]]);}));return _getCurrentUser.apply(this,arguments);}setInfoLoaded(false);getCurrentUser();},[token]);/** Handles site-wide logout. */function logout(){setCurrentUser(null);setToken(null);}/** Handles site-wide signup.\n   *\n   * Automatically logs them in (set token) upon signup.\n   *\n   * Make sure you await this function and check its return value!\n   */function signup(_x){return _signup.apply(this,arguments);}/** Handles site-wide login.\n   *\n   * Make sure you await this function and check its return value!\n   */function _signup(){_signup=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee2(signupData){var _token;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return api.signup(signupData);case 3:_token=_context2.sent;setToken(_token);return _context2.abrupt(\"return\",{success:true});case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.error(\"signup failed\",_context2.t0);return _context2.abrupt(\"return\",{success:false,errors:_context2.t0});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return _signup.apply(this,arguments);}function login(_x2){return _login.apply(this,arguments);}function _login(){_login=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/Object(regeneratorRuntime[\"a\" /* default */])().mark(function _callee3(loginData){var _token2;return Object(regeneratorRuntime[\"a\" /* default */])().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return api.login(loginData);case 3:_token2=_context3.sent;setToken(_token2);return _context3.abrupt(\"return\",{success:true});case 8:_context3.prev=8;_context3.t0=_context3[\"catch\"](0);console.error(\"login failed\",_context3.t0);return _context3.abrupt(\"return\",{success:false,errors:_context3.t0});case 12:case\"end\":return _context3.stop();}}},_callee3,null,[[0,8]]);}));return _login.apply(this,arguments);}if(!infoLoaded)return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_LoadingSpinner,{});return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"ToastProvider\"],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(common_ScrollToTop,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_UserContext.Provider,{value:{currentUser:currentUser,setCurrentUser:setCurrentUser},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"App\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_Navigation,{logout:logout}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(routes_nav_Routes,{login:login,signup:signup,logout:logout})]})})})})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/serviceWorker.js\n// This optional code is used to register a service worker.\n// register() is not called by default.\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\nvar isLocalhost=Boolean(window.location.hostname===\"localhost\"||// [::1] is the IPv6 localhost address.\nwindow.location.hostname===\"[::1]\"||// 127.0.0.0/8 are considered localhost for IPv4.\nwindow.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function serviceWorker_register(config){if( true&&\"serviceWorker\"in navigator){// The URL constructor is available in all browsers that support SW.\nvar publicUrl=new URL(\"\",window.location.href);if(publicUrl.origin!==window.location.origin){// Our service worker won't work if PUBLIC_URL is on a different origin\n// from what our page is served on. This might happen if a CDN is used to\n// serve assets; see https://github.com/facebook/create-react-app/issues/2374\nreturn;}window.addEventListener(\"load\",function(){var swUrl=\"\".concat(\"\",\"/service-worker.js\");if(isLocalhost){// This is running on localhost. Let's check if a service worker still exists or not.\ncheckValidServiceWorker(swUrl,config);// Add some additional logging to localhost, pointing developers to the\n// service worker/PWA documentation.\nnavigator.serviceWorker.ready.then(function(){console.log(\"This web app is being served cache-first by a service \"+\"worker. To learn more, visit https://bit.ly/CRA-PWA\");});}else{// Is not localhost. Just register service worker\nregisterValidSW(swUrl,config);}});}}function registerValidSW(swUrl,config){navigator.serviceWorker.register(swUrl).then(function(registration){registration.onupdatefound=function(){var installingWorker=registration.installing;if(installingWorker==null){return;}installingWorker.onstatechange=function(){if(installingWorker.state===\"installed\"){if(navigator.serviceWorker.controller){// At this point, the updated precached content has been fetched,\n// but the previous service worker will still serve the older\n// content until all client tabs are closed.\nconsole.log(\"New content is available and will be used when all \"+\"tabs for this page are closed. See https://bit.ly/CRA-PWA.\");// Execute callback\nif(config&&config.onUpdate){config.onUpdate(registration);}}else{// At this point, everything has been precached.\n// It's the perfect time to display a\n// \"Content is cached for offline use.\" message.\nconsole.log(\"Content is cached for offline use.\");// Execute callback\nif(config&&config.onSuccess){config.onSuccess(registration);}}}};};}).catch(function(error){console.error(\"Error during service worker registration:\",error);});}function checkValidServiceWorker(swUrl,config){// Check if the service worker can be found. If it can't reload the page.\nfetch(swUrl,{headers:{\"Service-Worker\":\"script\"}}).then(function(response){// Ensure service worker exists, and that we really are getting a JS file.\nvar contentType=response.headers.get(\"content-type\");if(response.status===404||contentType!=null&&contentType.indexOf(\"javascript\")===-1){// No service worker found. Probably a different app. Reload the page.\nnavigator.serviceWorker.ready.then(function(registration){registration.unregister().then(function(){window.location.reload();});});}else{// Service worker found. Proceed as normal.\nregisterValidSW(swUrl,config);}}).catch(function(){console.log(\"No internet connection found. App is running in offline mode.\");});}function unregister(){if(\"serviceWorker\"in navigator){navigator.serviceWorker.ready.then(function(registration){registration.unregister();}).catch(function(error){console.error(error.message);});}}\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{}),document.getElementById(\"root\"));// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nunregister();\n\n/***/ })\n\n},[[355,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/mike/Desktop/scenic/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/mike/Desktop/scenic/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/mike/Desktop/scenic/node_modules/postcss-loader/src/index.js??postcss!/Users/mike/Desktop/scenic/src/index.css","ignored /Users/mike/Desktop/scenic/node_modules/readable-stream/lib util","ignored /Users/mike/Desktop/scenic/node_modules/readable-stream/lib/internal/streams util","ignored /Users/mike/Desktop/scenic/node_modules/hash-base/node_modules/readable-stream/lib util","ignored /Users/mike/Desktop/scenic/node_modules/hash-base/node_modules/readable-stream/lib/internal/streams util","ignored /Users/mike/Desktop/scenic/node_modules/diffie-hellman/node_modules/bn.js/lib buffer","ignored /Users/mike/Desktop/scenic/node_modules/miller-rabin/node_modules/bn.js/lib buffer","ignored /Users/mike/Desktop/scenic/node_modules/brorand crypto","ignored /Users/mike/Desktop/scenic/node_modules/browserify-sign/node_modules/readable-stream/lib util","ignored /Users/mike/Desktop/scenic/node_modules/browserify-sign/node_modules/readable-stream/lib/internal/streams util","ignored /Users/mike/Desktop/scenic/node_modules/bn.js/lib buffer","ignored /Users/mike/Desktop/scenic/node_modules/elliptic/node_modules/bn.js/lib buffer","ignored /Users/mike/Desktop/scenic/node_modules/asn1.js/node_modules/bn.js/lib buffer","ignored /Users/mike/Desktop/scenic/node_modules/create-ecdh/node_modules/bn.js/lib buffer","ignored /Users/mike/Desktop/scenic/node_modules/public-encrypt/node_modules/bn.js/lib buffer","/Users/mike/Desktop/scenic/src/hooks/useLocalStorage.js","/Users/mike/Desktop/scenic/src/auth/UserContext.js","/Users/mike/Desktop/scenic/src/routes-nav/Navigation.js","/Users/mike/Desktop/scenic/src/homepage/Homepage.js","/Users/mike/Desktop/scenic/src/common/Alert.js","/Users/mike/Desktop/scenic/src/auth/LoginForm.js","/Users/mike/Desktop/scenic/src/auth/SignupForm.js","/Users/mike/Desktop/scenic/src/api/api.js","/Users/mike/Desktop/scenic/src/common/LimitedTextArea.js","/Users/mike/Desktop/scenic/src/hooks/useTimedMessage.js","/Users/mike/Desktop/scenic/src/profiles/ProfileForm.js","/Users/mike/Desktop/scenic/src/byways/BywayCard.js","/Users/mike/Desktop/scenic/src/profiles/ProfilePage.js","/Users/mike/Desktop/scenic/src/search/Checkbox.js","/Users/mike/Desktop/scenic/src/search/GeographicFeaturesSearch.js","/Users/mike/Desktop/scenic/src/search/DesignationSearch.js","/Users/mike/Desktop/scenic/src/search/SearchForm.js","/Users/mike/Desktop/scenic/src/common/Pagination.js","/Users/mike/Desktop/scenic/src/search/FilterSearch.js","/Users/mike/Desktop/scenic/src/common/NoSearchResults.js","/Users/mike/Desktop/scenic/src/routes-nav/PrivateRoute.js","/Users/mike/Desktop/scenic/src/common/LoadingSpinner.js","/Users/mike/Desktop/scenic/src/byways/StateCard.js","/Users/mike/Desktop/scenic/src/byways/StateMenu.js","/Users/mike/Desktop/scenic/src/byways/StateDetail.js","/Users/mike/Desktop/scenic/src/actions/CommentForm.js","/Users/mike/Desktop/scenic/src/actions/FavoriteAByway.js","/Users/mike/Desktop/scenic/src/byways/BywayDetail.js","/Users/mike/Desktop/scenic/src/byways/RandomByway.js","/Users/mike/Desktop/scenic/src/search/DesignationExplanation.js","/Users/mike/Desktop/scenic/src/profiles/UsersList.js","/Users/mike/Desktop/scenic/src/routes-nav/Routes.js","/Users/mike/Desktop/scenic/src/common/ScrollToTop.js","/Users/mike/Desktop/scenic/src/App.js","/Users/mike/Desktop/scenic/src/serviceWorker.js","/Users/mike/Desktop/scenic/src/index.js"],"names":["useLocalStorage","key","firstValue","initialValue","localStorage","getItem","useState","item","setItem","useEffect","setKeyInLocalStorage","console","debug","removeItem","UserContext","React","createContext","Navigation","logout","useContext","currentUser","loggedInNav","username","first_name","loggedOutNav","Homepage","Alert","type","messages","map","error","LoginForm","login","useToasts","addToast","history","useHistory","password","formData","setFormData","formErrors","setFormErrors","handleSubmit","evt","preventDefault","result","success","push","errors","forEach","i","appearance","length","handleChange","target","name","value","l","SignupForm","signup","firstName","lastName","email","data","BASE_URL","process","REACT_APP_BASE_URL","BywayApi","endpoint","method","url","headers","Authorization","token","params","axios","message","response","Array","isArray","request","res","user","id","comment","sortField","sortDirection","LimitedTextArea","limit","onChange","content","setContent","setFormattedContent","useCallback","text","limitedContent","slice","event","useTimedMessage","timeInMsec","active","setActive","messageShownRef","useRef","showSavedMessage","current","setTimeout","removeMessage","ProfileForm","setCurrentUser","bio","userLocation","favoriteState","profilePhoto","saveConfirmed","setSaveConfirmed","profileData","saveProfile","updatedUser","log","f","newValue","BywayCard","designation","image","ShowUserProfile","useParams","isMe","setIsMe","profileInfo","setProfileInfo","userFavorites","setUserFavorites","sortBy","setSortBy","setSortDirection","getUserFavorites","getUserInfo","getCurrentUser","byway_id","removeFavorite","handleSubmitSortBy","direction","e","state","Checkbox","props","checked","setChecked","GeographicFeaturesSearch","categories","selected","setSelected","changeHandler","index","indexOf","splice","c","DesignationSearch","SearchForm","searchFor","filterByways","searchTerm","setSearchTerm","minLength","setMinLength","maxLength","setMaxLength","geoFeaturesSelect","setGeoFeaturesSelect","designationSearch","setDesignationSearch","trim","undefined","handleSubmitFilter","Pagination","nPages","currentPage","setCurrentPage","pageNumbers","keys","nextPage","prevPage","pgNumber","FilterSearch","byways","setByways","setErrors","currentByWays","setCurrentByWays","bywaysPerPage","setNPages","Math","ceil","indexOfLastByway","indexOfFirstByway","currentByways","getBywaysForDisplay","getAllByways","filters","search","s","BackToSearch","PrivateRoute","exact","path","children","LoadingSpinner","StateCard","nickname","StateMenu","states","setStates","getStates","getAllStates","StateDetail","stateByways","setStateByways","getStateDetail","findBywaysByState","CommentForm","onAdd","byway","setComment","makeComment","FavoriteAByway","favorite","setFavorite","hasBeenSet","setHasBeenSet","favoriteAByway","BywayDetail","setByway","comments","setComments","isFavorite","setIsFavorite","getByway","b","getCommentsByByway","favorites","find","addComment","updatedComments","checkGeoFeaturesLength","tempString","geographicFeatures","toUpperCase","splitted","split","comma_separated_list_until_last_element","join","newString","charAt","round","parseFloat","fees","description","moment","create_at","format","DisplayRandomByway","findOne","getRandomByway","truncateCharCount","DesignationExplanation","UsersList","users","setUsers","getUsers","getAllUsers","u","Routes","register","ScrollToTop","useLocation","pathname","window","scrollTo","TOKEN_STORAGE_ID","App","infoLoaded","setInfoLoaded","Set","applicationIds","setApplicationIds","setToken","loadUserInfo","jwt","decode","signupData","loginData","isLocalhost","Boolean","location","hostname","match","config","navigator","publicUrl","URL","href","origin","addEventListener","swUrl","checkValidServiceWorker","serviceWorker","ready","then","registerValidSW","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","fetch","contentType","get","status","unregister","reload","ReactDOM","render","document","getElementById"],"mappings":";;;;;AAAA,uC;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;ACAA,e;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASA,gBAAe,CAACC,GAAG,CAAqB,IAAnBC,WAAU,2DAAG,IAAI,CAC7C,GAAMC,aAAY,CAAGC,YAAY,CAACC,OAAO,CAACJ,GAAG,CAAC,EAAIC,UAAU,CAE5D,cAAwBI,yBAAQ,CAACH,YAAY,CAAC,kEAAvCI,IAAI,eAAEC,OAAO,eAEpBC,0BAAS,CAAC,QAASC,qBAAoB,EAAG,CACxCC,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAE,OAAO,CAAEL,IAAI,CAAC,CAE/D,GAAIA,IAAI,GAAK,IAAI,CAAE,CACjBH,YAAY,CAACS,UAAU,CAACZ,GAAG,CAAC,CAC9B,CAAC,IAAM,CACLG,YAAY,CAACI,OAAO,CAACP,GAAG,CAAEM,IAAI,CAAC,CACjC,CACF,CAAC,CAAE,CAACN,GAAG,CAAEM,IAAI,CAAC,CAAC,CAEf,MAAO,CAACA,IAAI,CAAEC,OAAO,CAAC,CACxB,CAEeR,yEAAe,E;;ACjC9B,6EAEA,GAAMc,YAAW,cAAGC,eAAK,CAACC,aAAa,EAAE,CAE1BF,gEAAW,E;;;;;ACH1B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASG,WAAU,MAAa,IAAVC,OAAM,MAANA,MAAM,CAC1B,gBAAwBC,2BAAU,CAACL,gBAAW,CAAC,CAAvCM,WAAW,aAAXA,WAAW,CACnBT,OAAO,CAACC,KAAK,CAAC,YAAY,CAAE,cAAc,CAAEQ,WAAW,CAAC,CAExD,QAASC,YAAW,EAAG,CACrB,mBACI,yDACE,uDACE,2BAAC,mCAAO,EAAC,EAAE,CAAC,SAAS,UAAC,4BAEtB,EAAU,EACP,cACL,uDACE,2BAAC,mCAAO,EAAC,EAAE,CAAC,SAAS,UAAC,sBAEtB,EAAU,EACP,cACL,uDACE,2BAAC,mCAAO,EAAC,EAAE,oBAAcD,WAAW,CAACE,QAAQ,CAAG,UAAC,SAEjD,EAAU,EACP,cACL,uDACE,2BAAC,mCAAO,EAAC,EAAE,CAAC,SAAS,UAAC,oBAEtB,EAAU,EACP,cACL,uDACE,2BAAC,mCAAO,EAAC,EAAE,CAAC,QAAQ,UAAC,eAErB,EAAU,EACP,cACL,uDACE,4BAAC,gCAAI,EAAC,EAAE,CAAC,GAAG,CAAC,OAAO,CAAEJ,MAAO,WAAC,UACpB,CAACE,WAAW,CAACG,UAAU,EAAIH,WAAW,CAACE,QAAQ,GAClD,EACJ,GACF,CAEX,CAEA,QAASE,aAAY,EAAG,CACtB,mBACI,yDACE,uDACE,2BAAC,mCAAO,EAAC,EAAE,CAAC,QAAQ,UAAC,OAErB,EAAU,EACP,cACL,uDACE,2BAAC,mCAAO,EAAC,EAAE,CAAC,SAAS,UAAC,SAEtB,EAAU,EACP,GACF,CAEX,CAEA,mBACI,0DACE,2BAAC,gCAAI,EAAC,EAAE,CAAC,GAAG,UAAC,eAEb,EAAO,CACNJ,WAAW,CAAGC,WAAW,EAAE,CAAGG,YAAY,EAAE,GACzC,CAEZ,CAEeP,oEAAU,E;;;;;AC/EzB;AAGA,QAASQ,SAAQ,EAAG,CAClB,gBAAwBN,2BAAU,CAACL,gBAAW,CAAC,CAAvCM,WAAW,aAAXA,WAAW,CACnBT,OAAO,CAACC,KAAK,CAAC,UAAU,CAAE,cAAc,CAAEQ,WAAW,CAAC,CAEtD,mBACI,mCAAK,SAAS,CAAC,UAAU,wBACrB,0CAAI,wBAAsB,EAAK,CAE9BA,WAAW,cACR,4CAAI,QACI,CAACA,WAAW,CAACE,QAAQ,CAAC,GAAC,iDAAS,cACtC,2BAAC,gCAAI,EAAC,EAAE,kCAAoC,UAAC,qBAAmB,EAAO,mCAAgC,yCAAC,gCAAI,EAAC,EAAE,CAAC,UAAU,UAAC,oCAAkC,EAAO,iDAAS,cAG7K,2BAAC,gCAAI,EAAC,EAAE,CAAC,SAAS,UAAC,+CAA6C,EAAO,iDAAS,cAChF,2BAAC,gCAAI,EAAC,EAAE,CAAC,SAAS,UAAC,2BAAyB,EAAO,iDAAS,cAC5D,2BAAC,gCAAI,EAAC,EAAE,CAAC,SAAS,UAAC,2BAAyB,EAAO,GAElD,cAED,wDACI,2BAAC,gCAAI,EAAC,EAAE,CAAC,QAAQ,UAAC,QAAM,EAAO,cAC/B,2BAAC,gCAAI,EAAC,EAAE,CAAC,SAAS,UAAC,SAAO,EAAO,GAExC,GAID,CAGZ,CAEeG,8DAAQ,E;;;;;;;;ACpCvB;AACA;AACA;AACA,IAEA,QAASC,MAAK,MAAqC,oBAAlCC,IAAI,CAAJA,IAAI,oBAAG,QAAQ,8BAAEC,QAAQ,CAARA,QAAQ,wBAAG,EAAE,eAC7CjB,OAAO,CAACC,KAAK,CAAC,OAAO,CAAE,OAAO,CAAEe,IAAI,CAAE,WAAW,CAAEC,QAAQ,CAAC,CAE5D,mBACI,kCAAK,SAAS,uBAAiBD,IAAI,CAAG,CAAC,IAAI,CAAC,OAAO,UAChDC,QAAQ,CAACC,GAAG,CAAC,SAAAC,KAAK,qBACf,gCAAG,SAAS,CAAC,YAAY,UACtBA,KAAK,EADuBA,KAAK,CAEhC,EACP,CAAC,EACE,CAEZ,CAEeJ,sDAAK,E;;;;;ACfpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASK,UAAS,MAAY,IAATC,MAAK,MAALA,KAAK,CACxB,eAAqBC,yBAAS,EAAE,CAAxBC,QAAQ,YAARA,QAAQ,CAChB,GAAMC,QAAO,CAAGC,0CAAU,EAAE,CAC5B,cAAgC9B,yBAAQ,CAAC,CACvCgB,QAAQ,CAAE,EAAE,CACZe,QAAQ,CAAE,EACZ,CAAC,CAAC,kEAHKC,QAAQ,eAAEC,WAAW,eAI5B,eAAoCjC,yBAAQ,CAAC,EAAE,CAAC,mEAAzCkC,UAAU,eAAEC,aAAa,eAEhC9B,OAAO,CAACC,KAAK,CACT,WAAW,CACX,QAAQ,CAAE,MAAOoB,MAAK,CACtB,WAAW,CAAEM,QAAQ,CACrB,YAAY,CAAEE,UAAU,CAC3B,CAED;AACF;AACA;AACA,KAHE,QAKeE,aAAY,iDAiB3B,kLAjBA,iBAA4BC,GAAG,yJAC7BA,GAAG,CAACC,cAAc,EAAE,CAAC,sCAEAZ,MAAK,CAACM,QAAQ,CAAC,QAA9BO,MAAM,eACV,GAAIA,MAAM,CAACC,OAAO,CAAE,CAClBX,OAAO,CAACY,IAAI,CAAC,GAAG,CAAC,CACnB,CAAC,IAAM,CACLF,MAAM,CAACG,MAAM,CAACC,OAAO,CAAC,SAAAC,CAAC,QAAKhB,SAAQ,CAACgB,CAAC,CAAE,CAAEC,UAAU,CAAE,OAAQ,CAAC,CAAC,GAAC,CACnE,CAAC,+EAED,GAAI,YAAOC,MAAM,CAAG,CAAC,CAAE,CACrBlB,QAAQ,CAAC,YAAO,CAAC,CAAC,CAAE,CAAEiB,UAAU,CAAE,OAAQ,CAAC,CAAC,CAC9C,CACAV,aAAa,aAAQ,CAAC,oEAEzB,+CAGD,QAASY,aAAY,CAACV,GAAG,CAAE,CACzB,gBAAwBA,GAAG,CAACW,MAAM,CAA1BC,IAAI,aAAJA,IAAI,CAAEC,KAAK,aAALA,KAAK,CACnBjB,WAAW,CAAC,SAAAkB,CAAC,8FAAUA,CAAC,kDAAGF,IAAI,CAAGC,KAAK,IAAG,CAAC,CAC7C,CAEA,mBACI,kCAAK,SAAS,CAAC,WAAW,uBACxB,mCAAK,SAAS,CAAC,qDAAqD,wBAClE,iCAAI,SAAS,CAAC,MAAM,UAAC,QAAM,EAAK,cAEhC,kCAAK,SAAS,CAAC,MAAM,uBACnB,kCAAK,SAAS,CAAC,WAAW,uBACxB,oCAAM,QAAQ,CAAEd,YAAa,wBAC3B,mCAAK,SAAS,CAAC,YAAY,wBACzB,6CAAO,UAAQ,EAAQ,cACvB,oCACI,IAAI,CAAC,UAAU,CACf,SAAS,CAAC,cAAc,CACxB,KAAK,CAAEJ,QAAQ,CAAChB,QAAS,CACzB,QAAQ,CAAE+B,YAAa,CACvB,YAAY,CAAC,UAAU,CACvB,QAAQ,OACV,GACE,cACN,mCAAK,SAAS,CAAC,YAAY,wBACzB,6CAAO,UAAQ,EAAQ,cACvB,oCACI,IAAI,CAAC,UAAU,CACf,IAAI,CAAC,UAAU,CACf,SAAS,CAAC,cAAc,CACxB,KAAK,CAAEf,QAAQ,CAACD,QAAS,CACzB,QAAQ,CAAEgB,YAAa,CACvB,YAAY,CAAC,kBAAkB,CAC/B,QAAQ,OACV,GACE,CAELb,UAAU,CAACY,MAAM,cACZ,2BAAC,YAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAEZ,UAAW,EAAG,CAC7C,IAAI,cAEV,qCACI,SAAS,CAAC,6BAA6B,CACvC,QAAQ,CAAEE,YAAa,UAC1B,QAED,EAAS,GACJ,EACH,EACF,GACF,EACF,CAEZ,CAEeX,4DAAS,E;;ACzGxB,QAAS2B,WAAU,MAAa,IAAVC,OAAM,MAANA,MAAM,CACxB,eAAqB1B,yBAAS,EAAE,CAAxBC,QAAQ,YAARA,QAAQ,CAChB,GAAMC,QAAO,CAAGC,0CAAU,EAAE,CAC5B,cAAgC9B,yBAAQ,CAAC,CACvCgB,QAAQ,CAAE,EAAE,CACZe,QAAQ,CAAE,EAAE,CACZuB,SAAS,CAAE,EAAE,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EACT,CAAC,CAAC,kEANKxB,QAAQ,eAAEC,WAAW,eAO5B,eAAoCjC,yBAAQ,CAAC,EAAE,CAAC,mEAAzCkC,UAAU,eAAEC,aAAa,eAEhC9B,OAAO,CAACC,KAAK,CACT,YAAY,CACZ,SAAS,CAAE,MAAO+C,OAAM,CACxB,WAAW,CAAErB,QAAQ,CACrB,aAAa,CAAEE,UAAU,CAC5B,CAAC,QAEaE,aAAY,sMAA3B,iBAA4BC,GAAG,yJAC3BA,GAAG,CAACC,cAAc,EAAE,CAAC,sCAEEe,OAAM,CAACrB,QAAQ,CAAC,QAA/BO,MAAM,eACV,GAAIA,MAAM,CAACC,OAAO,CAAE,CAChBX,OAAO,CAACY,IAAI,CAAC,GAAG,CAAC,CACzB;AACI,CAAC,IAAO,CACJF,MAAM,CAACG,MAAM,CAACC,OAAO,CAAC,SAAAC,CAAC,QAAKhB,SAAQ,CAACgB,CAAC,CAAE,CAAEC,UAAU,CAAE,OAAQ,CAAC,CAAC,GAAC,CACrE,CAAC,+EAGD,GAAI,YAAOC,MAAM,CAAG,CAAC,CAAE,CACnBlB,QAAQ,CAAC,YAAO,CAAC,CAAC,CAAE,CAAEiB,UAAU,CAAE,OAAQ,CAAC,CAAC,CAChD,CACAV,aAAa,aAAQ,CAAC,oEAE7B,+CAED,QAASY,aAAY,CAACV,GAAG,CAAE,CACvB,gBAAwBA,GAAG,CAACW,MAAM,CAA1BC,IAAI,aAAJA,IAAI,CAAEC,KAAK,aAALA,KAAK,CACnBjB,WAAW,CAAC,SAAAwB,IAAI,8FAAUA,IAAI,kDAAGR,IAAI,CAAGC,KAAK,IAAE,CAAC,CAChD;AACJ,CAEA,mBACI,mCAAK,SAAS,CAAC,YAAY,wBACvB,0CAAI,SAAO,EAAK,cAChB,oCAAM,QAAQ,CAAEd,YAAa,wBACzB,mCAAK,SAAS,CAAC,aAAa,wBACxB,6CAAO,UAAQ,EAAQ,cACvB,oCACI,IAAI,CAAC,UAAU,CACf,KAAK,CAAEJ,QAAQ,CAAChB,QAAS,CACzB,QAAQ,CAAE+B,YAAa,EACzB,cACF,6CAAO,UAAQ,EAAQ,cACvB,oCACI,IAAI,CAAC,UAAU,CACf,IAAI,CAAC,UAAU,CACf,KAAK,CAAEf,QAAQ,CAACD,QAAS,CACzB,QAAQ,CAAEgB,YAAa,EACzB,cACF,6CAAO,YAAU,EAAQ,cACzB,oCACE,IAAI,CAAC,WAAW,CAChB,KAAK,CAAEf,QAAQ,CAACsB,SAAU,CAC1B,QAAQ,CAAEP,YAAa,EACvB,cACF,6CAAO,WAAS,EAAQ,cACxB,oCACI,IAAI,CAAC,UAAU,CACf,KAAK,CAAEf,QAAQ,CAACuB,QAAS,CACzB,QAAQ,CAAER,YAAa,EACzB,cACF,6CAAO,OAAK,EAAQ,cACpB,oCACI,IAAI,CAAC,OAAO,CACZ,IAAI,CAAC,OAAO,CACZ,KAAK,CAAEf,QAAQ,CAACwB,KAAM,CACtB,QAAQ,CAAET,YAAa,EACzB,GAEA,CAELb,UAAU,CAACY,MAAM,cACZ,2BAAC,YAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAEZ,UAAW,EAAG,CAC7C,IAAI,cAGV,qCACI,IAAI,CAAC,QAAQ,CACb,SAAS,CAAC,6BAA6B,CACvC,QAAQ,CAAEE,YAAa,UAC1B,QAED,EAAS,GAEN,GACL,CAMd,CAEegB,8DAAU,E;;;;;;;;;;;AC9GzB,GAAMM,SAAQ,CAAGC,yJAAW,CAACC,kBAAkB,EAAI,uBAAuB,CAE1E;AAAA,GAEMC,aAAQ,kLAGV;AAAA,sIAEA,iBAAqBC,QAAQ,yMAAEL,IAAI,+CAAG,CAAC,CAAC,CAAEM,MAAM,+CAAG,KAAK,CACtD1D,OAAO,CAACC,KAAK,CAAC,WAAW,CAAEwD,QAAQ,CAAEL,IAAI,CAAEM,MAAM,CAAC,CAE5CC,GAAG,WAAMN,QAAQ,aAAII,QAAQ,EAC7BG,OAAO,CAAG,CAAEC,aAAa,kBAAYL,QAAQ,CAACM,KAAK,CAAG,CAAC,CACvDC,MAAM,CAAIL,MAAM,GAAK,KAAK,CAC1BN,IAAI,CACJ,CAAC,CAAC,uCAGQY,iCAAK,CAAC,CAAEL,GAAG,CAAHA,GAAG,CAAED,MAAM,CAANA,MAAM,CAAEN,IAAI,CAAJA,IAAI,CAAEW,MAAM,CAANA,MAAM,CAAEH,OAAO,CAAPA,OAAQ,CAAC,CAAC,sDAAER,IAAI,4DAEjEpD,OAAO,CAACmB,KAAK,CAAC,YAAY,aAAM,CAC5B8C,OAAO,CAAG,YAAIC,QAAQ,CAACd,IAAI,CAACjC,KAAK,CAAC8C,OAAO,MACvCE,MAAK,CAACC,OAAO,CAACH,OAAO,CAAC,CAAGA,OAAO,CAAG,CAACA,OAAO,CAAC,sEAErD,4OAED,kBAAoBb,IAAI,iLACJ,KAAI,CAACiB,OAAO,iBAAkBjB,IAAI,CAAE,MAAM,CAAC,QAAvDkB,GAAG,iDACAA,GAAG,CAACR,KAAK,+DACjB,wOAEH,kBAAmBV,IAAI,iLACL,KAAI,CAACiB,OAAO,cAAejB,IAAI,CAAE,MAAM,CAAC,QAApDkB,GAAG,iDACAA,GAAG,CAACR,KAAK,+DACjB,uPAED,kBAA4BnD,QAAQ,iLAClB,KAAI,CAAC0D,OAAO,iBAAU1D,QAAQ,EAAG,QAA7C2D,GAAG,iDACAA,GAAG,CAACC,IAAI,+DAChB,8QAED,kBAA0B3B,IAAI,iLACZ,KAAI,CAACyB,OAAO,CAAC,QAAQ,CAAE,CAAEzB,IAAI,CAAJA,IAAK,CAAC,CAAC,QAA5C0B,GAAG,iDACAA,GAAG,+DACX,sQAED,mMACkB,KAAI,CAACD,OAAO,CAAC,OAAO,CAAC,QAAjCC,GAAG,iDACAA,GAAG,+DACX,4QAED,kBAA+B1B,IAAI,iLACjB,KAAI,CAACyB,OAAO,kBAAYzB,IAAI,EAAI,QAA5C0B,GAAG,iDACAA,GAAG,+DACX,uRAED,kBAA0B1B,IAAI,iLACZ,KAAI,CAACyB,OAAO,CAAC,QAAQ,CAAE,CAAEzB,IAAI,CAAJA,IAAK,CAAC,CAAC,QAA5C0B,GAAG,iDACAA,GAAG,+DACX,4PAED,kBAAoBP,MAAM,iLACR,KAAI,CAACM,OAAO,CAAC,eAAe,CAAEN,MAAM,CAAC,QAAjDO,GAAG,iDACAA,GAAG,+DACX,8OAED,mBAAsB1B,IAAI,sLACR,KAAI,CAACyB,OAAO,kBAAYzB,IAAI,EAAM,QAA9C0B,GAAG,mDACAA,GAAG,iEACX,wQAED,mBAAgCE,EAAE,sLAChB,KAAI,CAACH,OAAO,kBAAYG,EAAE,cAAe,QAArDF,GAAG,mDACAA,GAAG,iEACX,yRAED,mBAAyBE,EAAE,CAAEC,OAAO,sLAClB,KAAI,CAACJ,OAAO,kBAAYG,EAAE,cAAc,CAACC,OAAO,CAAPA,OAAO,CAAC,CAAE,MAAM,CAAC,QAAtEH,GAAG,mDACAA,GAAG,iEACX,+QAED,mBAA4B3D,QAAQ,CAAE6D,EAAE,sLACtB,KAAI,CAACH,OAAO,iBAAW1D,QAAQ,uBAAe6D,EAAE,EAAI,CAAC,CAAC,CAAE,MAAM,CAAC,QAA3EF,GAAG,mDACAA,GAAG,iEACX,wRAED,mBAA4B3D,QAAQ,CAAE6D,EAAE,sLACtB,KAAI,CAACH,OAAO,iBAAW1D,QAAQ,uBAAe6D,EAAE,EAAI,CAAC,CAAC,CAAE,QAAQ,CAAC,QAA7EF,GAAG,mDACAA,GAAG,iEAGX,4RAED,mBAA8B3D,QAAQ,CAAE+D,SAAS,CAAEC,aAAa,sLAC9C,KAAI,CAACN,OAAO,iBAAW1D,QAAQ,4BAAoB+D,SAAS,uBAAcC,aAAa,EAAG,QAAtGL,GAAG,mDACAA,GAAG,iEACX,6RAED,mBAAyB3D,QAAQ,CAAEyC,IAAI,sLACrB,KAAI,CAACiB,OAAO,iBAAU1D,QAAQ,EAAIyC,IAAI,CAAE,OAAO,CAAC,QAA5DkB,GAAG,mDACAA,GAAG,CAACC,IAAI,iEAChB,+QAED,yMACkB,KAAI,CAACF,OAAO,iBAAmB,QAA3CC,GAAG,mDACAA,GAAG,iEACX,4HAOUd,oDAAQ,E;;ACjHvB,GAAMoB,gCAAe,CAAG,QAAlBA,gBAAe,MAAmC,IAA7B/B,MAAK,MAALA,KAAK,CAAEgC,KAAK,MAALA,KAAK,CAAEC,QAAQ,MAARA,QAAQ,CAC/C,cAA8BnF,yBAAQ,CAAC,EAAE,CAAC,kEAAnCoF,OAAO,eAAEC,UAAU,eAE1B,GAAMC,oBAAmB,CAAGC,4BAAW,CACrC,SAAAC,IAAI,CAAI,CACN;AACA,GAAMC,eAAc,CAAGvC,KAAK,CAACwC,KAAK,CAAC,CAAC,CAAER,KAAK,CAAC,CAC5CG,UAAU,CAACI,cAAc,CAAC,CAC1BN,QAAQ,CAACM,cAAc,CAAC,CAC1B,CAAC,CACD,CAACP,KAAK,CAAEG,UAAU,CAAE,CACrB,CACD;AAEAlF,0BAAS,CAAC,UAAM,CACdmF,mBAAmB,CAACpC,KAAK,CAAC,CAC5B,CAAC,CAAE,CAACA,KAAK,CAAC,CAAC,CAEX,mBACE,0DACE,uCACE,QAAQ,CAAE,kBAAAyC,KAAK,QAAIL,oBAAmB,CAACK,KAAK,CAAC3C,MAAM,CAACE,KAAK,CAAC,EAAC,CAC3D,KAAK,CAAEkC,OAAQ,EACf,cACF,2CAAG,kBACe,CAACF,KAAK,cAAC,mCAAS,CAC/BE,OAAO,CAACtC,MAAM,CAAC,GAAC,CAACoC,KAAK,GACrB,GACA,CAEV,CAAC,CAEcD,0FAAe,E;;ACjC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASW,gBAAe,EAAoB,IAAnBC,WAAU,2DAAG,IAAI,CACxC,cAA4B7F,yBAAQ,CAAC,KAAK,CAAC,kEAApC8F,MAAM,eAAEC,SAAS,eAExB,GAAMC,gBAAe,CAAGC,uBAAM,CAAC,KAAK,CAAC,CAErC9F,0BAAS,CACL,QAAS+F,iBAAgB,EAAG,CAC1B7F,OAAO,CAACC,KAAK,CACT,4CAA4C,CAAE,SAAS,CAAEwF,MAAM,CAAC,CAEpE,GAAIA,MAAM,EAAI,CAACE,eAAe,CAACG,OAAO,CAAE,CACtCH,eAAe,CAACG,OAAO,CAAG,IAAI,CAC9BC,UAAU,CAAC,QAASC,cAAa,EAAG,CAClCN,SAAS,CAAC,KAAK,CAAC,CAChBC,eAAe,CAACG,OAAO,CAAG,KAAK,CACjC,CAAC,CAAEN,UAAU,CAAC,CAChB,CACF,CAAC,CACD,CAACC,MAAM,CAAED,UAAU,CAAC,CACvB,CAED,MAAO,CAACC,MAAM,CAAEC,SAAS,CAAC,CAC5B,CAEeH,yEAAe,E;;AC5C9B;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASU,YAAW,EAAG,CACrB,gBAAwCzF,2BAAU,CAACL,gBAAW,CAAC,CAAvDM,WAAW,aAAXA,WAAW,CAAEyF,cAAc,aAAdA,cAAc,CACnC,GAAM1E,QAAO,CAAGC,0CAAU,EAAE,CAC5B,cAAgC9B,yBAAQ,CAAC,CACvCwG,GAAG,CAAE1F,WAAW,CAAC0F,GAAG,EAAI,EAAE,CAC1BC,YAAY,CAAE3F,WAAW,CAAC2F,YAAY,EAAI,EAAE,CAC5CC,aAAa,CAAE5F,WAAW,CAAC4F,aAAa,EAAK,EAAE,CAC/CC,YAAY,CAAE7F,WAAW,CAAC6F,YAAY,EAAK,EAC7C,CAAC,CAAC,kEALK3E,QAAQ,eAAEC,WAAW,eAM5B,eAAoCjC,yBAAQ,CAAC,EAAE,CAAC,mEAAzCkC,UAAU,eAAEC,aAAa,eAEhC;AACA,eAA0CnC,yBAAQ,CAAC,KAAK,CAAC,mEAAlD4G,aAAa,eAAEC,gBAAgB,eACtC;AAEA;AACF;AACA;AACA;AACA;AACA;AACA,KANE,QAQezE,aAAY,iDA+B3B,qLA/BA,iBAA4BC,GAAG,mLAC7BA,GAAG,CAACC,cAAc,EAAE,CAEhBwE,WAAW,CAAG,CAChBN,GAAG,CAAExE,QAAQ,CAACwE,GAAG,CACjBC,YAAY,CAAEzE,QAAQ,CAACyE,YAAY,CACnCC,aAAa,CAAE1E,QAAQ,CAAC0E,aAAa,CACrCC,YAAY,CAAE3E,QAAQ,CAAC2E,YACzB,CAAC,CAEG3F,QAAQ,CAAGF,WAAW,CAACE,QAAQ,uCAIb6C,IAAQ,CAACkD,WAAW,CAAC/F,QAAQ,CAAE8F,WAAW,CAAC,QAA/DE,WAAW,8FAEX3G,OAAO,CAAC4G,GAAG,CAAC,QAAQ,aAAS,CAC7B,SACA9E,aAAa,aAAQ,CAAC,yCAIxBF,WAAW,CAAC,SAAAiF,CAAC,8FAAUA,CAAC,MAAEnF,QAAQ,CAAE,EAAE,IAAG,CAAC,CAC1CI,aAAa,CAAC,EAAE,CAAC,CACjB0E,gBAAgB,CAAC,IAAI,CAAC,CAEtB;AACAN,cAAc,CAACS,WAAW,CAAC,CAC3BnF,OAAO,CAACY,IAAI,CAAC,UAAU,CAAC,CAAC,oEAC1B,+CAGD,QAASM,aAAY,CAACE,IAAI,CAAEC,KAAK,CAAE,CACjC;AACA;AACAjB,WAAW,CAAC,SAAAiF,CAAC,8FACRA,CAAC,kDACHjE,IAAI,CAAGC,KAAK,IACb,CAAC,CACHf,aAAa,CAAC,EAAE,CAAC,CACnB,CAEA,mBACI,0DACE,4CAAI,YAAU,CAACrB,WAAW,CAACE,QAAQ,CAAC,mDAAiD,GAAK,cAC1F,0CAAI,SAAO,EAAK,cACZ,2DACE,0DACE,6CAAO,KAAG,EAAQ,cAClB,2BAAC,sBAAe,EAAC,KAAK,CAAEgB,QAAQ,CAACwE,GAAI,CAAC,KAAK,CAAE,GAAI,CAAC,QAAQ,CAAE,kBAACW,QAAQ,CAAK,CAAC,MAAOpE,aAAY,CAAC,KAAK,CAAEoE,QAAQ,CAAC,EAAE,EAAG,GAChH,cACN,0DACE,6CAAO,UAAQ,EAAQ,cACvB,2BAAC,sBAAe,EAAC,KAAK,CAAEnF,QAAQ,CAACyE,YAAa,CAAC,KAAK,CAAE,GAAI,CAAC,QAAQ,CAAE,kBAACU,QAAQ,CAAK,CAAC,MAAOpE,aAAY,CAAC,cAAc,CAAEoE,QAAQ,CAAC,EAAE,EAAG,GAOlI,cACN,0DACE,6CAAO,6BAA2B,EAAQ,cAC1C,2BAAC,sBAAe,EAAC,KAAK,CAAEnF,QAAQ,CAAC0E,aAAc,CAAC,KAAK,CAAE,GAAI,CAAC,QAAQ,CAAE,kBAACS,QAAQ,CAAK,CAAC,MAAOpE,aAAY,CAAC,eAAe,CAAEoE,QAAQ,CAAC,EAAE,EAAG,GACpI,cACN,0DACE,6CAAO,eAAa,EAAQ,cAE5B,oCACI,IAAI,CAAC,cAAc,CACnB,KAAK,CAAEnF,QAAQ,CAAC2E,YAAY,EAAI,EAAG,CACnC,QAAQ,CAAE,kBAAChB,KAAK,CAAK,CAAC,MAAO5C,aAAY,CAAC,cAAc,CAAE4C,KAAK,CAAC3C,MAAM,CAACE,KAAK,CAAC,EAAE,EACjF,GACE,CAGLhB,UAAU,CAACY,MAAM,cACZ,2BAAC,YAAK,EAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAEZ,UAAW,EAAG,CAC7C,IAAI,CAET0E,aAAa,cAEV,2BAAC,YAAK,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAE,CAAC,uBAAuB,CAAE,EAAG,CAC3D,IAAI,cAEV,qCACI,SAAS,CAAC,gCAAgC,CAC1C,OAAO,CAAExE,YAAa,UACzB,cAED,EAAS,GACJ,GACP,CAEZ,CAEekE,oEAAW,E;;AC5I1B;AACA,QAASc,UAAS,MAAgC,IAA5BnE,KAAI,MAAJA,IAAI,CAAEoE,WAAW,MAAXA,WAAW,CAAEC,KAAK,MAALA,KAAK,CAC1C,mBACI,wDACI,4BAAC,gCAAI,EAAC,EAAE,mBAAarE,IAAI,CAAG,wBACxB,0CAAKA,IAAI,EAAM,cACf,kCAAK,GAAG,CAAEqE,KAAM,CAAC,GAAG,CAAErE,IAAK,EAAG,cAC9B,0CAAKoE,WAAW,EAAM,GACnB,EACL,CAEd,CAEeD,8DAAS,E;;ACTxB;AAEA,QAASG,gBAAe,EAAG,CACvB,eAAqBC,yCAAS,EAAE,CAAxBxG,QAAQ,YAARA,QAAQ,CAChB,eAAqBW,yBAAS,EAAE,CAAxBC,QAAQ,YAARA,QAAQ,CAChB,gBAAwBf,2BAAU,CAACL,gBAAW,CAAC,CAAvCM,WAAW,aAAXA,WAAW,CACnB,cAAwBd,yBAAQ,CAAC,KAAK,CAAC,kEAAhCyH,IAAI,eAAEC,OAAO,eACpB,eAAsC1H,yBAAQ,CAAC,CAAC,CAAC,CAAC,mEAA3C2H,WAAW,eAAEC,cAAc,eAClC,eAA0C5H,yBAAQ,CAAC,EAAE,CAAC,mEAA/C6H,aAAa,eAAEC,gBAAgB,eACtC,eAA4B9H,yBAAQ,CAAC,MAAM,CAAC,mEAArC+H,MAAM,eAAEC,SAAS,eACxB,eAA0ChI,yBAAQ,CAAC,KAAK,CAAC,oEAAlDgF,aAAa,gBAAEiD,gBAAgB,gBACtC,gBAAoCjI,yBAAQ,CAAC,EAAE,CAAC,qEAAzCkC,UAAU,gBAAEC,aAAa,gBAAiB,QAElC+F,iBAAgB,gNAA/B,6MAC8BrE,IAAQ,CAACqE,gBAAgB,CAAClH,QAAQ,CAAE+G,MAAM,CAAE/C,aAAa,CAAC,QAAhF6C,aAAa,gBACjBC,gBAAgB,CAACD,aAAa,CAAC,CAAC,wDACnC,mDAED1H,0BAAS,CAAC,UAAM,SACGgI,YAAW,iMAA1B,uLACQzF,MAAM,CAAGR,UAAU,CACvB;AAAA,sCAE4B2B,IAAQ,CAACuE,cAAc,CAACpH,QAAQ,CAAC,QAArD2G,YAAW,eACfC,cAAc,CAACD,YAAW,CAAC,CAC3B,GAAIjF,MAAM,CAAE,CACRiF,YAAW,CAACjF,MAAM,CAACC,OAAO,CAAC,SAAAC,CAAC,QAAKhB,SAAQ,CAACgB,CAAC,CAAE,CAAEC,UAAU,CAAE,OAAQ,CAAC,CAAC,GAAC,CAC1E,CAAC,+EAED,GAAI,YAAOC,MAAM,CAAG,CAAC,CAAE,CACnBlB,QAAQ,CAAC,YAAO,CAAC,CAAC,CAAE,CAAEiB,UAAU,CAAE,OAAQ,CAAC,CAAC,CAChD,CACAV,aAAa,aAAQ,CAAC,oEAE7B,8CACDgG,WAAW,EAAE,CACjB,CAAC,CAAE,CAACnH,QAAQ,CAAC,CAAC,CAEdb,0BAAS,CAAC,UAAM,CACZ,GAAIW,WAAW,EAAI6G,WAAW,CAAE,CAC5BD,OAAO,CAAC5G,WAAW,CAACE,QAAQ,GAAK2G,WAAW,CAAC3G,QAAQ,CAAC,CAC1D,CACJ,CAAC,CAAE,CAAC2G,WAAW,CAAE7G,WAAW,CAAC,CAAC,CAE9BX,0BAAS,CAAC,UAAM,CACZ;AACA;AACA;AACA;AACA;AACA+H,gBAAgB,EAAE,CAEtB,CAAC,CAAE,CAACH,MAAM,CAAE/C,aAAa,CAAC,CAAC,CAE3B;AACA;AAAA,QACe5C,aAAY,0MAA3B,kBAA4BpB,QAAQ,CAAEqH,QAAQ,yKACpCxE,IAAQ,CAACyE,cAAc,CAACtH,QAAQ,CAAEqH,QAAQ,CAAC,QACjDH,gBAAgB,EAAE,CAAC,wDACtB,uDAEcK,mBAAkB,6NAAjC,kBAAkCxD,SAAS,CAAEyD,SAAS,kJAClDR,SAAS,CAACjD,SAAS,CAAC,CACpBkD,gBAAgB,CAACO,SAAS,CAAC,CAC3B;AAAA,wDACH,qDAID,mBACI,6CACKf,IAAI,cAAG,2BAAC,mCAAO,EAAC,EAAE,YAAc,UAAC,mBAAiB,EAAU,CAAG,EAAE,CACjEA,IAAI,cAAG,4CAAI,iCAA+B,CAACE,WAAW,CAAC3G,QAAQ,GAAM,cAAG,4CAAI,iCAA+B,CAACA,QAAQ,GAAM,cAC3H,kCAAK,GAAG,CAAE2G,WAAW,CAAChB,YAAa,CAAC,GAAG,CAAE,eAAgB,EAAG,cAC5D,4CAAI,YAAU,CAACgB,WAAW,CAAClB,YAAY,GAAM,cAC7C,4CAAI,+BAA6B,CAACkB,WAAW,CAACjB,aAAa,GAAM,cACjE,2CAAG,OAAK,CAACiB,WAAW,CAACnB,GAAG,GAAK,cAC7B,0CAAI,gBAAc,EAAK,cAEvB,0CAAI,qBAAmB,EAAK,CAC3BuB,MAAM,EAAI,MAAM,EAAI/C,aAAa,EAAI,KAAK,eAC3C;AACK,qCAAQ,OAAO,CAAE,iBAAAyD,CAAC,QAAIF,mBAAkB,CAAC,MAAM,CAAE,MAAM,CAAC,EAAC,UAAC,KAAG,EAAS,eACvE;AACC,qCAAQ,OAAO,CAAE,iBAAAE,CAAC,QAAIF,mBAAkB,CAAC,MAAM,CAAE,KAAK,CAAC,EAAC,UAAC,KAAG,EAAU,cAE3E,qCAAQ,OAAO,CAAE,iBAAAE,CAAC,QAAIF,mBAAkB,CAAC,QAAQ,CAAE,KAAK,CAAC,EAAC,UAAC,qBAAmB,EAAS,cACvF,qCAAQ,OAAO,CAAE,iBAAAE,CAAC,QAAIF,mBAAkB,CAAC,QAAQ,CAAE,MAAM,CAAC,EAAC,UAAC,qBAAmB,EAAS,cACxF,2CACSV,aAAa,CAACtG,GAAG,CAAC,SAAA2F,CAAC,qBAChB,0DACI,2BAAC,gBAAS,EAEN,IAAI,CAAEA,CAAC,CAACjE,IAAK,CACb,KAAK,CAAEiE,CAAC,CAACI,KAAM,CACf,WAAW,CAAEJ,CAAC,CAACG,WAAY,EAHtBH,CAAC,CAACjE,IAAI,CAAGiE,CAAC,CAACwB,KAAK,CAIvB,CACDjB,IAAI,cACL,qCAAQ,OAAO,CAAE,yBAAMrF,aAAY,CAACpB,QAAQ,CAAEkG,CAAC,CAACmB,QAAQ,CAAC,EAAC,UAAC,iBAE3D,EAAS,cAAI,qCAAa,GACxB,EACT,CAAC,EACA,GACR,CAEV;AACA;AACA;AACJ,CAEed,+DAAe,E;;ACpH9B,QAASoB,SAAQ,CAACC,KAAK,CAAE,CACrB,cAA8B5I,yBAAQ,CAAC,KAAK,CAAC,kEAAtC6I,OAAO,eAAEC,UAAU,eAE1B,GAAM/F,aAAY,CAAG,QAAfA,aAAY,EAAS,CACvB+F,UAAU,CAAC,CAACD,OAAO,CAAC,CACpBD,KAAK,CAACzD,QAAQ,CAAC,CAAC,SAAS,CAAE,CAAC0D,OAAO,CAAE,OAAO,CAAED,KAAK,CAAC3F,IAAI,CAAC,CAAC,CAC9D,CAAC,CACD;AAEA,mBACI,wDACI,0DACI,oCACI,IAAI,CAAC,UAAU,CACf,OAAO,CAAE4F,OAAQ,CACjB,QAAQ,CAAE9F,YAAa,CACvB,IAAI,CAAE6F,KAAK,CAAC3F,IAAK,CACjB,KAAK,CAAE2F,KAAK,CAAC3F,IAAK,EACpB,EACE,EACN,CAEd,CAAC,CAEc0F,4DAAQ,E;;ACvBvB,QAASI,yBAAwB,MAAe,IAAZ5D,SAAQ,MAARA,QAAQ,CACxC,GAAM6D,WAAU,CAAG,CAAE,QAAQ,CAAE,WAAW,CAAE,QAAQ,CAAE,QAAQ,CAAE,YAAY,CAAE,MAAM,CAAE,WAAW,CAAE,OAAO,CAAE,OAAO,CAAE,OAAO,CAAC,CAC7H,cAAgChJ,yBAAQ,CAAC,EAAE,CAAC,kEAArCiJ,QAAQ,eAAEC,WAAW,eAC5B;AAEA/I,0BAAS,CAAC,UAAM,CACZgF,QAAQ,CAAC8D,QAAQ,CAAC,CACtB,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,GAAME,cAAa,CAAG,QAAhBA,cAAa,CAAIP,KAAK,CAAK,CAC7B,GAAIA,KAAK,CAACC,OAAO,CAAE,CACf,GAAMO,MAAK,CAAGH,QAAQ,CAACI,OAAO,CAACT,KAAK,CAAC1F,KAAK,CAAC,CAC3C,GAAIkG,KAAK,CAAG,CAAC,CAAC,CAAE,CACZH,QAAQ,CAACK,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,CACzBF,WAAW,CAACD,QAAQ,CAAC,CACzB,CAAC,IAAM,CACHA,QAAQ,CAACxG,IAAI,CAACmG,KAAK,CAAC1F,KAAK,CAAC,CAC1BgG,WAAW,CAACD,QAAQ,CAAC,CACzB,CACA;AACA;AAEJ,CACJ,CAAC,CACD,mBACI,2CACKD,UAAU,CAACzH,GAAG,CAAC,SAAAgI,CAAC,qBACb,mCAAK,SAAS,CAAC,iBAAiB,wBAC5B,oCAAe,OAAO,CAAEA,CAAE,UAAEA,CAAC,EAAjBA,CAAC,CAAyB,cACtC,2BAAC,eAAQ,EAAC,QAAQ,CAAEJ,aAAc,CAAC,IAAI,CAAEI,CAAE,EAAE,GAC3C,EACT,CAAC,EAGA,CAEd,CAGeR,4FAAwB,E;;ACvCvC,QAASS,kBAAiB,MAAe,IAAZrE,SAAQ,MAARA,QAAQ,CACjC,GAAM6D,WAAU,CAAG,CAAC,mBAAmB,CAAE,uBAAuB,CAAC,CACjE,cAAgChJ,yBAAQ,CAAC,EAAE,CAAC,kEAArCiJ,QAAQ,eAAEC,WAAW,eAE5B/I,0BAAS,CAAC,UAAM,CACZgF,QAAQ,CAAC8D,QAAQ,CAAC,CACtB,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CAEd,GAAME,cAAa,CAAG,QAAhBA,cAAa,CAAIP,KAAK,CAAK,CAC7B,GAAIA,KAAK,CAACC,OAAO,CAAE,CACf,GAAMO,MAAK,CAAGH,QAAQ,CAACI,OAAO,CAACT,KAAK,CAAC1F,KAAK,CAAC,CAC3C,GAAIkG,KAAK,CAAG,CAAC,CAAC,CAAE,CACZH,QAAQ,CAACK,MAAM,CAACF,KAAK,CAAE,CAAC,CAAC,CACzBF,WAAW,CAACD,QAAQ,CAAC,CACzB,CAAC,IAAM,CACHA,QAAQ,CAACxG,IAAI,CAACmG,KAAK,CAAC1F,KAAK,CAAC,CAC1BgG,WAAW,CAACD,QAAQ,CAAC,CACzB,CACA;AAEJ,CACJ,CAAC,CAEG,mBACI,0DACI,gCAAG,IAAI,CAAC,2BAA2B,UAAC,iBAAe,EAAI,CACtDD,UAAU,CAACzH,GAAG,CAAC,SAAAgI,CAAC,qBACb,mCAAK,SAAS,CAAC,iBAAiB,wBAC5B,oCAAe,OAAO,CAAEA,CAAE,UAAEA,CAAC,EAAjBA,CAAC,CAAyB,cACtC,2BAAC,eAAQ,EAAC,QAAQ,CAAEJ,aAAc,CAAC,IAAI,CAAEI,CAAE,EAAE,GAC3C,EACT,CAAC,GAGA,CAElB,CAEeC,8EAAiB,E;;ACvChC;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAEA,QAASC,WAAU,MAA8B,IAA3BC,UAAS,MAATA,SAAS,CAAEC,YAAY,MAAZA,YAAY,CAC3C;AACAtJ,OAAO,CAACC,KAAK,CAAC,YAAY,CAAE,YAAY,CAAE,MAAOoJ,UAAS,CAAC,CAE3D,cAAoC1J,yBAAQ,CAAC,EAAE,CAAC,kEAAzC4J,UAAU,eAAEC,aAAa,eAChC,eAAkC7J,yBAAQ,CAAC,CAAC,CAAC,mEAAtC8J,SAAS,eAAEC,YAAY,eAC9B,eAAkC/J,yBAAQ,CAAC,EAAE,CAAC,mEAAvCgK,SAAS,eAAEC,YAAY,eAC9B,eAAkDjK,yBAAQ,CAAC,CAAC,CAAC,CAAC,mEAAvDkK,iBAAiB,eAAEC,oBAAoB,eAC9C,eAAkDnK,yBAAQ,CAAC,CAAC,CAAC,CAAC,oEAAvDoK,iBAAiB,gBAAEC,oBAAoB,gBAC9C;AAGA,4BACA,QAASjI,aAAY,CAACC,GAAG,CAAE,CACzB;AACAA,GAAG,CAACC,cAAc,EAAE,CACpBoH,SAAS,CAACE,UAAU,CAACU,IAAI,EAAE,EAAIC,SAAS,CAAC,CACzCV,aAAa,CAAC,EAAE,CAAC,CACnB,CAEA,QAASW,mBAAkB,CAAC/B,CAAC,CAAE,CAC7BA,CAAC,CAACnG,cAAc,EAAE,CAClBqH,YAAY,CAAC,CAACG,SAAS,CAATA,SAAS,CAAEE,SAAS,CAATA,SAAS,CAAEE,iBAAiB,CAAjBA,iBAAiB,CAAEE,iBAAiB,CAAjBA,iBAAiB,CAAC,CAAC,CAE5E,CACA;AACA;AAEA,yBACA,QAASrH,aAAY,CAACV,GAAG,CAAE,CACzBwH,aAAa,CAACxH,GAAG,CAACW,MAAM,CAACE,KAAK,CAAC,CACjC,CAEA,mBACI,0DACE,kCAAK,SAAS,CAAC,cAAc,uBAC3B,oCAAM,SAAS,CAAC,mBAAmB,CAAC,QAAQ,CAAEd,YAAa,wBACzD,yCAAG,uBAAqB,EAAI,cAC5B,oCAAO,OAAO,CAAC,YAAY,UAAC,aAAW,EAAQ,cAC/C,oCACI,IAAI,CAAC,YACL;AAAA,CACA,WAAW,CAAC,qBAAqB,CACjC,QAAQ,CAAEW,YAAa,CACvB,KAAK,CAAE6G,UAAW,EACpB,cACF,qCAAQ,IAAI,CAAC,QAAQ,UAAC,QAEtB,EAAS,GACJ,EACH,cACN,kCAAK,SAAS,CAAC,mBAAmB,uBAChC,oCAAM,QAAQ,CAAEY,kBAAmB,wBACjC,yCAAG,0GAAyG,EAAI,cAChH,oCAAO,OAAO,CAAC,WAAW,UAAC,uBAAqB,EAAQ,cACxD,oCACI,IAAI,CAAC,WAAW,CAChB,WAAW,CAAC,iBAAiB,CAC7B,KAAK,CAAEV,SAAU,CACjB,QAAQ,CAAE,kBAAArB,CAAC,QAAIsB,aAAY,CAACtB,CAAC,CAACzF,MAAM,CAACE,KAAK,CAAC,EAAC,EAC9C,cACF,oCAAO,OAAO,CAAC,WAAW,UAAC,uBAAqB,EAAQ,cACxD,oCACI,IAAI,CAAC,WAAW,CAChB,WAAW,CAAC,iBAAiB,CAC7B,KAAK,CAAE8G,SAAU,CACjB,QAAQ,CAAE,kBAAAvB,CAAC,QAAIwB,aAAY,CAACxB,CAAC,CAACzF,MAAM,CAACE,KAAK,CAAC,EAAC,EAC9C,cACF,yCAAG,4FAA0F,EAAI,cACjG,2BAAC,+BAAwB,EACvB,QAAQ,CAAEiH,oBAAqB,CAC/B,KAAK,CAAED,iBAAkB,EACzB,cACF,2BAAC,wBAAiB,EAChB,QAAQ,CAAEG,oBAAqB,CAC/B,KAAK,CAAED,iBAAkB,EACzB,cAEF,qCAAQ,IAAI,CAAC,QAAQ,UAAC,QAEtB,EAAS,GACJ,EACH,GACF,CAEZ,CAEeX,gEAAU,E;;;;;ACpGzB,GAAMgB,sBAAU,CAAG,QAAbA,WAAU,MAAgD,IAA1CC,OAAM,MAANA,MAAM,CAAEC,WAAW,MAAXA,WAAW,CAAEC,cAAc,MAAdA,cAAc,CAErD,GAAMC,YAAW,CAAG,6CAAIrG,KAAK,CAACkG,MAAM,CAAG,CAAC,CAAC,CAACI,IAAI,EAAE,EAAEpF,KAAK,CAAC,CAAC,CAAC,CAE1D,GAAMqF,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACf,GAAGJ,WAAW,GAAKD,MAAM,CAAEE,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CAClE,CAAC,CACD,GAAMK,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACnB,GAAGL,WAAW,GAAK,CAAC,CAAEC,cAAc,CAACD,WAAW,CAAG,CAAC,CAAC,CACzD,CAAC,CACD,mBACI,wDACI,yDACI,uDACI,gCAAG,OAAO,CAAEK,QAAS,CAAC,IAAI,CAAC,GAAG,UAAC,UAAQ,EAAI,EAC1C,CACJH,WAAW,CAACtJ,GAAG,CAAC,SAAA0J,QAAQ,qBACrB,uDACA,gCAAG,OAAO,CAAE,yBAAML,eAAc,CAACK,QAAQ,CAAC,EAAC,CAAC,IAAI,CAAC,GAAG,UAAEA,QAAQ,EAAK,EAD1DA,QAAQ,CAEZ,EACR,CAAC,cACF,uDACI,gCAAG,OAAO,CAAEF,QAAS,CAAC,IAAI,CAAC,GAAG,UAAC,MAAI,EAAI,EACtC,GACJ,EACH,CAEV;AACJ,CAAC,CAEcN,2EAAU,E;;ACvBzB;AAEA,QAASS,aAAY,EAAG,CACpB,eAAqBvJ,yBAAS,EAAE,CAAxBC,QAAQ,YAARA,QAAQ,CAChB,cAA4B5B,yBAAQ,CAAC,EAAE,CAAC,kEAAjCmL,MAAM,eAAEC,SAAS,eACxB,eAA4BpL,yBAAQ,CAAC,EAAE,CAAC,mEAAjC0C,MAAM,eAAE2I,SAAS,eACxB,eAA0CrL,yBAAQ,CAAC,EAAE,CAAC,mEAA/CsL,aAAa,eAAEC,gBAAgB,eACtC,eAAsCvL,yBAAQ,CAAC,CAAC,CAAC,mEAA1C2K,WAAW,eAAEC,cAAc,eAClC,eAAwB5K,yBAAQ,CAAC,EAAE,CAAC,oEAA7BwL,aAAa,gBAEpB,gBAA4BxL,yBAAQ,CAAC,CAAC,CAAC,qEAAhC0K,MAAM,gBAAEe,SAAS,gBAExB,GAAM5J,QAAO,CAAGC,0CAAU,EAAE,CAE5B3B,0BAAS,CAAC,UAAM,CACZsL,SAAS,CAACC,IAAI,CAACC,IAAI,CAACR,MAAM,CAACrI,MAAM,CAAG0I,aAAa,CAAC,CAAC,CACnD,GAAMI,iBAAgB,CAAGjB,WAAW,CAAGa,aAAa,CACpD,GAAMK,kBAAiB,CAAGD,gBAAgB,CAAGJ,aAAa,CAC1D,GAAMM,cAAa,CAAGX,MAAM,CAACzF,KAAK,CAACmG,iBAAiB,CAAED,gBAAgB,CAAC,CACvEL,gBAAgB,CAACO,aAAa,CAAC,CAEnC,CAAC,CAAE,CAACX,MAAM,CAAER,WAAW,CAAC,CAAC,CACzB;AAEAxK,0BAAS,CAAC,UAAM,SACG4L,oBAAmB,yNAAlC,gMACuBlI,IAAQ,CAACmI,YAAY,EAAE,QAAtCb,MAAM,eACVC,SAAS,CAACD,MAAM,CAAC,CAAC,sDACrB,sDACDY,mBAAmB,EAAE,CACzB,CAAC,CAAE,EAAE,CAAC,CACN;AAAA,QAEepC,aAAY,sMAA3B,kBAA4BsC,OAAO,+KAE3B,SAAQ,uBACWpI,IAAQ,CAACqI,MAAM,CAACD,OAAO,CAAC,QAAvCd,OAAM,gBACVC,SAAS,CAACD,OAAM,CAAC,CACjB,GAAI,CAACA,OAAM,CAACrI,MAAM,CAAE,CAChBjB,OAAO,CAACY,IAAI,CAAC,YAAY,CAAC,CAC9B,CAAC,mFAED,GAAI,aAAOK,MAAM,CAAG,CAAC,CAAE,CACnBlB,QAAQ,CAAC,aAAO,CAAC,CAAC,CAAE,CAAEiB,UAAU,CAAE,OAAQ,CAAC,CAAC,CAC5C;AACA;AACJ,CACAwI,SAAS,cAAQ,CAAC,sEAEzB,uDAEca,OAAM,qLAArB,kBAAsBjJ,IAAI,oLACHY,IAAQ,CAACqI,MAAM,CAAC,CAACjJ,IAAI,CAAJA,IAAI,CAAC,CAAC,QAAtCkI,MAAM,gBACVC,SAAS,CAACD,MAAM,CAAC,CACjB,GAAI,CAACA,MAAM,CAACrI,MAAM,CAAE,CAChBjB,OAAO,CAACY,IAAI,CAAC,YAAY,CAAC,CAC1B;AACJ,CAAC,wDACJ,yCAED,mBACI,0DACI,wDACI,2BAAC,iBAAU,EAAC,SAAS,CAAEyJ,MAAO,CAAC,YAAY,CAAEvC,YAAa,CAAC,MAAM,CAAEjH,MAAO,EAAG,EAE3E,cACN,2CACK4I,aAAa,CAACxI,MAAM,CAAG,CAAC,cAErB,0DACI,2CACKwI,aAAa,CAAC/J,GAAG,CAAC,SAAA4K,CAAC,qBAChB,2BAAC,gBAAS,EAEN,IAAI,CAAEA,CAAC,CAAClJ,IAAK,CACb,KAAK,CAAEkJ,CAAC,CAAC7E,KAAM,CACf,WAAW,CAAE6E,CAAC,CAAC9E,WAAY,EAHtB8E,CAAC,CAAClJ,IAAI,CAAGkJ,CAAC,CAACzD,KAAK,CAIvB,EACL,CAAC,EACA,cACN,wDACI,2BAAC,iBAAU,EACP,MAAM,CAAEgC,MAAO,CACf,WAAW,CAAEC,WAAY,CACzB,cAAc,CAAEC,cAAe,EACjC,EACA,GAEJ,cAEN,0CAAI,sBAAoB,EAC3B,EACC,GACJ,CAGd,CAEeM,oEAAY,E;;ACxG3B,QAASkB,aAAY,EAAG,CAEpB,mBACI,0DACI,0CAAI,sDAAoD,EAAK,cAC7D,2BAAC,mCAAO,EAAC,EAAE,UAAY,UAAC,wBAAsB,EAAU,GACtD,CAGd,CAAC,CAEcA,gEAAY,E;;ACV3B;AACA;AACA;AACA;AACA;AACA,GAEA,QAASC,aAAY,MAA4B,IAAzBC,MAAK,MAALA,KAAK,CAAEC,IAAI,MAAJA,IAAI,CAAEC,QAAQ,MAARA,QAAQ,CAC3C,gBAAwB3L,2BAAU,CAACL,gBAAW,CAAC,CAAvCM,WAAW,aAAXA,WAAW,CAEnBT,OAAO,CAACC,KAAK,CACT,cAAc,CACd,QAAQ,CAAEgM,KAAK,CACf,OAAO,CAAEC,IAAI,CACb,cAAc,CAAEzL,WAAW,CAC9B,CAED,GAAI,CAACA,WAAW,CAAE,CAChB,mBAAO,2BAAC,gCAAQ,EAAC,EAAE,CAAC,QAAQ,EAAG,CACjC,CAEA,mBACI,2BAAC,6BAAK,EAAC,KAAK,CAAEwL,KAAM,CAAC,IAAI,CAAEC,IAAK,UAC7BC,QAAQ,EACH,CAEd,CAEeH,wEAAY,E;;AC/B3B;AAEA,8DAEA,QAASI,eAAc,EAAG,CACxB,mBACI,kCAAK,SAAS,CAAC,gBAAgB,UAAC,aAEhC,EAAM,CAEZ,CAEeA,wEAAc,E;;ACT7B,QAASC,UAAS,MAA6B,IAAzBzJ,KAAI,MAAJA,IAAI,CAAE0J,QAAQ,MAARA,QAAQ,CAAErF,KAAK,MAALA,KAAK,CACvC,mBACI,4BAAC,gCAAI,EAAC,EAAE,mBAAarE,IAAI,CAAG,wBACxB,0CAAKA,IAAI,EAAM,CACdqE,KAAK,cACN,0CAAKqF,QAAQ,EAAM,GAChB,CAEf,CAEeD,8DAAS,E;;ACNxB,QAASE,UAAS,EAAG,CAEjB,cAA4B5M,yBAAQ,CAAC,IAAI,CAAC,kEAAnC6M,MAAM,eAAEC,SAAS,eAExB3M,0BAAS,CAAC,UAAM,SACG4M,UAAS,2LAAxB,gMACuBlJ,IAAQ,CAACmJ,YAAY,EAAE,QAAtCH,MAAM,eACVC,SAAS,CAACD,MAAM,CAAC,CAAC,sDACrB,4CACDE,SAAS,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAACF,MAAM,CAAE,mBAAO,2BAAC,qBAAc,IAAG,CAEtC,mBACI,2CACKA,MAAM,CAAC/J,MACR;AAAA,cAEI,2CACK+J,MAAM,CAACtL,GAAG,CAAC,SAAA4K,CAAC,qBACT,2BAAC,gBAAS,EAEN,IAAI,CAAEA,CAAC,CAAClJ,IAAK,CACb,QAAQ,CAAEkJ,CAAC,CAACQ,QAAS,CACrB,KAAK,cAAE,kCAAK,GAAG,CAAER,CAAC,CAAC7E,KAAM,CAAC,GAAG,CAAE6E,CAAC,CAAClJ,IAAK,EAAG,EAHpCkJ,CAAC,CAAClJ,IAAI,CAIb,EACL,CAAC,EACA,cAEN,0CAAI,0BAAwB,EAC/B,EACC,CAEd,CAEe2J,8DAAS,E;;ACpCxB;AACA;AACA;AACA;AAIA,QAASK,YAAW,EAAG,CACnB,eAAiBzF,yCAAS,EAAE,CAApBvE,IAAI,YAAJA,IAAI,CAEZ,cAAsCjD,yBAAQ,CAAC,EAAE,CAAC,kEAA3CkN,WAAW,eAAEC,cAAc,eAElChN,0BAAS,CAAC,UAAM,SACGiN,eAAc,4MAA7B,iBAA8BnK,IAAI,oLACNY,IAAQ,CAACwJ,iBAAiB,CAACpK,IAAI,CAAC,QAApDiK,WAAW,eACfC,cAAc,CAACD,WAAW,CAAC,CAAC,sDAC/B,iDACDE,cAAc,CAACnK,IAAI,CAAC,CACxB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAEV;AACA;AAEA,mBACI,2CAGKiK,WAAW,CAACpK,MACb;AAAA,cAEI,0DACI,4CAAI,2CAAyC,CAACG,IAAI,CAAC,GAAC,GAAK,CACxDiK,WAAW,CAAC3L,GAAG,CAAC,SAAA4K,CAAC,qBACd,2BAAC,gBAAS,EAEN,IAAI,CAAEA,CAAC,CAAClJ,IAAK,CACb,KAAK,CAAEkJ,CAAC,CAAC7E,KAAM,CACf,WAAW,CAAE6E,CAAC,CAAC9E,WAAY,EAHtB8E,CAAC,CAAClJ,IAAI,CAIb,EACL,CAAC,GACA,cAEN,4CAAI,SAAO,CAACA,IAAI,CAAC,iBAAe,GACnC,EACC,CAEd,CAEegK,kEAAW,EAK1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA,I;;AC7EA;AACA;AAEA,QAASK,YAAW,MAAc,IAAZzI,GAAE,MAAFA,EAAE,CAAE0I,KAAK,MAALA,KAAK,CAC3B,eAAkB/F,yCAAS,EAAE,CAArBgG,KAAK,YAALA,KAAK,CACb;AACA,gBAAwB3M,2BAAU,CAACL,gBAAW,CAAC,CAAvCM,WAAW,aAAXA,WAAW,CAEnB,cAA8Bd,yBAAQ,CAAC,EAAE,CAAC,kEAAnC8E,OAAO,eAAE2I,UAAU,eAAiB,QAE5BrL,aAAY,sMAA3B,iBAA4BC,GAAG,iLACJwB,IAAQ,CAAC6J,WAAW,CAAC7I,EAAE,CAAEC,OAAO,CAAC,QAAlDP,QAAQ,eACd;AACAkJ,UAAU,CAAC,EAAE,CAAC,CACdF,KAAK,CAAChJ,QAAQ,CAAC,CACf;AAAA,sDACH,+CAED,mBACI,0DAEI,2BAAC,sBAAe,EAAC,KAAK,CAAEO,OAAQ,CAAC,KAAK,CAAE,GAAI,CAAC,QAAQ,CAAE2I,UAAW,EAAE,cACpE,qCAAQ,OAAO,CAAErL,YAAa,UAAC,QAE/B,EAAS,GACP,CAEd,CAEekL,mEAAW,E;;AC7B1B,QAASK,eAAc,MAAO,IAAL9I,GAAE,MAAFA,EAAE,CACvB,eAAkB2C,yCAAS,EAAE,CAArBgG,KAAK,YAALA,KAAK,CACb,gBAAwB3M,2BAAU,CAACL,gBAAW,CAAC,CAAvCM,WAAW,aAAXA,WAAW,CAEnB;AACA;AAEA,cAAgCd,yBAAQ,EAAE,kEAAnC4N,QAAQ,eAAEC,WAAW,eAC5B,eAAoC7N,yBAAQ,CAAC,KAAK,CAAC,mEAA5C8N,UAAU,eAAEC,aAAa,eAEhC;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA,QAEe3L,aAAY,iDAO/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA,qJArBI,iBAA4BC,GAAG,oKACrBwB,IAAQ,CAACmK,cAAc,CAAClN,WAAW,CAACE,QAAQ,CAAE6D,EAAE,CAAC,QACvDgJ,WAAW,CAAChJ,EAAE,CAAC,CACfkJ,aAAa,CAAC,IAAI,CAAC,CACnB;AAAA,sDACH,+CAkBG,mBACI,2CACKD,UAAU,cAEX,2BAAC,YAAK,EAAC,QAAQ,CAAE,CAAC,gCAAgC,CAAE,EAAG,cAEvD,qCAAQ,OAAO,CAAE1L,YAAa,UAAC,kCAE/B,EACE,EACA,CAElB,CAEeuL,yEAAc,E;;;;;;ACxD7B;AAIA,QAASM,YAAW,EAAG,CACnB,eAAiBzG,yCAAS,EAAE,CAApBvE,IAAI,YAAJA,IAAI,CACZ,gBAAwBpC,2BAAU,CAACL,gBAAW,CAAC,CAAvCM,WAAW,aAAXA,WAAW,CACnB,eAAqBa,yBAAS,EAAE,CAAxBC,QAAQ,YAARA,QAAQ,CAChB,cAA0B5B,yBAAQ,CAAC,IAAI,CAAC,kEAAjCwN,KAAK,eAAEU,QAAQ,eACtB,eAAgClO,yBAAQ,CAAC,EAAE,CAAC,mEAArCmO,QAAQ,eAAEC,WAAW,eAC5B,eAAoCpO,yBAAQ,CAAC,KAAK,CAAC,mEAA5CqO,UAAU,eAAEC,aAAa,eAGhCnO,0BAAS,CAAC,UAAM,SACGoO,SAAQ,0LAAvB,iBAAwBtL,IAAI,sMAEJY,IAAQ,CAAC0K,QAAQ,CAACtL,IAAI,CAAC,QAAjCuL,CAAC,eACPN,QAAQ,CAACM,CAAC,CAAC,CAAC,sBACI3K,IAAQ,CAAC4K,kBAAkB,CAACD,CAAC,CAAC3J,EAAE,CAAC,QAA3C0E,CAAC,eACP6E,WAAW,CAAC7E,CAAC,CAAC,CAAC,uBACS1F,IAAQ,CAACqE,gBAAgB,CAACpH,WAAW,CAACE,QAAQ,CAAE,MAAM,CAAE,KAAK,CAAC,SAAhF0N,SAAS,eAEf,GAAIA,SAAS,CAACC,IAAI,CAAC,SAAA/L,CAAC,QAAIA,EAAC,CAACyF,QAAQ,GAAKmG,CAAC,CAAC3J,EAAE,GAAC,CAAE,CAC1CyJ,aAAa,CAAC,IAAI,CAAC,CACvB,CAAC,iFAEL,GAAI,YAAOxL,MAAM,CAAG,CAAC,CAAE,CACnBlB,QAAQ,CAAC,YAAO,CAAC,CAAC,CAAE,CAAEiB,UAAU,CAAE,OAAQ,CAAC,CAAC,CAChD,CAAC,qEAEJ,2CAED0L,QAAQ,CAACtL,IAAI,CAAC,CAClB,CAAC,CAAE,CAACA,IAAI,CAAC,CAAC,CAGV;AAEA,GAAM2L,WAAU,CAAG,QAAbA,WAAU,CAAI9J,OAAO,CAAK,CAC5B,GAAM+J,gBAAe,wDAAOV,QAAQ,GAAErJ,OAAO,EAAC,CAC9CsJ,WAAW,CAACS,eAAe,CAAC,CAChC,CAAC,CAED,QAASC,uBAAsB,CAACtB,KAAK,CAAE,CACnC,GAAIuB,WAAU,CAAGvB,KAAK,CAACwB,kBAAkB,CACzCD,UAAU,CAAGA,UAAU,CAAC,CAAC,CAAC,CAACE,WAAW,EAAE,CAAGF,UAAU,CAACrJ,KAAK,CAAC,CAAC,CAAC,CAC9D,GAAMwJ,SAAQ,CAAGH,UAAU,CAACI,KAAK,CAAC,GAAG,CAAC,CACtC,GAAID,QAAQ,CAACpM,MAAM,EAAI,CAAC,CAAE,CACtB;AACA;AACA,GAAMsM,wCAAuC,CAAGF,QAAQ,CAACxJ,KAAK,CAAC,CAAC,CAAEwJ,QAAQ,CAACpM,MAAM,CAAG,CAAC,CAAC,CAACuM,IAAI,CAAC,IAAI,CAAC,CACjG;AACA,MAAOD,wCAAuC,CAAG,OAAO,CAAGF,QAAQ,CAACA,QAAQ,CAACpM,MAAM,CAAG,CAAC,CAAC,CACxF;AACJ,CAAC,IAAM,IAAIoM,QAAQ,CAACpM,MAAM,GAAK,CAAC,CAAE,CAC9B;AACA;AACA,GAAMwM,UAAS,CAAGJ,QAAQ,CAAC,CAAC,CAAC,CAAG,MAAM,CAAGA,QAAQ,CAAC,CAAC,CAAC,CACpD,MAAOI,UAAS,CAACC,MAAM,CAAC,CAAC,CAAC,CAACN,WAAW,EAAE,CAAGK,SAAS,CAAC5J,KAAK,CAAC,CAAC,CAAC,CACjE,CAAC,IAAM,IAAIwJ,QAAQ,CAACpM,MAAM,GAAK,CAAC,CAAE,CAC9B;AACA;AACA;AACA,MAAOoM,SAAQ,CAAC,CAAC,CAAC,CACtB,CAAC,IAAM,CACH;AACA;AACA;AACA,MAAO,2DAA2D,CAEtE,CAEJ,CAEA,mBACI,2CACK1B,KAAK,cAEE,0DACI,0CAAKA,KAAK,CAACvK,IAAI,EAAM,cACrB,kCAAK,GAAG,CAAEuK,KAAK,CAAClG,KAAM,CAAC,GAAG,CAAEkG,KAAK,CAACvK,IAAK,EAAO,cAC9C,0CAAKuK,KAAK,CAAC9E,KAAK,EAAM,cACtB,4CAAK8E,KAAK,CAAC1K,MAAM,CAAC,WAAS,CAAE4I,IAAI,CAAC8D,KAAK,CAAEC,UAAU,CAACjC,KAAK,CAAC1K,MAAM,CAAC,CAAG,OAAO,CAAE,CAAE,aAAW,GAAK,cAC/F,wDAAG,yCAAG,OAAK,EAAI,IAAC,CAAC0K,KAAK,CAACkC,IAAI,GAAK,cAC/B,wDAAG,yCAAG,mEAAiE,EAAI,IAAC,CAACZ,sBAAsB,CAACtB,KAAK,CAAC,CAAC,GAAC,GAAI,cACjH,wDAAG,2CAAG,QAAM,CAACA,KAAK,CAACvK,IAAI,GAAK,iDAAS,CAACuK,KAAK,CAACmC,WAAW,GAAK,CAC3DtB,UAAU,GAAK,IAAI,cAEhB,0CAAI,4BAA0B,EAAK,cAEnC,2BAAC,sBAAc,EAAC,EAAE,CAAEb,KAAK,CAAC3I,EAAG,EAChC,cAED,4CAAI,aAAW,CAAC2I,KAAK,CAACvK,IAAI,GAAM,cAChC,2BAAC,mBAAW,EAAC,IAAI,CAAEuK,KAAK,CAACvK,IAAK,CAAC,EAAE,CAAEuK,KAAK,CAAC3I,EAAG,CAAC,KAAK,CAAE+J,UAAW,EAAE,cACjE,2CACKT,QAAQ,cAEL,2CACKA,QAAQ,CAAC5M,GAAG,CAAC,SAACgI,CAAC,CAAE3G,CAAC,qBACf,0DACI,4CAAI,OAAK,8CAAG,IAAI,oBAAc2G,CAAC,CAACvI,QAAQ,CAAG,UAAEuI,CAAC,CAACvI,QAAQ,EAAK,iBAAc,CAAC4O,gBAAM,CAACrG,CAAC,CAACsG,SAAS,CAAC,CAACC,MAAM,CAAC,oBAAoB,CAAC,CAAC,GAAC,GAAK,cAClI,yCAAIvG,CAAC,CAACzE,OAAO,EAAK,GAFZlC,CAAC,CAGL,EACT,CAAC,EACA,cAEN,yCAAG,sBAAoB,EAC1B,EAEC,GAEJ,cAGN,0CAAI,uBAAqB,EAC5B,EAEH,CAEd,CAEeqL,kEAAW,E;;AC5H1B,QAAS8B,mBAAkB,EAAG,CAC1B,GAAMlO,QAAO,CAAGC,0CAAU,EAAE,CAC5B,cAA0B9B,yBAAQ,CAAC,IAAI,CAAC,kEAAjCwN,KAAK,eAAEU,QAAQ,eAAmB,QAE1B8B,QAAO,0CAItB;AAAA,2IAJA,+LACsBnM,IAAQ,CAACoM,cAAc,EAAE,QAAvCzC,KAAK,eACTU,QAAQ,CAACV,KAAK,CAAC,CAAC,sDACnB,0CAGDrN,0BAAS,CAAC,UAAM,CAEZ6P,OAAO,EAAE,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS5N,aAAY,CAACC,GAAG,CAAE,CACvB2N,OAAO,EAAE,CACb,CAEC,QAASE,kBAAiB,CAAC1C,KAAK,CAAE,CAC3B,GAAIA,KAAK,CAACmC,WAAW,CAAC7M,MAAM,CAAG,GAAG,CAAE,CAChC,MAAO0K,MAAK,CAACmC,WAAW,CAACjK,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAG,iCAAiC,CAC7E,CAAC,IAAM,CACH,MAAO8H,MAAK,CAACmC,WAAW,CAC5B,CACJ,CAEJ,mBACI,2CACKnC,KAAK,cAEC,0DACC,4CAAI,YAAU,CAACA,KAAK,CAACvK,IAAI,CAAC,MAAI,CAACuK,KAAK,CAAC9E,KAAK,CAAC,GAAC,GAAK,cACjD,kCAAK,GAAG,CAAE8E,KAAK,CAAClG,KAAM,CAAC,GAAG,CAAEkG,KAAK,CAACvK,IAAK,EAAO,cAC9C,yCAAIiN,iBAAiB,CAAC1C,KAAK,CAAC,EAAK,cACjC,4BAAC,gCAAI,EAAC,EAAE,mBAAaA,KAAK,CAACvK,IAAI,CAAG,WAAC,+DAA6D,CAACuK,KAAK,CAACvK,IAAI,CAAC,GAAC,GAAO,cACpH,mCAAS,mDAAQ,OAAO,CAAEb,YAAa,UAAC,mBAExC,EAAS,GACH,cAGN,yCAAG,qBAAmB,EAE1B;AAAA,EAGF,CAEd,CAEe2N,kEAAkB,E;;ACrDjC,QAASI,uBAAsB,EAAG,CAE9B,mBACI,0DACI,yCAAG,0XAAiX,EAAI,iDAAS,cACjY,yCAAG,icAA6b,EAAI,GAClc,CAEd,CAEeA,wFAAsB,E;;ACVrC,QAASC,UAAS,EAAG,CAEjB,cAA0BpQ,yBAAQ,CAAC,EAAE,CAAC,kEAA/BqQ,KAAK,eAAEC,QAAQ,eAEtBnQ,0BAAS,CAAC,UAAM,SACGoQ,SAAQ,wLAAvB,2LACoB1M,IAAQ,CAAC2M,WAAW,EAAE,QAAhCC,CAAC,eACPH,QAAQ,CAACG,CAAC,CAACJ,KAAK,CAAC,CAAC,sDACrB,2CACDE,QAAQ,EAAE,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,mBACI,2CACKF,KAAK,CAACvN,MAAM,CACXuN,KAAK,CAAC9O,GAAG,CAAC,SAACkP,CAAC,CAAE7N,CAAC,qBACL,wDAEA,gCAAW,IAAI,oBAAc6N,CAAC,CAACzP,QAAQ,CAAG,UAAEyP,CAAC,CAACzP,QAAQ,EAA9C4B,CAAC,CAAkD,EACrD,EACT,CAAC,cAGN,0CAAI,0BAAwB,EAC/B,EACC,CAEd,CAEewN,gEAAS,E;;ACbxB,QAASM,OAAM,MAAoB,IAAjBhP,MAAK,MAALA,KAAK,CAAE2B,MAAM,MAANA,MAAM,CAC3BhD,OAAO,CAACC,KAAK,CACT,QAAQ,iBACC,MAAOoB,MAAK,qBACT,MAAOiP,SAAQ,EAC9B,CACH;AACE,mBACI,wDACE,4BAAC,8BAAM,yBAEL,2BAAC,6BAAK,EAAC,KAAK,MAAC,IAAI,CAAC,GAAG,uBACnB,2BAAC,iBAAQ,IAAG,EACN,cAER,2BAAC,6BAAK,EAAC,KAAK,MAAC,IAAI,CAAC,QAAQ,uBACxB,2BAAC,cAAS,EAAC,KAAK,CAAEjP,KAAM,EAAG,EACrB,cAER,2BAAC,6BAAK,EAAC,KAAK,MAAC,IAAI,CAAC,SAAS,uBACzB,2BAAC,eAAU,EAAC,MAAM,CAAE2B,MAAO,EAAG,EACxB,cAGR,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,SAAS,uBAChC,2BAAC,mBAAY,IAAG,EACH,cAEf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,YAAY,uBACnC,2BAAC,eAAe,IAAG,EACN,cAEf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,2BAA2B,uBAClD,2BAAC,6BAAsB,IAAG,EACb,cAEf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,QAAQ,uBAC/B,2BAAC,kBAAS,IAAG,EACA,cAEf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,UAAU,uBACjC,2BAAC,oBAAW,IAAG,EACF,cAEf,2BAAC,uBAAY,EAAC,IAAI,CAAC,oBAAoB,uBACrC,2BAAC,WAAW,IAAG,EACF,cAEf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,SAAS,uBAChC,2BAAC,mBAAY,IAAG,EACH,cAIf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,SAAS,uBAChC,2BAAC,gBAAS,IAAG,EACA,cAEf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,eAAe,uBACtC,2BAAC,kBAAW,IAAG,EACF,cAEf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,eAAe,uBACtC,2BAAC,kBAAW,IAAG,EACF,cAEf,2BAAC,uBAAY,EAAC,KAAK,MAAC,IAAI,CAAC,SAAS,uBAChC,2BAAC,WAAkB,IAAG,EACT,cAEf,2BAAC,gCAAQ,EAAC,EAAE,CAAC,GAAG,EAAG,GACZ,EACL,CAEZ,CAEeqN,4DAAM,E;;;;;;AC5FvB,GAAME,wBAAW,CAAG,QAAdA,YAAW,MAAqB,IAAfpE,SAAQ,MAARA,QAAQ,CAC7B,iBAAqBqE,2CAAW,EAAE,CAA1BC,QAAQ,cAARA,QAAQ,CAEhB3Q,0BAAS,CAAC,UAAM,CACd4Q,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAE,CAAC,CAAC,CACvB,CAAC,CAAE,CAACF,QAAQ,CAAC,CAAC,CAEd,MAAOtE,SAAQ,EAAI,IAAI,CACzB,CAAC,CAEcoE,8EAAW,E;;ACD1B;AACO,GAAMK,iBAAgB,CAAG,cAAc,CAE9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAGA,QAASC,IAAG,EAAG,CACb,cAAoClR,yBAAQ,CAAC,KAAK,CAAC,kEAA5CmR,UAAU,eAAEC,aAAa,eAChC,eAA4CpR,yBAAQ,CAAC,GAAIqR,IAAG,CAAC,EAAE,CAAC,CAAC,mEAA1DC,cAAc,eAAEC,iBAAiB,eACxC,eAAsCvR,yBAAQ,CAAC,IAAI,CAAC,mEAA7Cc,WAAW,eAAEyF,cAAc,eAClC,qBAA0B7G,qBAAe,CAACuR,gBAAgB,CAAC,gFAApD9M,KAAK,sBAAEqN,QAAQ,sBAEtBnR,OAAO,CAACC,KAAK,CACT,KAAK,CACL,aAAa,CAAE6Q,UAAU,CACzB,cAAc,CAAErQ,WAAW,CAC3B,QAAQ,CAAEqD,KAAK,CAClB,CAED;AACA;AACA;AAEAhE,0BAAS,CAAC,QAASsR,aAAY,EAAG,CAChCpR,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAE,QAAQ,CAAE6D,KAAK,CAAC,CAAC,QAE9CiE,eAAc,iDAiB7B;AACA;AACA;AAAA,yJAnBA,yMACMjE,KAAK,sDAEcuN,sBAAG,CAACC,MAAM,CAACxN,KAAK,CAAC,CAA9BnD,QAAQ,aAARA,QAAQ,CACd;AACA6C,GAAQ,CAACM,KAAK,CAAGA,KAAK,CAAC,sBACCN,IAAQ,CAACuE,cAAc,CAACpH,QAAQ,CAAC,QAArDF,YAAW,eACfyF,cAAc,CAACzF,YAAW,CAAC,CAAC,iFAG5BT,OAAO,CAACmB,KAAK,CAAC,mCAAmC,aAAM,CACvD+E,cAAc,CAAC,IAAI,CAAC,CAAC,QAGzB6K,aAAa,CAAC,IAAI,CAAC,CAAC,qEACrB,iDAKDA,aAAa,CAAC,KAAK,CAAC,CACpBhJ,cAAc,EAAE,CAClB,CAAC,CAAE,CAACjE,KAAK,CAAC,CAAC,CAEX,gCACA,QAASvD,OAAM,EAAG,CAChB2F,cAAc,CAAC,IAAI,CAAC,CACpBiL,QAAQ,CAAC,IAAI,CAAC,CAChB,CAEA;AACF;AACA;AACA;AACA;AACA,KALE,QAMenO,OAAM,2CAWrB;AACF;AACA;AACA,KAHE,yIAXA,kBAAsBuO,UAAU,qMAEV/N,IAAQ,CAACR,MAAM,CAACuO,UAAU,CAAC,QAAzCzN,MAAK,gBACTqN,QAAQ,CAACrN,MAAK,CAAC,CAAC,iCACT,CAAE3B,OAAO,CAAE,IAAK,CAAC,6DAExBnC,OAAO,CAACmB,KAAK,CAAC,eAAe,cAAS,CAAC,iCAChC,CAAEgB,OAAO,CAAE,KAAK,CAAEE,MAAM,aAAC,CAAC,wEAEpC,iDAMchB,MAAK,kLAApB,kBAAqBmQ,SAAS,sMAERhO,IAAQ,CAACnC,KAAK,CAACmQ,SAAS,CAAC,QAAvC1N,OAAK,gBACTqN,QAAQ,CAACrN,OAAK,CAAC,CAAC,iCACT,CAAE3B,OAAO,CAAE,IAAK,CAAC,6DAExBnC,OAAO,CAACmB,KAAK,CAAC,cAAc,cAAS,CAAC,iCAC/B,CAAEgB,OAAO,CAAE,KAAK,CAAEE,MAAM,aAAC,CAAC,wEAEpC,wCAED,GAAI,CAACyO,UAAU,CAAE,mBAAO,2BAAC,qBAAc,IAAG,CAE1C,mBACI,2BAAC,yCAAa,wBACZ,2BAAC,qBAAa,wBACZ,2BAAC,kBAAW,wBACV,2BAAC,gBAAW,CAAC,QAAQ,EACjB,KAAK,CAAE,CAAErQ,WAAW,CAAXA,WAAW,CAAEyF,cAAc,CAAdA,cAAe,CAAE,uBACzC,mCAAK,SAAS,CAAC,KAAK,wBAClB,2BAAC,qBAAU,EAAC,MAAM,CAAE3F,MAAO,EAAG,cAC9B,2BAAC,iBAAM,EAAC,KAAK,CAAEc,KAAM,CAAC,MAAM,CAAE2B,MAAO,CAAC,MAAM,CAAEzC,MAAO,EAAE,GACnD,EACe,EACX,EACA,EACF,CAEtB,CAEesQ,+CAAG,E;;ACpIlB;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA,GAAMY,YAAW,CAAGC,OAAO,CACvBhB,MAAM,CAACiB,QAAQ,CAACC,QAAQ,GAAK,WAAW,EACxC;AACAlB,MAAM,CAACiB,QAAQ,CAACC,QAAQ,GAAK,OAAO,EACpC;AACAlB,MAAM,CAACiB,QAAQ,CAACC,QAAQ,CAACC,KAAK,CAC1B,wDAAwD,CAC3D,CACJ,CAEM,QAASvB,uBAAQ,CAACwB,MAAM,CAAE,CAC/B,GAAIxO,KAAqC,EAAI,eAAe,EAAIyO,UAAS,CAAE,CACzE;AACA,GAAMC,UAAS,CAAG,GAAIC,IAAG,CAAC3O,EAAsB,CAAEoN,MAAM,CAACiB,QAAQ,CAACO,IAAI,CAAC,CACvE,GAAIF,SAAS,CAACG,MAAM,GAAKzB,MAAM,CAACiB,QAAQ,CAACQ,MAAM,CAAE,CAC/C;AACA;AACA;AACA,OACF,CAEAzB,MAAM,CAAC0B,gBAAgB,CAAC,MAAM,CAAE,UAAM,CACpC,GAAMC,MAAK,WAAM/O,EAAsB,sBAAoB,CAE3D,GAAImO,WAAW,CAAE,CACf;AACAa,uBAAuB,CAACD,KAAK,CAAEP,MAAM,CAAC,CAEtC;AACA;AACAC,SAAS,CAACQ,aAAa,CAACC,KAAK,CAACC,IAAI,CAAC,UAAM,CACvCzS,OAAO,CAAC4G,GAAG,CACP,wDAAwD,CACxD,qDAAqD,CACxD,CACH,CAAC,CAAC,CACJ,CAAC,IAAM,CACL;AACA8L,eAAe,CAACL,KAAK,CAAEP,MAAM,CAAC,CAChC,CACF,CAAC,CAAC,CACJ,CACF,CAEA,QAASY,gBAAe,CAACL,KAAK,CAAEP,MAAM,CAAE,CACtCC,SAAS,CAACQ,aAAa,CAClBjC,QAAQ,CAAC+B,KAAK,CAAC,CACfI,IAAI,CAAC,SAAAE,YAAY,CAAI,CACpBA,YAAY,CAACC,aAAa,CAAG,UAAM,CACjC,GAAMC,iBAAgB,CAAGF,YAAY,CAACG,UAAU,CAChD,GAAID,gBAAgB,EAAI,IAAI,CAAE,CAC5B,OACF,CACAA,gBAAgB,CAACE,aAAa,CAAG,UAAM,CACrC,GAAIF,gBAAgB,CAACxK,KAAK,GAAK,WAAW,CAAE,CAC1C,GAAI0J,SAAS,CAACQ,aAAa,CAACS,UAAU,CAAE,CACtC;AACA;AACA;AACAhT,OAAO,CAAC4G,GAAG,CACP,qDAAqD,CACrD,4DAA4D,CAC/D,CAED;AACA,GAAIkL,MAAM,EAAIA,MAAM,CAACmB,QAAQ,CAAE,CAC7BnB,MAAM,CAACmB,QAAQ,CAACN,YAAY,CAAC,CAC/B,CACF,CAAC,IAAM,CACL;AACA;AACA;AACA3S,OAAO,CAAC4G,GAAG,CAAC,oCAAoC,CAAC,CAEjD;AACA,GAAIkL,MAAM,EAAIA,MAAM,CAACoB,SAAS,CAAE,CAC9BpB,MAAM,CAACoB,SAAS,CAACP,YAAY,CAAC,CAChC,CACF,CACF,CACF,CAAC,CACH,CAAC,CACH,CAAC,CAAC,CACDQ,KAAK,CAAC,SAAAhS,KAAK,CAAI,CACdnB,OAAO,CAACmB,KAAK,CAAC,2CAA2C,CAAEA,KAAK,CAAC,CACnE,CAAC,CAAC,CACR,CAEA,QAASmR,wBAAuB,CAACD,KAAK,CAAEP,MAAM,CAAE,CAC9C;AACAsB,KAAK,CAACf,KAAK,CAAE,CACXzO,OAAO,CAAE,CAAE,gBAAgB,CAAE,QAAS,CACxC,CAAC,CAAC,CACG6O,IAAI,CAAC,SAAAvO,QAAQ,CAAI,CAChB;AACA,GAAMmP,YAAW,CAAGnP,QAAQ,CAACN,OAAO,CAAC0P,GAAG,CAAC,cAAc,CAAC,CACxD,GACIpP,QAAQ,CAACqP,MAAM,GAAK,GAAG,EACtBF,WAAW,EAAI,IAAI,EAAIA,WAAW,CAACrK,OAAO,CAAC,YAAY,CAAC,GAAK,CAAC,CAAE,CACnE,CACA;AACA+I,SAAS,CAACQ,aAAa,CAACC,KAAK,CAACC,IAAI,CAAC,SAAAE,YAAY,CAAI,CACjDA,YAAY,CAACa,UAAU,EAAE,CAACf,IAAI,CAAC,UAAM,CACnC/B,MAAM,CAACiB,QAAQ,CAAC8B,MAAM,EAAE,CAC1B,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,IAAM,CACL;AACAf,eAAe,CAACL,KAAK,CAAEP,MAAM,CAAC,CAChC,CACF,CAAC,CAAC,CACDqB,KAAK,CAAC,UAAM,CACXnT,OAAO,CAAC4G,GAAG,CACP,+DAA+D,CAClE,CACH,CAAC,CAAC,CACR,CAEO,QAAS4M,WAAU,EAAG,CAC3B,GAAI,eAAe,EAAIzB,UAAS,CAAE,CAChCA,SAAS,CAACQ,aAAa,CAACC,KAAK,CACxBC,IAAI,CAAC,SAAAE,YAAY,CAAI,CACpBA,YAAY,CAACa,UAAU,EAAE,CAC3B,CAAC,CAAC,CACDL,KAAK,CAAC,SAAAhS,KAAK,CAAI,CACdnB,OAAO,CAACmB,KAAK,CAACA,KAAK,CAAC8C,OAAO,CAAC,CAC9B,CAAC,CAAC,CACR,CACF,C;;ACtIAyP,mBAAQ,CAACC,MAAM,cAAC,2BAAC,OAAG,IAAG,CAAEC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAAC,CAEzD;AACA;AACA;AACAtB,UAAwB,EAAE,C","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","/* (ignored) */","import { useState, useEffect } from \"react\";\n\n/** Custom hook for keeping state data synced with localStorage.\n *\n * This creates `item` as state and look in localStorage for current value\n * (if not found, defaults to `firstValue`)\n *\n * When `item` changes, effect re-runs:\n * - if new state is null, removes from localStorage\n * - else, updates localStorage\n *\n * To the component, this just acts like state that is also synced to/from\n * localStorage::\n *\n *   const [myThing, setMyThing] = useLocalStorage(\"myThing\")\n */\n\nfunction useLocalStorage(key, firstValue = null) {\n  const initialValue = localStorage.getItem(key) || firstValue;\n\n  const [item, setItem] = useState(initialValue);\n\n  useEffect(function setKeyInLocalStorage() {\n    console.debug(\"hooks useLocalStorage useEffect\", \"item=\", item);\n\n    if (item === null) {\n      localStorage.removeItem(key);\n    } else {\n      localStorage.setItem(key, item);\n    }\n  }, [key, item]);\n\n  return [item, setItem];\n}\n\nexport default useLocalStorage;\n","import React from \"react\";\n\n/** Context: provides currentUser object and setter for it throughout app. */\n\nconst UserContext = React.createContext();\n\nexport default UserContext;\n","import React, { useContext } from \"react\";\nimport { Link, NavLink } from \"react-router-dom\";\nimport UserContext from \"../auth/UserContext\";\n// import \"./Navigation.css\";\n\n/** Navigation bar for site. Shows up on every page.\n *\n * When user is logged in, shows links to main areas of site. When not,\n * shows link to Login and Signup forms.\n *\n * Rendered by App.\n */\n\nfunction Navigation({ logout }) {\n  const { currentUser } = useContext(UserContext);\n  console.debug(\"Navigation\", \"currentUser=\", currentUser);\n\n  function loggedInNav() {\n    return (\n        <ul>\n          <li>\n            <NavLink to=\"/search\">\n              View All Byways and Search\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/states\">\n              View Byways by State\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to={`/profile/${currentUser.username}`}>\n              Profile\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/random\">\n              See a Random Byway\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/users\">\n              See All Users\n            </NavLink>\n          </li>\n          <li>\n            <Link to=\"/\" onClick={logout}>\n              Log out {currentUser.first_name || currentUser.username}\n            </Link>\n          </li>\n        </ul>\n    );\n  }\n\n  function loggedOutNav() {\n    return (\n        <ul>\n          <li>\n            <NavLink to=\"/login\">\n              Login\n            </NavLink>\n          </li>\n          <li>\n            <NavLink to=\"/signup\">\n              Sign Up\n            </NavLink>\n          </li>\n        </ul>\n    );\n  }\n\n  return (\n      <nav>\n        <Link to=\"/\">\n          Scenic Byways\n        </Link>\n        {currentUser ? loggedInNav() : loggedOutNav()}\n      </nav>\n  );\n}\n\nexport default Navigation;\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n// import \"./Homepage.css\";\nimport UserContext from \"../auth/UserContext\";\n\nfunction Homepage() {\n  const { currentUser } = useContext(UserContext);\n  console.debug(\"Homepage\", \"currentUser=\", currentUser);\n\n  return (\n      <div className=\"Homepage\">\n          <h1>NATIONAL SCENIC BYWAYS</h1>\n\n          {currentUser\n            ? <h2>\n                Hello {currentUser.username}!<br></br>\n                <Link to={`/profile/{currentUser.username}`}>View your profile, </Link>or if you haven't made one yet, <Link to=\"/profile\">create and edit your profile here!</Link><br></br>\n                {/* <Link to={`/byways/${name}`}> */}\n                {/* <Link to=\"/browse\">Browse through every national byway, select favorites, plan a trip, and connect with other users here!</Link> */}\n                <Link to=\"/search\">See all byways and search using filters here!</Link><br></br>\n                <Link to=\"/states\">See byways by state here!</Link><br></br>\n                <Link to=\"/random\">Or see a byway at random!</Link>\n                \n            </h2>\n            : (\n                <p>\n                    <Link to=\"/login\">Log in</Link>\n                    <Link to=\"/signup\">Sign up</Link>\n                </p>\n            )\n          \n          }\n\n      </div>\n  )\n    \n}\n\nexport default Homepage;","import React from \"react\";\n\n/** Presentational component for showing bootstrap-style alerts.\n *\n * { LoginForm, SignupForm, ProfileForm } -> Alert\n **/\n\nfunction Alert({ type = \"danger\", messages = [] }) {\n  console.debug(\"Alert\", \"type=\", type, \"messages=\", messages);\n\n  return (\n      <div className={`alert alert-${type}`} role=\"alert\">\n        {messages.map(error => (\n            <p className=\"mb-0 small\" key={error}>\n              {error}\n            </p>\n        ))}\n      </div>\n  );\n}\n\nexport default Alert;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport { ToastProvider, useToasts } from 'react-toast-notifications';\n\n\n/** Login form.\n *\n * Shows form and manages update to state on changes.\n * On submission:\n * - calls login function prop\n * - redirects to /companies route\n *\n * Routes -> LoginForm -> Alert\n * Routed as /login\n */\n\nfunction LoginForm({ login }) {\n  const { addToast } = useToasts();\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  console.debug(\n      \"LoginForm\",\n      \"login=\", typeof login,\n      \"formData=\", formData,\n      \"formErrors\", formErrors,\n  );\n\n  /** Handle form submit:\n   *\n   * Calls login func prop and, if successful, redirect to /companies.\n   */\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n    try {\n      let result = await login(formData);\n      if (result.success) {\n        history.push(\"/\");\n      } else {\n        result.errors.forEach(i =>  addToast(i, { appearance: 'error' }));\n      }\n    } catch (errors) {\n      if (errors.length > 0) {\n        addToast(errors[0], { appearance: 'error' });\n      }\n      setFormErrors(errors);\n    }\n  }\n\n  /** Update form data field */\n  function handleChange(evt) {\n    const { name, value } = evt.target;\n    setFormData(l => ({ ...l, [name]: value }));\n  }\n\n  return (\n      <div className=\"LoginForm\">\n        <div className=\"container col-md-6 offset-md-3 col-lg-4 offset-lg-4\">\n          <h3 className=\"mb-3\">Log In</h3>\n\n          <div className=\"card\">\n            <div className=\"card-body\">\n              <form onSubmit={handleSubmit}>\n                <div className=\"form-group\">\n                  <label>Username</label>\n                  <input\n                      name=\"username\"\n                      className=\"form-control\"\n                      value={formData.username}\n                      onChange={handleChange}\n                      autoComplete=\"username\"\n                      required\n                  />\n                </div>\n                <div className=\"form-group\">\n                  <label>Password</label>\n                  <input\n                      type=\"password\"\n                      name=\"password\"\n                      className=\"form-control\"\n                      value={formData.password}\n                      onChange={handleChange}\n                      autoComplete=\"current-password\"\n                      required\n                  />\n                </div>\n\n                {formErrors.length\n                    ? <Alert type=\"danger\" messages={formErrors} />\n                    : null}\n\n                <button\n                    className=\"btn btn-primary float-right\"\n                    onSubmit={handleSubmit}\n                >\n                  Submit\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n  );\n}\n\nexport default LoginForm;\n","import React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport { useToasts } from 'react-toast-notifications';\n\n\nfunction SignupForm({ signup }) {\n    const { addToast } = useToasts();\n    const history = useHistory();\n    const [formData, setFormData] = useState({\n      username: \"\",\n      password: \"\",\n      firstName: \"\",\n      lastName: \"\",\n      email: \"\",\n    });\n    const [formErrors, setFormErrors] = useState([]);\n  \n    console.debug(\n        \"SignupForm\",\n        \"signup=\", typeof signup,\n        \"formData=\", formData,\n        \"formErrors=\", formErrors,\n    );\n\n    async function handleSubmit(evt) {\n        evt.preventDefault();\n        try {\n            let result = await signup(formData);\n            if (result.success) {\n                history.push(\"/\");\n        //   adding new screen to navigation stack, we're saying go to this url next, adding it to the list of pages visited at the end and going to it\n            }  else {\n                result.errors.forEach(i =>  addToast(i, { appearance: 'error' }));\n            }\n        } catch  (errors) {\n           \n            if (errors.length > 0) {\n                addToast(errors[0], { appearance: 'error' });\n            }\n            setFormErrors(errors);\n        }\n    }\n\n    function handleChange(evt) {\n        const { name, value } = evt.target;\n        setFormData(data => ({ ...data, [name]: value}));\n        // question\n    }\n\n    return (\n        <div className=\"SignupForm\">\n            <h2>Sign Up</h2>\n            <form onSubmit={handleSubmit}>\n                <div className=\"form-inputs\">\n                    <label>Username</label>\n                    <input\n                        name=\"username\"\n                        value={formData.username}\n                        onChange={handleChange}\n                    />\n                    <label>Password</label>\n                    <input\n                        type=\"password\"\n                        name=\"password\"\n                        value={formData.password}\n                        onChange={handleChange}\n                    />\n                    <label>First name</label>\n                    <input\n                      name=\"firstName\"\n                      value={formData.firstName}\n                      onChange={handleChange}\n                    />\n                    <label>Last Name</label>\n                    <input\n                        name=\"lastName\"\n                        value={formData.lastName}\n                        onChange={handleChange}\n                    />\n                    <label>Email</label>\n                    <input\n                        type=\"email\"\n                        name=\"email\"\n                        value={formData.email}\n                        onChange={handleChange}\n                    />\n\n                </div>\n\n                {formErrors.length\n                    ? <Alert type=\"danger\" messages={formErrors} />\n                    : null\n                }\n\n                <button\n                    type=\"submit\"\n                    className=\"btn btn-primary float-right\"\n                    onSubmit={handleSubmit}\n                >\n                  Submit\n                </button>\n\n            </form>\n        </div>\n    )\n\n\n\n\n}\n\nexport default SignupForm;","import axios from \"axios\";\n\nconst BASE_URL = process.env.REACT_APP_BASE_URL || \"http://localhost:3001\";\n\n// ask about static async request method in jobly api, or look up where it's used\n\nclass BywayApi {\n\n    static token;\n    // token for interacting with the API\n\n    static async request(endpoint, data = {}, method = \"get\") {\n      console.debug(\"API Call:\", endpoint, data, method);\n  \n      const url = `${BASE_URL}/${endpoint}`;\n      const headers = { Authorization: `Bearer ${BywayApi.token}` };\n      const params = (method === \"get\")\n          ? data\n          : {};\n  \n      try {\n        return (await axios({ url, method, data, params, headers })).data;\n      } catch (err) {\n        console.error(\"API Error:\", err);\n        let message = err.response.data.error.message;\n        throw Array.isArray(message) ? message : [message];\n      }\n    }  \n\n    static async signup(data) {\n        let res = await this.request(`auth/register`, data, \"post\");\n        return res.token;\n      }\n\n    static async login(data) {\n      let res = await this.request(`auth/token`, data, \"post\");\n      return res.token;\n    }\n\n    static async getCurrentUser(username) {\n      let res = await this.request(`users/${username}`);\n      return res.user;\n    }\n\n    static async getAllStates(name) {\n      let res = await this.request(\"states\", { name });\n      return res;\n    }\n\n    static async getAllUsers() {\n      let res = await this.request('users');\n      return res;\n    }\n\n    static async findBywaysByState(name) {\n      let res = await this.request(`states/${ name }`);\n      return res;\n    }\n\n    static async getAllByways(name) {\n      let res = await this.request(\"byways\", { name });\n      return res;\n    }\n\n    static async search(params) {\n      let res = await this.request(\"byways/search\", params);\n      return res;\n    }\n\n    static async getByway(name) {\n      let res = await this.request(`byways/${ name }`, );\n      return res;\n    }\n\n    static async getCommentsByByway(id) {\n      let res = await this.request(`byways/${ id }/comments`, );\n      return res;\n    }\n\n    static async makeComment(id, comment) {\n      let res = await this.request(`byways/${ id }/comments`, {comment}, \"post\");\n      return res;\n    }\n\n    static async favoriteAByway(username, id) {\n      let res = await this.request(`users/${ username }/favorites/${id}`, {}, \"post\");\n      return res;\n    }\n\n    static async removeFavorite(username, id) {\n      let res = await this.request(`users/${ username }/favorites/${id}`, {}, \"delete\");\n      return res;\n      // can't tell if I need that empty object like favAByway or something different or nothing\n      // it was needed, not having it but then having 'delete' made it think delete was data instead of method, see top line of function and what's inside the parentheses for request\n    }\n\n    static async getUserFavorites(username, sortField, sortDirection) {\n      let res = await this.request(`users/${ username }/favorites?sort=${sortField}&direction=${sortDirection}`);\n      return res;\n    }\n\n    static async saveProfile(username, data) {\n      let res = await this.request(`users/${username}`, data, \"patch\");\n      return res.user;\n    }\n\n    static async getRandomByway() {\n      let res = await this.request(`byways/random`, );\n      return res;\n    }\n\n\n\n\n}\n\nexport default BywayApi;","import React, { useState, useCallback, useEffect } from \"react\";\n\n\nconst LimitedTextArea = ({ value, limit, onChange }) => {\n  const [content, setContent] = useState(\"\");\n\n  const setFormattedContent = useCallback(\n    text => {\n      // const limitedContent = text.slice(0, limit)\n      const limitedContent = value.slice(0, limit)\n      setContent(limitedContent);\n      onChange(limitedContent);\n    },\n    [limit, setContent ]\n  );\n  // useCallback is used to isolate resource intensive functions so that they won't automatically run on every render; it only runs when one of its dependencies update - I thought useEffects run every time one of its dependencies updates? What's the difference?\n\n  useEffect(() => {\n    setFormattedContent(value)\n  }, [value])\n\n  return (\n    <div>\n      <textarea\n        onChange={event => setFormattedContent(event.target.value)}\n        value={content}\n      />\n      <p>\n        Maximum length: {limit}<br></br>\n        {content.length}/{limit}\n      </p>\n    </div>\n  );\n}\n\nexport default LimitedTextArea;","import { useRef, useState, useEffect } from \"react\";\n\n/** Custom hook for managing \"flash\" messages.\n *\n * This adds an item in state, `active`, which can be controlled by the\n * component as desired. The component would typically `setActive(true)`\n * to start displaying the message, and after `timeInMsec`, active would\n * go back to false, which would typically stop showing the message.\n *\n * In the component::\n *\n *   const [myMsgFlag, setMyMsgFlag] = useTimedMessage();\n *\n *   function somethingDidntWork() {\n *     setMsgFlag(true);\n *   }\n *\n *   return (\n *     {myMsgFlag ? <p>Oh No!</p> : null}\n *   )\n *\n * While this hook was written for showing flash messages, it's really just\n * a hook for timed state clearing -- this same pattern could be useful for\n * other tasks.\n *\n */\n\nfunction useTimedMessage(timeInMsec = 3000) {\n  const [active, setActive] = useState(false);\n\n  const messageShownRef = useRef(false);\n\n  useEffect(\n      function showSavedMessage() {\n        console.debug(\n            \"useTimedMessage useEffect showSavedMessage\", \"active=\", active);\n\n        if (active && !messageShownRef.current) {\n          messageShownRef.current = true;\n          setTimeout(function removeMessage() {\n            setActive(false);\n            messageShownRef.current = false;\n          }, timeInMsec);\n        }\n      },\n      [active, timeInMsec],\n  );\n\n  return [active, setActive];\n}\n\nexport default useTimedMessage;\n","import React, { useState, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Alert from \"../common/Alert\";\nimport BywayApi from \"../api/api\";\nimport UserContext from \"../auth/UserContext\";\nimport LimitedTextArea from \"../common/LimitedTextArea\";\n\n// eslint-disable-next-line\nimport useTimedMessage from \"../hooks/useTimedMessage\";\n\n/** Profile editing form.\n *\n * Displays profile form and handles changes to local form state.\n * Submitting the form calls the API to save, and triggers user reloading\n * throughout the site.\n *\n * Confirmation of a successful save is normally a simple <Alert>, but\n * you can opt-in to our fancy limited-time-display message hook,\n * `useTimedMessage`, but switching the lines below.\n *\n * Routed as /profile\n * Routes -> ProfileForm -> Alert\n */\n\nfunction ProfileForm() {\n  const { currentUser, setCurrentUser } = useContext(UserContext);\n  const history = useHistory();\n  const [formData, setFormData] = useState({\n    bio: currentUser.bio || \"\",\n    userLocation: currentUser.userLocation || \"\",\n    favoriteState: currentUser.favoriteState  || \"\",\n    profilePhoto: currentUser.profilePhoto  || \"\",\n  });\n  const [formErrors, setFormErrors] = useState([]);\n\n  // switch to use our fancy limited-time-display message hook\n  const [saveConfirmed, setSaveConfirmed] = useState(false);\n  // const [saveConfirmed, setSaveConfirmed] = useTimedMessage()\n\n  /** on form submit:\n   * - attempt save to backend & report any errors\n   * - if successful\n   *   - clear previous error messages and password\n   *   - show save-confirmed message\n   *   - set current user info throughout the site\n   */\n\n  async function handleSubmit(evt) {\n    evt.preventDefault();\n\n    let profileData = {\n      bio: formData.bio,\n      userLocation: formData.userLocation,\n      favoriteState: formData.favoriteState,\n      profilePhoto: formData.profilePhoto,\n    };\n\n    let username = currentUser.username;\n    let updatedUser;\n\n    try {\n      updatedUser = await BywayApi.saveProfile(username, profileData);\n    } catch (errors) {\n      console.log('errors', errors)\n      debugger;\n      setFormErrors(errors);\n      return;\n    }\n\n    setFormData(f => ({ ...f, password: \"\" }));\n    setFormErrors([]);\n    setSaveConfirmed(true);\n\n    // trigger reloading of user information throughout the site\n    setCurrentUser(updatedUser);\n    history.push(\"/profile\");\n  }\n\n  /** Handle form data changing */\n  function handleChange(name, value) {\n    // console.log(evt)\n    // const { name, value } = evt.target;\n    setFormData(f => ({\n      ...f,\n      [name]: value,\n    }));\n    setFormErrors([]);\n  }\n\n  return (\n      <div>\n        <h2>Hi there, {currentUser.username}! This is where you create and edit your profile.</h2>\n        <h3>Profile</h3>\n            <form>\n              <div>\n                <label>Bio</label>\n                <LimitedTextArea value={formData.bio} limit={200} onChange={(newValue) => {return handleChange('bio', newValue)}} />\n              </div>\n              <div>\n                <label>Location</label>\n                <LimitedTextArea value={formData.userLocation} limit={100} onChange={(newValue) => {return handleChange('userLocation', newValue)}} />\n                {/* <input\n                    name=\"userLocation\"\n                    value={formData.location}\n                    onChange={handleChange}\n                /> */}\n                {/* there's two different input types so might need two versions of handleChange */}\n              </div>\n              <div>\n                <label>Favorite state to travel to</label>\n                <LimitedTextArea value={formData.favoriteState} limit={100} onChange={(newValue) => {return handleChange('favoriteState', newValue)}} />\n              </div>\n              <div>\n                <label>Profile Photo</label>\n                {/* <LimitedTextArea value={formData.profilePhoto} limit={1000} onChange={(newValue) => {return handleChange('profilePhoto', newValue)}} /> */}\n                <input\n                    name=\"profilePhoto\"\n                    value={formData.profilePhoto || \"\"}\n                    onChange={(event) => {return handleChange('profilePhoto', event.target.value)}}\n                />\n              </div>\n              {/* switched profile photo back a regular input because limited text area doesn't make sense for a URL, but that means that the handleChange is going to be a little different for the different inputs. with a regular input the onChange uses an event, not newValue */}\n\n              {formErrors.length\n                  ? <Alert type=\"danger\" messages={formErrors} />\n                  : null}\n\n              {saveConfirmed\n                  ?\n                  <Alert type=\"success\" messages={[\"Updated successfully.\"]} />\n                  : null}\n\n              <button\n                  className=\"btn btn-primary btn-block mt-4\"\n                  onClick={handleSubmit}\n              >\n                Save Changes\n              </button>\n            </form>\n      </div>\n  );\n}\n\nexport default ProfileForm;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\n// name, nickname and image are state info, not byways - (name, state, length, designation, fees, image, description, geographic_features)\nfunction BywayCard ({ name, designation, image }) {\n    return (\n        <div>\n            <Link to={`/byways/${name}`}>\n                <h3>{name}</h3>\n                <img src={image} alt={name} />\n                <h4>{designation}</h4>\n            </Link>\n        </div>\n    );\n}\n\nexport default BywayCard;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\nimport UserContext from \"../auth/UserContext\";\nimport { NavLink } from \"react-router-dom\";\nimport BywayCard from \"../byways/BywayCard\";\nimport { useToasts } from 'react-toast-notifications';\n// import { getUserFavorites } from \"../../backend/models/user\";\n\nfunction ShowUserProfile() {\n    const { username } = useParams();\n    const { addToast } = useToasts();\n    const { currentUser } = useContext(UserContext);\n    const [isMe, setIsMe] = useState(false)\n    const [profileInfo, setProfileInfo] = useState({});\n    const [userFavorites, setUserFavorites] = useState([]);\n    const [sortBy, setSortBy] = useState('name');\n    const [sortDirection, setSortDirection] = useState('asc');\n    const [formErrors, setFormErrors] = useState([]);\n\n    async function getUserFavorites() {\n        let userFavorites = await BywayApi.getUserFavorites(username, sortBy, sortDirection);\n        setUserFavorites(userFavorites);\n    }\n\n    useEffect(() => {  \n        async function getUserInfo() {\n            let errors = formErrors;\n            // attempted fix \n            try {\n                let profileInfo = await BywayApi.getCurrentUser(username);\n                setProfileInfo(profileInfo);\n                if (errors) {\n                    profileInfo.errors.forEach(i =>  addToast(i, { appearance: 'error' }));\n                }    \n            } catch (errors) {\n                if (errors.length > 0) {\n                    addToast(errors[0], { appearance: 'error' });\n                }\n                setFormErrors(errors);\n            }\n        }\n        getUserInfo();\n    }, [username]);\n\n    useEffect(() => {\n        if (currentUser && profileInfo) {\n            setIsMe(currentUser.username === profileInfo.username);\n        }\n    }, [profileInfo, currentUser])   \n    \n    useEffect(() => {\n        // moved this to the top outside a useEffect to make it accessible to handleSubmitSortBy, but ended up not using it there, so could go back into this useEffect. don't think it matters if it's defined here or up top.\n        // async function getUserFavorites() {\n        //     let userFavorites = await BywayApi.getUserFavorites(username);\n        //     setUserFavorites(userFavorites);\n        // }\n        getUserFavorites();\n        \n    }, [sortBy, sortDirection])\n\n    // handleSubmit for removal button in map\n    // tell the function which byway is being removed by passing it into an anonymous function in the button's onClick below\n    async function handleSubmit(username, byway_id) {\n        await BywayApi.removeFavorite(username, byway_id);\n        getUserFavorites();\n    }\n\n    async function handleSubmitSortBy(sortField, direction) {\n        setSortBy(sortField)\n        setSortDirection(direction);\n        // sortField and direction get passed here from the onClick in JSX\n    }\n        \n    \n\n    return (\n        <div>\n            {isMe ? <NavLink to={`/profile/`}>Edit your profile</NavLink> : ''}\n            {isMe ? <h3>Welcome to the profile page of {profileInfo.username}</h3> : <h3>Welcome to the profile page of {username}</h3>}\n            <img src={profileInfo.profilePhoto} alt={\"profile photo\"} />\n            <h3>Location: {profileInfo.userLocation}</h3>\n            <h3>Favorite State to Travel To: {profileInfo.favoriteState}</h3>\n            <p>Bio: {profileInfo.bio}</p>\n            <h1>USER FAVORITES</h1>\n\n            <h4>Order favorites by:</h4>\n            {sortBy == 'name' && sortDirection == 'asc' ? \n            // these are the initial states for sortBy and sortDirection\n                (<button onClick={e => handleSubmitSortBy('name', 'desc')}>Z-A</button>) :\n                // button starts as Z-A because byways are initially A-Z, so if user wanted to reverse order from that, button should be the opposite of what's initally shown\n                (<button onClick={e => handleSubmitSortBy('name', 'asc')}>A-Z</button>)\n            }\n            <button onClick={e => handleSubmitSortBy('length', 'asc')}>Shortest to Longest</button>\n            <button onClick={e => handleSubmitSortBy('length', 'desc')}>Longest to Shortest</button>\n            <div>\n                    {userFavorites.map(f => (\n                        <div>\n                            <BywayCard\n                                key={f.name + f.state}\n                                name={f.name}\n                                image={f.image}\n                                designation={f.designation}\n                            />\n                            {isMe ? (\n                            <button onClick={() => handleSubmit(username, f.byway_id)}>\n                            Remove Favorite\n                            </button>) : <span></span> }\n                        </div>\n                    ))}\n                </div>\n        </div>\n    )\n    // currentUser wouldn't work right if someone is looking at a different user's profile?\n    // maybe instead of BywayApi.getCurrentUser(username), BywayApi.getProfileInfo(username from params?)\n    // need to create some profiles to have a better look\n}\n\nexport default ShowUserProfile;","import React, { useState } from \"react\";\n\nfunction Checkbox(props) {\n    const [checked, setChecked] = useState(false);\n\n    const handleChange = () => {\n        setChecked(!checked);\n        props.onChange({'checked': !checked, 'value': props.name})\n    };\n    // wasn't handling the useState or handleChange here before and it didn't work; always best to handle it more directly like this\n\n    return (\n        <div>\n            <label>\n                <input\n                    type=\"checkbox\"\n                    checked={checked}\n                    onChange={handleChange}\n                    name={props.name}\n                    value={props.name}\n                />\n            </label>\n        </div>\n    );\n};\n\nexport default Checkbox;","import React, { useEffect, useState } from \"react\";\nimport Checkbox from \"./Checkbox\";\n\nfunction GeographicFeaturesSearch({ onChange }) {\n    const categories = [ 'canyon', 'coastline', 'desert', 'forest', 'grasslands', 'lake', 'mountains', 'swamp', 'river', 'urban'];\n    const [selected, setSelected] = useState([]);\n    // didn't work properly without doing the useState and useEffect and changeHandler here and instead doing it in the SearchForm component where it's called\n        \n    useEffect(() => {\n        onChange(selected)\n    }, [selected]);\n\n    const changeHandler = (props) => {\n        if (props.checked) {\n            const index = selected.indexOf(props.value)\n            if (index > -1) {\n                selected.splice(index, 1)\n                setSelected(selected)\n            } else {\n                selected.push(props.value);\n                setSelected(selected)\n            }\n            // this is creating an array, checking to be sure that what's selected isn't already in the array then adding\n            // this is used in SearchForm so that's where the value prop is given - value={geoFeaturesSelect}\n            \n        }\n    }\n    return (\n        <div>\n            {categories.map(c => (\n                <div className=\"single-checkbox\">\n                    <label key={c} htmlFor={c}>{c}</label>\n                    <Checkbox onChange={changeHandler} name={c}/>\n                </div>\n            ))\n    \n            }\n        </div>\n    )\n}\n \n\nexport default GeographicFeaturesSearch;","import React, { useEffect, useState } from \"react\";\nimport Checkbox from \"./Checkbox\";\n\nfunction DesignationSearch({ onChange }) {\n    const categories = ['All-American Road', 'National Scenic Byway'];\n    const [selected, setSelected] = useState([]);\n\n    useEffect(() => {\n        onChange(selected)\n    }, [selected]);\n\n    const changeHandler = (props) => {\n        if (props.checked) {\n            const index = selected.indexOf(props.value)\n            if (index > -1) {\n                selected.splice(index, 1)\n                setSelected(selected)\n            } else {\n                selected.push(props.value);\n                setSelected(selected)\n            }\n            // this is used in SearchForm so that's where the value prop is given - value={geoFeaturesSelect}\n            \n        }\n    }\n\n        return (\n            <div>\n                <a href=\"/designations-explanation\">What are these?</a>\n                {categories.map(c => (\n                    <div className=\"single-checkbox\">\n                        <label key={c} htmlFor={c}>{c}</label>\n                        <Checkbox onChange={changeHandler} name={c}/>\n                    </div>\n                ))\n        \n                }\n            </div>\n        )\n}\n\nexport default DesignationSearch;","import React, { useState } from \"react\";\nimport FilterSearch from \"./FilterSearch\";\n// import \"./SearchForm.css\";\nimport GeographicFeaturesSearch from \"./GeographicFeaturesSearch\";\nimport DesignationSearch from \"./DesignationSearch\";\n\n/** Search widget.\n *\n * This component doesn't *do* the searching, but it renders the search\n * form and calls the `searchFor` function prop that runs in a parent to do the\n * searching.\n *\n * { CompanyList, JobList } -> SearchForm\n */\n\nfunction SearchForm({ searchFor, filterByways }) {\n  // searchFor and filterByways are defined in FilterSearch (searchFor as search); when that component calls this one, those become useable here\n  console.debug(\"SearchForm\", \"searchFor=\", typeof searchFor);\n\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [minLength, setMinLength] = useState(0);\n  const [maxLength, setMaxLength] = useState(\"\");\n  const [geoFeaturesSelect, setGeoFeaturesSelect] = useState({});\n  const [designationSearch, setDesignationSearch] = useState({});\n  // added the geoFeaturesSelect useState, setGeoFeaturesSelect gets set in the onChange in GeographicFeaturesSearch (passed in when that component is called in the JSX below in this component)\n\n\n  /** Tell parent to filter */\n  function handleSubmit(evt) {\n    // take care of accidentally trying to search for just spaces\n    evt.preventDefault();\n    searchFor(searchTerm.trim() || undefined);\n    setSearchTerm('');\n  }\n\n  function handleSubmitFilter(e) {\n    e.preventDefault();\n    filterByways({minLength, maxLength, geoFeaturesSelect, designationSearch})\n\n  }\n  // handles submit for searches involving filters, i.e. not searching by name. sends filters for search over to FilterSearch, which is where filterByways is defined\n  // e comes from the onChange in min and max length's onChange; different from other filters because it's a value the user is typing in rather than a checkbox\n\n  /** Update form fields */\n  function handleChange(evt) {\n    setSearchTerm(evt.target.value);\n  }\n\n  return (\n      <div>\n        <div className=\"all-searches\">\n          <form className=\"byway-name-search\" onSubmit={handleSubmit}>\n            <p>Search byways by name</p>\n            <label htmlFor=\"searchTerm\">Byway Name:</label>\n            <input\n                name=\"searchTerm\"\n                // through the handleSubmit and its searchFor, the input's name makes it over to the search function in FilterSearch\n                placeholder=\"Enter search term..\"\n                onChange={handleChange}\n                value={searchTerm}\n            />\n            <button type=\"submit\">\n              Submit\n            </button>\n          </form>\n        </div>\n        <div className=\"not-name-searches\">\n          <form onSubmit={handleSubmitFilter}>\n            <p>Search byways by length. The longest of America's Byways&reg; is the Alaska Marine Highway at 3500 miles!</p>\n            <label htmlFor=\"minLength\">Minimum Byway Length:</label>\n            <input\n                name=\"minLength\"\n                placeholder=\"how many miles?\"\n                value={minLength}\n                onChange={e => setMinLength(e.target.value)}\n            />\n            <label htmlFor=\"maxLength\">Maximum Byway Length:</label>\n            <input\n                name=\"maxLength\"\n                placeholder=\"how many miles?\"\n                value={maxLength}\n                onChange={e => setMaxLength(e.target.value)}\n            />\n            <p>Search byways by geographic features. You'll see byways that contain all entered criteria.</p>\n            <GeographicFeaturesSearch \n              onChange={setGeoFeaturesSelect}\n              value={geoFeaturesSelect}\n            />\n            <DesignationSearch \n              onChange={setDesignationSearch}\n              value={designationSearch}\n            />\n            \n            <button type=\"submit\">\n              Submit\n            </button>\n          </form>\n        </div>\n      </div>\n  );\n}\n\nexport default SearchForm;\n","import React from 'react';\n\nconst Pagination = ({ nPages, currentPage, setCurrentPage }) => {\n\n    const pageNumbers = [...Array(nPages + 1).keys()].slice(1);\n\n    const nextPage = () => {\n            if(currentPage !== nPages) setCurrentPage(currentPage + 1)\n    };\n    const prevPage = () => {\n        if(currentPage !== 1) setCurrentPage(currentPage - 1)\n    };\n    return (\n        <nav>\n            <ul>\n                <li>\n                    <a onClick={prevPage} href='#'>Previous</a>\n                </li>\n                {pageNumbers.map(pgNumber => (\n                    <li key={pgNumber}>\n                    <a onClick={() => setCurrentPage(pgNumber)} href='#'>{pgNumber}</a>\n                    </li>\n                ))}\n                <li>\n                    <a onClick={nextPage} href='#'>Next</a>\n                </li>\n            </ul>\n        </nav>\n    )\n    // check right number of pages and that next button appears where it should and doesn't appear when it shouldn't\n}\n\nexport default Pagination","\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\nimport SearchForm from \"./SearchForm\";\nimport BywayCard from \"../byways/BywayCard\";\nimport Pagination from \"../common/Pagination\";\nimport { useToasts } from 'react-toast-notifications';\n\n// search via filters, go to browse by state, go to display and search users\n\nfunction FilterSearch() {\n    const { addToast } = useToasts();\n    const [byways, setByways] = useState([]);\n    const [errors, setErrors] = useState([]);\n    const [currentByWays, setCurrentByWays] = useState([]);\n    const [currentPage, setCurrentPage] = useState(1);\n    const [bywaysPerPage] = useState(10);\n    \n    const [nPages, setNPages] = useState(0); \n\n    const history = useHistory();\n    \n    useEffect(() => {\n        setNPages(Math.ceil(byways.length / bywaysPerPage))\n        const indexOfLastByway = currentPage * bywaysPerPage;\n        const indexOfFirstByway = indexOfLastByway - bywaysPerPage;\n        const currentByways = byways.slice(indexOfFirstByway, indexOfLastByway)\n        setCurrentByWays(currentByways)\n\n    }, [byways, currentPage])\n    // every time currentPage changes, the useEffect runs\n\n    useEffect(() => {\n        async function getBywaysForDisplay() {\n            let byways = await BywayApi.getAllByways();\n            setByways(byways);\n        }\n        getBywaysForDisplay();\n    }, []);\n    // display error to user - try/catch?\n\n    async function filterByways(filters) {\n        try {\n            debugger\n            let byways = await BywayApi.search(filters);\n            setByways(byways);\n            if (!byways.length) {\n                history.push(\"/noresults\");\n            }\n        } catch (errors) {\n            if (errors.length > 0) {\n                addToast(errors[0], { appearance: 'error' });\n                // can add error messaging/alerts with Toast before anything is sent to the back, like so:\n                //addToast(\"your search term must be more than 3 characters\", { appearance: 'error' });\n            }\n            setErrors(errors);\n        }\n    }\n\n    async function search(name) {\n        let byways = await BywayApi.search({name});\n        setByways(byways);\n        if (!byways.length) {\n            history.push(\"/noresults\");\n            // Alert type=\"success\" messages={[\"Updated successfully.\"]} \n        }\n    }\n\n    return (\n        <div>\n            <div>\n                <SearchForm searchFor={search} filterByways={filterByways} errors={errors} />\n                {/* search and filterByways are defined here, passing them over to SearchForm to make them useable there; don't actually know if errors is necessary to pass, didn't end up using it */}\n            </div>\n            <div>\n                {currentByWays.length > 0\n                ? (\n                    <div>\n                        <div>\n                            {currentByWays.map(s => (\n                                <BywayCard\n                                    key={s.name + s.state}\n                                    name={s.name}\n                                    image={s.image}\n                                    designation={s.designation}\n                                />\n                            ))}\n                        </div>\n                        <div>\n                            <Pagination\n                                nPages={nPages}\n                                currentPage={currentPage}\n                                setCurrentPage={setCurrentPage}\n                            />\n                        </div>\n                        \n                    </div>\n                ) : (\n                    <h4>no byways in system.</h4>\n                )}\n            </div>\n        </div>\n        \n    );\n}\n\nexport default FilterSearch;\n\n\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\n\nfunction BackToSearch() {\n    \n    return(\n        <div>\n            <h1>BIG PROBLEMS! No byways match what you searched for!</h1>\n            <NavLink to={`/search`}>Try again! Try harder!</NavLink>\n        </div>\n    )\n\n};\n\nexport default BackToSearch;","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport UserContext from \"../auth/UserContext\";\n\n/** \"Higher-Order Component\" for private routes.\n *\n * In routing component, use these instead of <Route ...>. This component\n * will check if there is a valid current user and only continues to the\n * route if so. If no user is present, redirects to login form.\n */\n\nfunction PrivateRoute({ exact, path, children }) {\n  const { currentUser } = useContext(UserContext);\n\n  console.debug(\n      \"PrivateRoute\",\n      \"exact=\", exact,\n      \"path=\", path,\n      \"currentUser=\", currentUser,\n  );\n\n  if (!currentUser) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  return (\n      <Route exact={exact} path={path}>\n        {children}\n      </Route>\n  );\n}\n\nexport default PrivateRoute;\n","import React from \"react\";\n// import \"./LoadingSpinner.css\";\n\n/** Loading message used by components that fetch API data. */\n\nfunction LoadingSpinner() {\n  return (\n      <div className=\"LoadingSpinner\">\n        Loading ...\n      </div>\n  );\n}\n\nexport default LoadingSpinner;","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\n\nfunction StateCard ({ name, nickname, image }) {\n    return (\n        <Link to={`/states/${name}`}>\n            <h3>{name}</h3>\n            {image}\n            <h4>{nickname}</h4>\n        </Link>\n    );\n}\n\nexport default StateCard;","\nimport React, { useEffect, useState } from \"react\";\nimport BywayApi from \"../api/api\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\nimport StateCard from \"./StateCard\";\n\n\n\nfunction StateMenu() {\n\n    const [states, setStates] = useState(null);\n\n    useEffect(() => {\n        async function getStates() {\n            let states = await BywayApi.getAllStates();\n            setStates(states);\n        }\n        getStates();\n    }, []);\n\n    if (!states) return <LoadingSpinner />;\n\n    return (\n        <div>\n            {states.length\n            // states.length > 0\n            ? (\n                <div>\n                    {states.map(s => (\n                        <StateCard\n                            key={s.name}\n                            name={s.name}\n                            nickname={s.nickname}\n                            image={<img src={s.image} alt={s.name}/>}\n                        />\n                    ))}\n                </div>\n            ) : (\n                <h4>Sorry, no results found.</h4>\n            )}\n        </div>\n    );\n}\n\nexport default StateMenu;\n\n","import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\nimport BywayCard from \"./BywayCard\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\n\n\n\n// shows cards of each byway that's in the state\n// the issue is that i don't know how to do 'if byway is in this state, return it so it can be displayed on this page'. i don't see where in jobly it does 'if job is from this company return it so it can be displayed on company page.' (looks like it's in the models folder in the backend)\n// has to load all the byways that are in this state - thinking something like 'return byways where state = x’ -  but where does this go? somewhere in the backend i'm sure. should there be a getBywaysByState method in api? otherwise it's basically the same as CompanyList\n// checkout the routes folder in jobly backend, there's a lot in there i haven't done for scenic that needs doing that could be causing problems\n\n\n\nfunction StateDetail() {\n    const { name } = useParams();\n\n    const [stateByways, setStateByways] = useState([]);\n\n    useEffect(() => {\n        async function getStateDetail(name) {\n            let stateByways = await BywayApi.findBywaysByState(name);\n            setStateByways(stateByways);\n        }\n        getStateDetail(name);\n    }, [name]);\n\n    // if (stateByways.length === 0) return <LoadingSpinner />;\n    // if I just link to the same 404 page that byway detail links to then it won't say 'this state doesn't have any byways'\n\n    return (\n        <div>\n            {/* <h2>Check Out the Scenic Drives Available in {name}!</h2> */}\n            {/*  */}\n            {stateByways.length\n            // states.length > 0\n            ? (\n                <div>\n                    <h2>Check Out the Scenic Drives Available in {name}!</h2>\n                    {stateByways.map(s => (\n                        <BywayCard\n                            key={s.name}\n                            name={s.name}\n                            image={s.image}\n                            designation={s.designation}\n                        />\n                    ))}\n                </div>\n            ) : (\n                <h4>Sorry, {name} has no byways.</h4>\n            )}\n        </div>\n    )\n}\n\nexport default StateDetail;\n\n\n\n\n// this should be byway information, not state 0 look at CompanyDetail\n// export default function (props) {\n//     let { state } = useParams();\n//     const routeParams = useParams();\n//     console.log('state', routeParams);\n//     const [stateData, setStateData] = useState({})\n//     useEffect(() => {\n//         // stateData = BywayApi.getState\n//         // setStateData(stateData)\n//         setStateData(BywayApi.getState(routeParams.name).then(e => {\n//             console.log(e)\n//         }))\n\n//     }, [routeParams?.name])\n//     // why the question mark?\n    \n//     // if (routeParams?.name) {\n//     //     return <div>{routeParams.name}</div>;\n//     // } else {\n//     //     return <span></span>;\n//     // }\n\n\n// }","import React, { useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\nimport LoadingSpinner from \"../common/LoadingSpinner\"; \nimport UserContext from \"../auth/UserContext\";\nimport LimitedTextArea from \"../common/LimitedTextArea\";\n\n// don't forget link to edit, plus a ternary operator that displays a 'you haven't created a profile' message if there's nothing to display - was I going to make a table for profile data as opposed to user data?\n// call api for user info, should be same as jobly\n\nfunction CommentForm({id, onAdd}) {\n    const { byway } = useParams();\n    // byway I think since that's what's in the URL\n    const { currentUser } = useContext(UserContext);\n\n    const [comment, setComment] = useState(\"\");\n\n    async function handleSubmit(evt) {\n        const response = await BywayApi.makeComment(id, comment);\n        // setComment('');\n        setComment('');\n        onAdd(response)\n        // getCommentsByByway(byway);\n    }\n\n    return (\n        <div>\n            {/* <textarea onChange={e => setComment(e.target.value)} ></textarea> */}\n            <LimitedTextArea value={comment} limit={500} onChange={setComment}/>\n            <button onClick={handleSubmit}>\n                Submit\n            </button>\n        </div>\n    )\n}\n\nexport default CommentForm;","import React, { useState, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\nimport LoadingSpinner from \"../common/LoadingSpinner\";\nimport UserContext from \"../auth/UserContext\";\nimport Alert from \"../common/Alert\";\n\nfunction FavoriteAByway({id}) {\n    const { byway } = useParams();\n    const { currentUser } = useContext(UserContext);\n\n    // const [favorite, setFavorite] = useState(false);\n    // might need state for changing status on page from something that can be favorited to something that has been favorited - parkFavorited, setParkFavorited\n\n    const [favorite, setFavorite] = useState();\n    const [hasBeenSet, setHasBeenSet] = useState(false);\n\n    // useEffect(() => {  \n    //     async function favorite(currentUser, byway) {\n    //         await BywayApi.favoriteAByway(byway);\n    //         setFavorite(true);\n\n    //     }\n    //     favorite(currentUser, byway);\n    // }, []);\n\n    async function handleSubmit(evt) {\n        await BywayApi.favoriteAByway(currentUser.username, id);\n        setFavorite(id);\n        setHasBeenSet(true);\n        // set state variable to true\n    }\n\n//     return (\n//         <div>\n//             <div>\n//                 {/* {setFavorite(id)\n//                     ?\n//                     <Alert messages={[\"Byway added to your favorites.\"]} />\n//                     :  */}\n//                     {/* try in onSubmit? with a state variable that sets whether or not the byway has been favorited */}\n//                     <button onClick={handleSubmit}>\n//                         Add this byway to your favorites\n//                     </button>\n//             </div>\n//         </div>\n//     )\n// }\n\n        return (\n            <div>\n                {hasBeenSet\n                ? (\n                <Alert messages={[\"Byway added to your favorites.\"]} />\n                 ) : (\n                <button onClick={handleSubmit}>\n                    Add this byway to your favorites\n                </button>\n                 )}\n            </div>\n        )\n}\n\nexport default FavoriteAByway;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\nimport CommentForm from \"../actions/CommentForm\";\nimport FavoriteAByway from \"../actions/FavoriteAByway\";\nimport UserContext from \"../auth/UserContext\";\nimport moment from 'moment';\n// see Moment docs on display for how to format comment dates/times in different ways\nimport { useToasts } from 'react-toast-notifications';\n\n\nfunction BywayDetail() {\n    const { name } = useParams();\n    const { currentUser } = useContext(UserContext);\n    const { addToast } = useToasts();\n    const [byway, setByway] = useState(null);\n    const [comments, setComments] = useState([]);\n    const [isFavorite, setIsFavorite] = useState(false);\n\n\n    useEffect(() => {        \n        async function getByway(name) {\n            try {\n                const b = await BywayApi.getByway(name)\n                setByway(b);\n                const c = await BywayApi.getCommentsByByway(b.id);\n                setComments(c);\n                const favorites = await BywayApi.getUserFavorites(currentUser.username, \"name\", \"asc\");\n\n                if (favorites.find(i => i.byway_id === b.id)) {\n                    setIsFavorite(true);\n                } \n        } catch (errors) {\n            if (errors.length > 0) {\n                addToast(errors[0], { appearance: 'error' });\n            }\n            }\n        }    \n\n        getByway(name);\n    }, [name]);\n\n\n    // empty array makes it only happen first time\n\n    const addComment = (comment) => {\n        const updatedComments = [...comments, comment]\n        setComments(updatedComments);\n    }\n\n    function checkGeoFeaturesLength(byway) {\n        let tempString = byway.geographicFeatures\n        tempString = tempString[0].toUpperCase() + tempString.slice(1)\n        const splitted = tempString.split(',')\n        if (splitted.length >= 3) {\n            // if byway has 3 or more - features = Feature, feature and feature\n            // return byway.geographicFeatures.charAt(0).toUpperCase() + byway.geographicFeatures.replace(/(\"[^\"]+\"|\\w+)$/, \"and $1\").slice(1);\n            const comma_separated_list_until_last_element = splitted.slice(0, splitted.length - 1).join(', ')\n            // takes the splitted string, slices it from beginning up until the last element and joins them on comma, but there won't be a comma after the last feature, meaning we can add the last feature from splitted and return it at the end of this below with 'and' in front of it but no comma\n            return comma_separated_list_until_last_element + ' and ' + splitted[splitted.length - 1]\n            //return byway.geographicFeatures.charAt(0).toUpperCase() + byway.geographicFeatures.slice(1, lastIndex) + ' and' + byway.geographicFeatures(lastIndex + 1);\n        } else if (splitted.length === 2) {\n            // if byway has 2 - features = Feature and feature\n            // this replaced the comma with regex - return byway.geographicFeatures.charAt(0).toUpperCase() + byway.geographicFeatures.replace(/(\"[^\"]+\"|\\w+)$/, \"and $1\").slice(1);\n            const newString = splitted[0] + ' and' + splitted[1]\n            return newString.charAt(0).toUpperCase() + newString.slice(1)\n        } else if (splitted.length === 1) {\n            // if byway has 1 - features = Feature\n            // byway with one feature (charles street) showed 'no features verified'\n            // after adding the .length to byway.geoFeatures charles street shows '3 or more'\n            return splitted[0]\n        } else {\n            // if byway has none - 'No geographic features have been verified for this byway'\n            // byway with no features (hallowed ground) showed 'no features verified', maybe just because things are falling down to this part of the function\n            // after adding the .length to byway.geoFeatures this shows 'no features verified'\n            return \"No geographic features have been verified for this byway.\";\n\n        }\n        \n    }\n\n    return (\n        <div>\n            {byway\n                ? (\n                    <div>\n                        <h1>{byway.name}</h1>\n                        <img src={byway.image} alt={byway.name}></img>\n                        <h2>{byway.state}</h2>\n                        <h3>{byway.length} miles / { Math.round((parseFloat(byway.length) * 1.60934)) } kilometres</h3>\n                        <p><b>Fees:</b> {byway.fees}</p>\n                        {<p><b>Wondering what kind of natural settings you'll see on this byway?</b> {checkGeoFeaturesLength(byway)}.</p> }\n                        <p><b>About {byway.name}</b><br></br>{byway.description}</p>\n                        {isFavorite === true\n                        ? (\n                            <h4>Byway is in your favorites</h4>\n                        ) : (\n                            <FavoriteAByway id={byway.id} />\n                        )\n                        }\n                        <h4>Comment on {byway.name}</h4>\n                        <CommentForm name={byway.name} id={byway.id} onAdd={addComment}/>\n                        <div>\n                            {comments\n                            ? (\n                                <div>\n                                    {comments.map((c, i) => (\n                                        <div key={i}>\n                                            <h4>User <a href={`/profile/${c.username}`}>{c.username}</a> said this at {moment(c.create_at).format(\"MM/DD/YYYY hh:mm a\")}:</h4>\n                                            <p>{c.comment}</p>\n                                        </div>\n                                    ))}\n                                </div>\n                            ) : (\n                                <p>no one has commented</p>\n                            )\n                            }\n                        </div>\n\n                    </div>\n                    \n                ) : (\n                    <h1>no byway by that name</h1>\n                )\n            }\n        </div>\n    )\n}\n\nexport default BywayDetail;","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport BywayApi from \"../api/api\";\n\nfunction DisplayRandomByway() {\n    const history = useHistory();\n    const [byway, setByway] = useState(null);\n    \n    async function findOne() {\n        let byway = await BywayApi.getRandomByway();\n        setByway(byway);\n    }\n    // moved findOne function out of the useEffect so it's accessible to both the useEffect and handleSubmit\n\n    useEffect(() => {\n\n        findOne();\n    }, [])\n\n    function handleSubmit(evt) {\n        findOne();\n    }\n\n     function truncateCharCount(byway) {\n            if (byway.description.length > 500) {\n                return byway.description.slice(0,499) + \"... (continued on byway's page)\"\n            } else {\n                return byway.description;\n            }\n        }\n\n    return (\n        <div>\n            {byway\n                ? (\n                   <div> \n                    <h1>Check out {byway.name} in {byway.state}!</h1>\n                    <img src={byway.image} alt={byway.name}></img>\n                    <p>{truncateCharCount(byway)}</p>\n                    <Link to={`/byways/${byway.name}`}>Go to this byway's page to learn more, comment, and favorite {byway.name}.</Link>\n                    <br></br><button onClick={handleSubmit}>\n                        Try another byway\n                    </button>\n                    </div>\n                ) : (\n\n                    <p>the code don't work</p>\n                )\n                // pass in large amount of text and be sure it's not longer than 500\n                \n            }\n        </div>\n    )\n}\n\nexport default DisplayRandomByway;","import React from \"react\";\nimport DesignationSearch from \"./DesignationSearch\";\n\nfunction DesignationExplanation() {\n\n    return (\n        <div>\n            <p>To be designated as a National Scenic Byway, a byway must meet the criteria for at least one of six \"intrinsic qualities\": archeological, cultural, historic, natural, recreational, and scenic. The features contributing to the distinctive characteristics of the corridor’s intrinsic quality are recognized throughout the region and are considered regionally significant.</p><br></br>\n            <p>To be designated as an All-American Road, a byway must meet criteria for at least two intrinsic qualities that are nationally significant and have one-of-a-kind features that do not exist elsewhere. The road or highway must also be considered a \"destination unto itself.\" That is, the road must provide an exceptional traveling experience so recognized by travelers that they would make a drive along the highway a primary reason for their trip.</p>\n        </div>\n    )\n}\n\nexport default DesignationExplanation;","import React, { useState, useEffect } from \"react\";\nimport BywayApi from \"../api/api\";\n\nfunction UsersList() {\n\n    const [users, setUsers] = useState('');\n\n    useEffect(() => {\n        async function getUsers() {\n            const u = await BywayApi.getAllUsers();\n            setUsers(u.users);\n        }\n        getUsers();\n    }, []);\n\n    return (\n        <div>\n            {users.length\n            ? users.map((u, i) => (\n                        <div>\n\n                        <a key={i} href={`/profile/${u.username}`}>{u.username}</a>\n                        </div>\n                    ))\n               \n             : (\n                <h4>Sorry, no results found.</h4>\n            )}\n        </div>\n    )\n}\n\nexport default UsersList;","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport Homepage from \"../homepage/Homepage\";\nimport LoginForm from '../auth/LoginForm'\nimport SignupForm from '../auth/SignupForm'\nimport ProfileForm from \"../profiles/ProfileForm\";\nimport ProfilePage from \"../profiles/ProfilePage\"\nimport FilterSearch from \"../search/FilterSearch\";\nimport NoSearchResults from \"../common/NoSearchResults\"\nimport PrivateRoute from \"./PrivateRoute\";\nimport StateMenu from \"../byways/StateMenu\";\nimport StateDetail from \"../byways/StateDetail\";\nimport BywayDetail from \"../byways/BywayDetail\";\nimport DisplayRandomByway from \"../byways/RandomByway\";\nimport DesignationExplanation from \"../search/DesignationExplanation\";\nimport UsersList from \"../profiles/UsersList\"\n\n\n\nfunction Routes({ login, signup }) {\n    console.debug(\n        \"Routes\",\n        `login=${typeof login}`,\n        `register=${typeof register}`,\n    );\n  // private route component will check if there is a valid current user and only continues to the route if so. If no user is present, redirects to login form.\n    return (\n        <div>\n          <Switch>\n  \n            <Route exact path=\"/\">\n              <Homepage />\n            </Route>\n  \n            <Route exact path=\"/login\">\n              <LoginForm login={login} />\n            </Route>\n  \n            <Route exact path=\"/signup\">\n              <SignupForm signup={signup} />\n            </Route>\n\n{/* might just need to render the search form, see right above, not a filter search component */}\n            <PrivateRoute exact path=\"/search\">\n              <FilterSearch />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/noresults\">\n              <NoSearchResults />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/designations-explanation\">\n              <DesignationExplanation />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/users\">\n              <UsersList />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/profile\">\n              <ProfileForm />\n            </PrivateRoute>\n\n            <PrivateRoute path=\"/profile/:username\">\n              <ProfilePage />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/browse\">\n              <FilterSearch />\n            </PrivateRoute>\n\n            {/* not sure if i need to change this to browse/:name or browse to /states */}\n\n            <PrivateRoute exact path=\"/states\">\n              <StateMenu />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/states/:name\">\n              <StateDetail />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/byways/:name\">\n              <BywayDetail />\n            </PrivateRoute>\n\n            <PrivateRoute exact path=\"/random\">\n              <DisplayRandomByway />\n            </PrivateRoute>\n  \n            <Redirect to=\"/\" />\n          </Switch>\n        </div>\n    );\n  }\n  \n  export default Routes;\n  ","import { useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\n\nconst ScrollToTop = ({ children }) => {\n  const { pathname } = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [pathname]);\n\n  return children || null;\n};\n\nexport default ScrollToTop;","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport useLocalStorage from \"./hooks/useLocalStorage\";\nimport Navigation from \"./routes-nav/Navigation\";\nimport Routes from \"./routes-nav/Routes\";\nimport LoadingSpinner from \"./common/LoadingSpinner\";\nimport BywayApi from \"./api/api\";\nimport UserContext from \"./auth/UserContext\";\nimport jwt from \"jsonwebtoken\";\nimport ScrollToTop from \"./common/ScrollToTop\";\nimport { ToastProvider } from 'react-toast-notifications';\n\n// Key name for storing token in localStorage for \"remember me\" re-login\nexport const TOKEN_STORAGE_ID = \"scenic-token\";\n\n/** Byways application.\n *\n * - infoLoaded: has user data been pulled from API?\n *   (this manages spinner for \"loading...\")\n *\n * - currentUser: user obj from API. This becomes the canonical way to tell\n *   if someone is logged in. This is passed around via context throughout app.\n *\n * - token: for logged in users, this is their authentication JWT.\n *   Is required to be set for most API calls. This is initially read from\n *   localStorage and synced to there via the useLocalStorage hook.\n *\n * App -> Routes\n */\n\n\nfunction App() {\n  const [infoLoaded, setInfoLoaded] = useState(false);\n  const [applicationIds, setApplicationIds] = useState(new Set([]));\n  const [currentUser, setCurrentUser] = useState(null);\n  const [token, setToken] = useLocalStorage(TOKEN_STORAGE_ID);\n\n  console.debug(\n      \"App\",\n      \"infoLoaded=\", infoLoaded,\n      \"currentUser=\", currentUser,\n      \"token=\", token,\n  );\n\n  // Load user info from API. Until a user is logged in and they have a token,\n  // this should not run. It only needs to re-run when a user logs out, so\n  // the value of the token is a dependency for this effect.\n\n  useEffect(function loadUserInfo() {\n    console.debug(\"App useEffect loadUserInfo\", \"token=\", token);\n\n    async function getCurrentUser() {\n      if (token) {\n        try {\n          let { username } = jwt.decode(token);\n          // put the token on the Api class so it can use it to call the API.\n          BywayApi.token = token;\n          let currentUser = await BywayApi.getCurrentUser(username);\n          setCurrentUser(currentUser);\n          \n        } catch (err) {\n          console.error(\"App loadUserInfo: problem loading\", err);\n          setCurrentUser(null);\n        }\n      }\n      setInfoLoaded(true);\n    }\n\n    // set infoLoaded to false while async getCurrentUser runs; once the\n    // data is fetched (or even if an error happens!), this will be set back\n    // to false to control the spinner.\n    setInfoLoaded(false);\n    getCurrentUser();\n  }, [token]);\n\n  /** Handles site-wide logout. */\n  function logout() {\n    setCurrentUser(null);\n    setToken(null);\n  }\n\n  /** Handles site-wide signup.\n   *\n   * Automatically logs them in (set token) upon signup.\n   *\n   * Make sure you await this function and check its return value!\n   */\n  async function signup(signupData) {\n    try {\n      let token = await BywayApi.signup(signupData);\n      setToken(token);\n      return { success: true };\n    } catch (errors) {\n      console.error(\"signup failed\", errors);\n      return { success: false, errors };\n    }\n  }\n\n  /** Handles site-wide login.\n   *\n   * Make sure you await this function and check its return value!\n   */\n  async function login(loginData) {\n    try {\n      let token = await BywayApi.login(loginData);\n      setToken(token);\n      return { success: true };\n    } catch (errors) {\n      console.error(\"login failed\", errors);\n      return { success: false, errors };\n    }\n  }\n\n  if (!infoLoaded) return <LoadingSpinner />;\n\n  return (\n      <BrowserRouter>\n        <ToastProvider>\n          <ScrollToTop>\n            <UserContext.Provider\n                value={{ currentUser, setCurrentUser }}>\n              <div className=\"App\">\n                <Navigation logout={logout} />\n                <Routes login={login} signup={signup} logout={logout}/>\n              </div>\n            </UserContext.Provider>\n          </ScrollToTop>\n        </ToastProvider>\n      </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\n    ),\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n              \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\",\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n      .register(swUrl)\n      .then(registration => {\n        registration.onupdatefound = () => {\n          const installingWorker = registration.installing;\n          if (installingWorker == null) {\n            return;\n          }\n          installingWorker.onstatechange = () => {\n            if (installingWorker.state === \"installed\") {\n              if (navigator.serviceWorker.controller) {\n                // At this point, the updated precached content has been fetched,\n                // but the previous service worker will still serve the older\n                // content until all client tabs are closed.\n                console.log(\n                    \"New content is available and will be used when all \" +\n                    \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\",\n                );\n\n                // Execute callback\n                if (config && config.onUpdate) {\n                  config.onUpdate(registration);\n                }\n              } else {\n                // At this point, everything has been precached.\n                // It's the perfect time to display a\n                // \"Content is cached for offline use.\" message.\n                console.log(\"Content is cached for offline use.\");\n\n                // Execute callback\n                if (config && config.onSuccess) {\n                  config.onSuccess(registration);\n                }\n              }\n            }\n          };\n        };\n      })\n      .catch(error => {\n        console.error(\"Error during service worker registration:\", error);\n      });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n      .then(response => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get(\"content-type\");\n        if (\n            response.status === 404 ||\n            (contentType != null && contentType.indexOf(\"javascript\") === -1)\n        ) {\n          // No service worker found. Probably a different app. Reload the page.\n          navigator.serviceWorker.ready.then(registration => {\n            registration.unregister().then(() => {\n              window.location.reload();\n            });\n          });\n        } else {\n          // Service worker found. Proceed as normal.\n          registerValidSW(swUrl, config);\n        }\n      })\n      .catch(() => {\n        console.log(\n            \"No internet connection found. App is running in offline mode.\",\n        );\n      });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n        .then(registration => {\n          registration.unregister();\n        })\n        .catch(error => {\n          console.error(error.message);\n        });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"]}}